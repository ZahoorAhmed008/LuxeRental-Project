(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function sI(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Yw={exports:{}},ne={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mg=Symbol.for("react.transitional.element"),aI=Symbol.for("react.portal"),oI=Symbol.for("react.fragment"),lI=Symbol.for("react.strict_mode"),cI=Symbol.for("react.profiler"),uI=Symbol.for("react.consumer"),hI=Symbol.for("react.context"),fI=Symbol.for("react.forward_ref"),dI=Symbol.for("react.suspense"),mI=Symbol.for("react.memo"),Qw=Symbol.for("react.lazy"),wE=Symbol.iterator;function pI(t){return t===null||typeof t!="object"?null:(t=wE&&t[wE]||t["@@iterator"],typeof t=="function"?t:null)}var Xw={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Ww=Object.assign,Zw={};function Ya(t,e,n){this.props=t,this.context=e,this.refs=Zw,this.updater=n||Xw}Ya.prototype.isReactComponent={};Ya.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Ya.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Jw(){}Jw.prototype=Ya.prototype;function Vg(t,e,n){this.props=t,this.context=e,this.refs=Zw,this.updater=n||Xw}var kg=Vg.prototype=new Jw;kg.constructor=Vg;Ww(kg,Ya.prototype);kg.isPureReactComponent=!0;var TE=Array.isArray,De={H:null,A:null,T:null,S:null,V:null},eT=Object.prototype.hasOwnProperty;function Og(t,e,n,r,i,s){return n=s.ref,{$$typeof:Mg,type:t,key:e,ref:n!==void 0?n:null,props:s}}function gI(t,e){return Og(t.type,e,void 0,void 0,void 0,t.props)}function Lg(t){return typeof t=="object"&&t!==null&&t.$$typeof===Mg}function yI(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var xE=/\/+/g;function Ad(t,e){return typeof t=="object"&&t!==null&&t.key!=null?yI(""+t.key):e.toString(36)}function AE(){}function vI(t){switch(t.status){case"fulfilled":return t.value;case"rejected":throw t.reason;default:switch(typeof t.status=="string"?t.then(AE,AE):(t.status="pending",t.then(function(e){t.status==="pending"&&(t.status="fulfilled",t.value=e)},function(e){t.status==="pending"&&(t.status="rejected",t.reason=e)})),t.status){case"fulfilled":return t.value;case"rejected":throw t.reason}}throw t}function Fs(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(s){case"bigint":case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case Mg:case aI:a=!0;break;case Qw:return a=t._init,Fs(a(t._payload),e,n,r,i)}}if(a)return i=i(t),a=r===""?"."+Ad(t,0):r,TE(i)?(n="",a!=null&&(n=a.replace(xE,"$&/")+"/"),Fs(i,e,n,"",function(u){return u})):i!=null&&(Lg(i)&&(i=gI(i,n+(i.key==null||t&&t.key===i.key?"":(""+i.key).replace(xE,"$&/")+"/")+a)),e.push(i)),1;a=0;var o=r===""?".":r+":";if(TE(t))for(var l=0;l<t.length;l++)r=t[l],s=o+Ad(r,l),a+=Fs(r,e,n,s,i);else if(l=pI(t),typeof l=="function")for(t=l.call(t),l=0;!(r=t.next()).done;)r=r.value,s=o+Ad(r,l++),a+=Fs(r,e,n,s,i);else if(s==="object"){if(typeof t.then=="function")return Fs(vI(t),e,n,r,i);throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.")}return a}function Wc(t,e,n){if(t==null)return t;var r=[],i=0;return Fs(t,r,"","",function(s){return e.call(n,s,i++)}),r}function EI(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var SE=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function _I(){}ne.Children={map:Wc,forEach:function(t,e,n){Wc(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Wc(t,function(){e++}),e},toArray:function(t){return Wc(t,function(e){return e})||[]},only:function(t){if(!Lg(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ne.Component=Ya;ne.Fragment=oI;ne.Profiler=cI;ne.PureComponent=Vg;ne.StrictMode=lI;ne.Suspense=dI;ne.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=De;ne.__COMPILER_RUNTIME={__proto__:null,c:function(t){return De.H.useMemoCache(t)}};ne.cache=function(t){return function(){return t.apply(null,arguments)}};ne.cloneElement=function(t,e,n){if(t==null)throw Error("The argument must be a React element, but you passed "+t+".");var r=Ww({},t.props),i=t.key,s=void 0;if(e!=null)for(a in e.ref!==void 0&&(s=void 0),e.key!==void 0&&(i=""+e.key),e)!eT.call(e,a)||a==="key"||a==="__self"||a==="__source"||a==="ref"&&e.ref===void 0||(r[a]=e[a]);var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){for(var o=Array(a),l=0;l<a;l++)o[l]=arguments[l+2];r.children=o}return Og(t.type,i,void 0,void 0,s,r)};ne.createContext=function(t){return t={$$typeof:hI,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null},t.Provider=t,t.Consumer={$$typeof:uI,_context:t},t};ne.createElement=function(t,e,n){var r,i={},s=null;if(e!=null)for(r in e.key!==void 0&&(s=""+e.key),e)eT.call(e,r)&&r!=="key"&&r!=="__self"&&r!=="__source"&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var o=Array(a),l=0;l<a;l++)o[l]=arguments[l+2];i.children=o}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return Og(t,s,void 0,void 0,null,i)};ne.createRef=function(){return{current:null}};ne.forwardRef=function(t){return{$$typeof:fI,render:t}};ne.isValidElement=Lg;ne.lazy=function(t){return{$$typeof:Qw,_payload:{_status:-1,_result:t},_init:EI}};ne.memo=function(t,e){return{$$typeof:mI,type:t,compare:e===void 0?null:e}};ne.startTransition=function(t){var e=De.T,n={};De.T=n;try{var r=t(),i=De.S;i!==null&&i(n,r),typeof r=="object"&&r!==null&&typeof r.then=="function"&&r.then(_I,SE)}catch(s){SE(s)}finally{De.T=e}};ne.unstable_useCacheRefresh=function(){return De.H.useCacheRefresh()};ne.use=function(t){return De.H.use(t)};ne.useActionState=function(t,e,n){return De.H.useActionState(t,e,n)};ne.useCallback=function(t,e){return De.H.useCallback(t,e)};ne.useContext=function(t){return De.H.useContext(t)};ne.useDebugValue=function(){};ne.useDeferredValue=function(t,e){return De.H.useDeferredValue(t,e)};ne.useEffect=function(t,e,n){var r=De.H;if(typeof n=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return r.useEffect(t,e)};ne.useId=function(){return De.H.useId()};ne.useImperativeHandle=function(t,e,n){return De.H.useImperativeHandle(t,e,n)};ne.useInsertionEffect=function(t,e){return De.H.useInsertionEffect(t,e)};ne.useLayoutEffect=function(t,e){return De.H.useLayoutEffect(t,e)};ne.useMemo=function(t,e){return De.H.useMemo(t,e)};ne.useOptimistic=function(t,e){return De.H.useOptimistic(t,e)};ne.useReducer=function(t,e,n){return De.H.useReducer(t,e,n)};ne.useRef=function(t){return De.H.useRef(t)};ne.useState=function(t){return De.H.useState(t)};ne.useSyncExternalStore=function(t,e,n){return De.H.useSyncExternalStore(t,e,n)};ne.useTransition=function(){return De.H.useTransition()};ne.version="19.1.1";Yw.exports=ne;var I=Yw.exports;const h=sI(I);var tT={exports:{}},sf={},nT={exports:{}},rT={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(q,G){var $=q.length;q.push(G);e:for(;0<$;){var fe=$-1>>>1,_e=q[fe];if(0<i(_e,G))q[fe]=G,q[$]=_e,$=fe;else break e}}function n(q){return q.length===0?null:q[0]}function r(q){if(q.length===0)return null;var G=q[0],$=q.pop();if($!==G){q[0]=$;e:for(var fe=0,_e=q.length,qr=_e>>>1;fe<qr;){var Yt=2*(fe+1)-1,Ye=q[Yt],cr=Yt+1,Un=q[cr];if(0>i(Ye,$))cr<_e&&0>i(Un,Ye)?(q[fe]=Un,q[cr]=$,fe=cr):(q[fe]=Ye,q[Yt]=$,fe=Yt);else if(cr<_e&&0>i(Un,$))q[fe]=Un,q[cr]=$,fe=cr;else break e}}return G}function i(q,G){var $=q.sortIndex-G.sortIndex;return $!==0?$:q.id-G.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,o=a.now();t.unstable_now=function(){return a.now()-o}}var l=[],u=[],f=1,m=null,d=3,y=!1,x=!1,_=!1,S=!1,v=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,E=typeof setImmediate<"u"?setImmediate:null;function N(q){for(var G=n(u);G!==null;){if(G.callback===null)r(u);else if(G.startTime<=q)r(u),G.sortIndex=G.expirationTime,e(l,G);else break;G=n(u)}}function M(q){if(_=!1,N(q),!x)if(n(l)!==null)x=!0,L||(L=!0,V());else{var G=n(u);G!==null&&cn(M,G.startTime-q)}}var L=!1,A=-1,w=5,R=-1;function C(){return S?!0:!(t.unstable_now()-R<w)}function P(){if(S=!1,L){var q=t.unstable_now();R=q;var G=!0;try{e:{x=!1,_&&(_=!1,b(A),A=-1),y=!0;var $=d;try{t:{for(N(q),m=n(l);m!==null&&!(m.expirationTime>q&&C());){var fe=m.callback;if(typeof fe=="function"){m.callback=null,d=m.priorityLevel;var _e=fe(m.expirationTime<=q);if(q=t.unstable_now(),typeof _e=="function"){m.callback=_e,N(q),G=!0;break t}m===n(l)&&r(l),N(q)}else r(l);m=n(l)}if(m!==null)G=!0;else{var qr=n(u);qr!==null&&cn(M,qr.startTime-q),G=!1}}break e}finally{m=null,d=$,y=!1}G=void 0}}finally{G?V():L=!1}}}var V;if(typeof E=="function")V=function(){E(P)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,Ut=D.port2;D.port1.onmessage=P,V=function(){Ut.postMessage(null)}}else V=function(){v(P,0)};function cn(q,G){A=v(function(){q(t.unstable_now())},G)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(q){q.callback=null},t.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<q?Math.floor(1e3/q):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_next=function(q){switch(d){case 1:case 2:case 3:var G=3;break;default:G=d}var $=d;d=G;try{return q()}finally{d=$}},t.unstable_requestPaint=function(){S=!0},t.unstable_runWithPriority=function(q,G){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var $=d;d=q;try{return G()}finally{d=$}},t.unstable_scheduleCallback=function(q,G,$){var fe=t.unstable_now();switch(typeof $=="object"&&$!==null?($=$.delay,$=typeof $=="number"&&0<$?fe+$:fe):$=fe,q){case 1:var _e=-1;break;case 2:_e=250;break;case 5:_e=1073741823;break;case 4:_e=1e4;break;default:_e=5e3}return _e=$+_e,q={id:f++,callback:G,priorityLevel:q,startTime:$,expirationTime:_e,sortIndex:-1},$>fe?(q.sortIndex=$,e(u,q),n(l)===null&&q===n(u)&&(_?(b(A),A=-1):_=!0,cn(M,$-fe))):(q.sortIndex=_e,e(l,q),x||y||(x=!0,L||(L=!0,V()))),q},t.unstable_shouldYield=C,t.unstable_wrapCallback=function(q){var G=d;return function(){var $=d;d=G;try{return q.apply(this,arguments)}finally{d=$}}}})(rT);nT.exports=rT;var bI=nT.exports,iT={exports:{}},Lt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wI=I;function sT(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function Kr(){}var Vt={d:{f:Kr,r:function(){throw Error(sT(522))},D:Kr,C:Kr,L:Kr,m:Kr,X:Kr,S:Kr,M:Kr},p:0,findDOMNode:null},TI=Symbol.for("react.portal");function xI(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:TI,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}var Yo=wI.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function af(t,e){if(t==="font")return"";if(typeof e=="string")return e==="use-credentials"?e:""}Lt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Vt;Lt.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)throw Error(sT(299));return xI(t,e,null,n)};Lt.flushSync=function(t){var e=Yo.T,n=Vt.p;try{if(Yo.T=null,Vt.p=2,t)return t()}finally{Yo.T=e,Vt.p=n,Vt.d.f()}};Lt.preconnect=function(t,e){typeof t=="string"&&(e?(e=e.crossOrigin,e=typeof e=="string"?e==="use-credentials"?e:"":void 0):e=null,Vt.d.C(t,e))};Lt.prefetchDNS=function(t){typeof t=="string"&&Vt.d.D(t)};Lt.preinit=function(t,e){if(typeof t=="string"&&e&&typeof e.as=="string"){var n=e.as,r=af(n,e.crossOrigin),i=typeof e.integrity=="string"?e.integrity:void 0,s=typeof e.fetchPriority=="string"?e.fetchPriority:void 0;n==="style"?Vt.d.S(t,typeof e.precedence=="string"?e.precedence:void 0,{crossOrigin:r,integrity:i,fetchPriority:s}):n==="script"&&Vt.d.X(t,{crossOrigin:r,integrity:i,fetchPriority:s,nonce:typeof e.nonce=="string"?e.nonce:void 0})}};Lt.preinitModule=function(t,e){if(typeof t=="string")if(typeof e=="object"&&e!==null){if(e.as==null||e.as==="script"){var n=af(e.as,e.crossOrigin);Vt.d.M(t,{crossOrigin:n,integrity:typeof e.integrity=="string"?e.integrity:void 0,nonce:typeof e.nonce=="string"?e.nonce:void 0})}}else e==null&&Vt.d.M(t)};Lt.preload=function(t,e){if(typeof t=="string"&&typeof e=="object"&&e!==null&&typeof e.as=="string"){var n=e.as,r=af(n,e.crossOrigin);Vt.d.L(t,n,{crossOrigin:r,integrity:typeof e.integrity=="string"?e.integrity:void 0,nonce:typeof e.nonce=="string"?e.nonce:void 0,type:typeof e.type=="string"?e.type:void 0,fetchPriority:typeof e.fetchPriority=="string"?e.fetchPriority:void 0,referrerPolicy:typeof e.referrerPolicy=="string"?e.referrerPolicy:void 0,imageSrcSet:typeof e.imageSrcSet=="string"?e.imageSrcSet:void 0,imageSizes:typeof e.imageSizes=="string"?e.imageSizes:void 0,media:typeof e.media=="string"?e.media:void 0})}};Lt.preloadModule=function(t,e){if(typeof t=="string")if(e){var n=af(e.as,e.crossOrigin);Vt.d.m(t,{as:typeof e.as=="string"&&e.as!=="script"?e.as:void 0,crossOrigin:n,integrity:typeof e.integrity=="string"?e.integrity:void 0})}else Vt.d.m(t)};Lt.requestFormReset=function(t){Vt.d.r(t)};Lt.unstable_batchedUpdates=function(t,e){return t(e)};Lt.useFormState=function(t,e,n){return Yo.H.useFormState(t,e,n)};Lt.useFormStatus=function(){return Yo.H.useHostTransitionStatus()};Lt.version="19.1.1";function aT(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(aT)}catch(t){console.error(t)}}aT(),iT.exports=Lt;var AI=iT.exports;/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var st=bI,oT=I,SI=AI;function z(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function lT(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Zl(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function cT(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function RE(t){if(Zl(t)!==t)throw Error(z(188))}function RI(t){var e=t.alternate;if(!e){if(e=Zl(t),e===null)throw Error(z(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return RE(i),t;if(s===r)return RE(i),e;s=s.sibling}throw Error(z(188))}if(n.return!==r.return)n=i,r=s;else{for(var a=!1,o=i.child;o;){if(o===n){a=!0,n=i,r=s;break}if(o===r){a=!0,r=i,n=s;break}o=o.sibling}if(!a){for(o=s.child;o;){if(o===n){a=!0,n=s,r=i;break}if(o===r){a=!0,r=s,n=i;break}o=o.sibling}if(!a)throw Error(z(189))}}if(n.alternate!==r)throw Error(z(190))}if(n.tag!==3)throw Error(z(188));return n.stateNode.current===n?t:e}function uT(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t;for(t=t.child;t!==null;){if(e=uT(t),e!==null)return e;t=t.sibling}return null}var Ce=Object.assign,NI=Symbol.for("react.element"),Zc=Symbol.for("react.transitional.element"),Lo=Symbol.for("react.portal"),Xs=Symbol.for("react.fragment"),hT=Symbol.for("react.strict_mode"),Lm=Symbol.for("react.profiler"),CI=Symbol.for("react.provider"),fT=Symbol.for("react.consumer"),gr=Symbol.for("react.context"),Ug=Symbol.for("react.forward_ref"),Um=Symbol.for("react.suspense"),Bm=Symbol.for("react.suspense_list"),Bg=Symbol.for("react.memo"),Zr=Symbol.for("react.lazy"),zm=Symbol.for("react.activity"),II=Symbol.for("react.memo_cache_sentinel"),NE=Symbol.iterator;function Ro(t){return t===null||typeof t!="object"?null:(t=NE&&t[NE]||t["@@iterator"],typeof t=="function"?t:null)}var DI=Symbol.for("react.client.reference");function jm(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===DI?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Xs:return"Fragment";case Lm:return"Profiler";case hT:return"StrictMode";case Um:return"Suspense";case Bm:return"SuspenseList";case zm:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case Lo:return"Portal";case gr:return(t.displayName||"Context")+".Provider";case fT:return(t._context.displayName||"Context")+".Consumer";case Ug:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Bg:return e=t.displayName||null,e!==null?e:jm(t.type)||"Memo";case Zr:e=t._payload,t=t._init;try{return jm(t(e))}catch{}}return null}var Uo=Array.isArray,W=oT.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,pe=SI.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,is={pending:!1,data:null,method:null,action:null},Fm=[],Ws=-1;function ir(t){return{current:t}}function ut(t){0>Ws||(t.current=Fm[Ws],Fm[Ws]=null,Ws--)}function Pe(t,e){Ws++,Fm[Ws]=t.current,t.current=e}var qn=ir(null),_l=ir(null),di=ir(null),Zu=ir(null);function Ju(t,e){switch(Pe(di,e),Pe(_l,t),Pe(qn,null),e.nodeType){case 9:case 11:t=(t=e.documentElement)&&(t=t.namespaceURI)?M_(t):0;break;default:if(t=e.tagName,e=e.namespaceURI)e=M_(e),t=CA(e,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}ut(qn),Pe(qn,t)}function Ra(){ut(qn),ut(_l),ut(di)}function qm(t){t.memoizedState!==null&&Pe(Zu,t);var e=qn.current,n=CA(e,t.type);e!==n&&(Pe(_l,t),Pe(qn,n))}function eh(t){_l.current===t&&(ut(qn),ut(_l)),Zu.current===t&&(ut(Zu),Il._currentValue=is)}var Hm=Object.prototype.hasOwnProperty,zg=st.unstable_scheduleCallback,Sd=st.unstable_cancelCallback,PI=st.unstable_shouldYield,MI=st.unstable_requestPaint,Hn=st.unstable_now,VI=st.unstable_getCurrentPriorityLevel,dT=st.unstable_ImmediatePriority,mT=st.unstable_UserBlockingPriority,th=st.unstable_NormalPriority,kI=st.unstable_LowPriority,pT=st.unstable_IdlePriority,OI=st.log,LI=st.unstable_setDisableYieldValue,Jl=null,rn=null;function li(t){if(typeof OI=="function"&&LI(t),rn&&typeof rn.setStrictMode=="function")try{rn.setStrictMode(Jl,t)}catch{}}var sn=Math.clz32?Math.clz32:zI,UI=Math.log,BI=Math.LN2;function zI(t){return t>>>=0,t===0?32:31-(UI(t)/BI|0)|0}var Jc=256,eu=4194304;function Xi(t){var e=t&42;if(e!==0)return e;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function of(t,e,n){var r=t.pendingLanes;if(r===0)return 0;var i=0,s=t.suspendedLanes,a=t.pingedLanes;t=t.warmLanes;var o=r&134217727;return o!==0?(r=o&~s,r!==0?i=Xi(r):(a&=o,a!==0?i=Xi(a):n||(n=o&~t,n!==0&&(i=Xi(n))))):(o=r&~s,o!==0?i=Xi(o):a!==0?i=Xi(a):n||(n=r&~t,n!==0&&(i=Xi(n)))),i===0?0:e!==0&&e!==i&&!(e&s)&&(s=i&-i,n=e&-e,s>=n||s===32&&(n&4194048)!==0)?e:i}function ec(t,e){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&e)===0}function jI(t,e){switch(t){case 1:case 2:case 4:case 8:case 64:return e+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function gT(){var t=Jc;return Jc<<=1,!(Jc&4194048)&&(Jc=256),t}function yT(){var t=eu;return eu<<=1,!(eu&62914560)&&(eu=4194304),t}function Rd(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function tc(t,e){t.pendingLanes|=e,e!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function FI(t,e,n,r,i,s){var a=t.pendingLanes;t.pendingLanes=n,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=n,t.entangledLanes&=n,t.errorRecoveryDisabledLanes&=n,t.shellSuspendCounter=0;var o=t.entanglements,l=t.expirationTimes,u=t.hiddenUpdates;for(n=a&~n;0<n;){var f=31-sn(n),m=1<<f;o[f]=0,l[f]=-1;var d=u[f];if(d!==null)for(u[f]=null,f=0;f<d.length;f++){var y=d[f];y!==null&&(y.lane&=-536870913)}n&=~m}r!==0&&vT(t,r,0),s!==0&&i===0&&t.tag!==0&&(t.suspendedLanes|=s&~(a&~e))}function vT(t,e,n){t.pendingLanes|=e,t.suspendedLanes&=~e;var r=31-sn(e);t.entangledLanes|=e,t.entanglements[r]=t.entanglements[r]|1073741824|n&4194090}function ET(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-sn(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}function jg(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Fg(t){return t&=-t,2<t?8<t?t&134217727?32:268435456:8:2}function _T(){var t=pe.p;return t!==0?t:(t=window.event,t===void 0?32:BA(t.type))}function qI(t,e){var n=pe.p;try{return pe.p=t,e()}finally{pe.p=n}}var Li=Math.random().toString(36).slice(2),At="__reactFiber$"+Li,$t="__reactProps$"+Li,Qa="__reactContainer$"+Li,Gm="__reactEvents$"+Li,HI="__reactListeners$"+Li,GI="__reactHandles$"+Li,CE="__reactResources$"+Li,nc="__reactMarker$"+Li;function qg(t){delete t[At],delete t[$t],delete t[Gm],delete t[HI],delete t[GI]}function Zs(t){var e=t[At];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Qa]||n[At]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=O_(t);t!==null;){if(n=t[At])return n;t=O_(t)}return e}t=n,n=t.parentNode}return null}function Xa(t){if(t=t[At]||t[Qa]){var e=t.tag;if(e===5||e===6||e===13||e===26||e===27||e===3)return t}return null}function Bo(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t.stateNode;throw Error(z(33))}function ma(t){var e=t[CE];return e||(e=t[CE]={hoistableStyles:new Map,hoistableScripts:new Map}),e}function lt(t){t[nc]=!0}var bT=new Set,wT={};function Rs(t,e){Na(t,e),Na(t+"Capture",e)}function Na(t,e){for(wT[t]=e,t=0;t<e.length;t++)bT.add(e[t])}var $I=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),IE={},DE={};function KI(t){return Hm.call(DE,t)?!0:Hm.call(IE,t)?!1:$I.test(t)?DE[t]=!0:(IE[t]=!0,!1)}function Tu(t,e,n){if(KI(e))if(n===null)t.removeAttribute(e);else{switch(typeof n){case"undefined":case"function":case"symbol":t.removeAttribute(e);return;case"boolean":var r=e.toLowerCase().slice(0,5);if(r!=="data-"&&r!=="aria-"){t.removeAttribute(e);return}}t.setAttribute(e,""+n)}}function tu(t,e,n){if(n===null)t.removeAttribute(e);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(e);return}t.setAttribute(e,""+n)}}function fr(t,e,n,r){if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttributeNS(e,n,""+r)}}var Nd,PE;function qs(t){if(Nd===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Nd=e&&e[1]||"",PE=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Nd+t+PE}var Cd=!1;function Id(t,e){if(!t||Cd)return"";Cd=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(e){var m=function(){throw Error()};if(Object.defineProperty(m.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(m,[])}catch(y){var d=y}Reflect.construct(t,[],m)}else{try{m.call()}catch(y){d=y}t.call(m.prototype)}}else{try{throw Error()}catch(y){d=y}(m=t())&&typeof m.catch=="function"&&m.catch(function(){})}}catch(y){if(y&&d&&typeof y.stack=="string")return[y.stack,d.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var i=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");i&&i.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var s=r.DetermineComponentFrameRoot(),a=s[0],o=s[1];if(a&&o){var l=a.split(`
`),u=o.split(`
`);for(i=r=0;r<l.length&&!l[r].includes("DetermineComponentFrameRoot");)r++;for(;i<u.length&&!u[i].includes("DetermineComponentFrameRoot");)i++;if(r===l.length||i===u.length)for(r=l.length-1,i=u.length-1;1<=r&&0<=i&&l[r]!==u[i];)i--;for(;1<=r&&0<=i;r--,i--)if(l[r]!==u[i]){if(r!==1||i!==1)do if(r--,i--,0>i||l[r]!==u[i]){var f=`
`+l[r].replace(" at new "," at ");return t.displayName&&f.includes("<anonymous>")&&(f=f.replace("<anonymous>",t.displayName)),f}while(1<=r&&0<=i);break}}}finally{Cd=!1,Error.prepareStackTrace=n}return(n=t?t.displayName||t.name:"")?qs(n):""}function YI(t){switch(t.tag){case 26:case 27:case 5:return qs(t.type);case 16:return qs("Lazy");case 13:return qs("Suspense");case 19:return qs("SuspenseList");case 0:case 15:return Id(t.type,!1);case 11:return Id(t.type.render,!1);case 1:return Id(t.type,!0);case 31:return qs("Activity");default:return""}}function ME(t){try{var e="";do e+=YI(t),t=t.return;while(t);return e}catch(n){return`
Error generating stack: `+n.message+`
`+n.stack}}function dn(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function TT(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function QI(t){var e=TT(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(a){r=""+a,s.call(this,a)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function nh(t){t._valueTracker||(t._valueTracker=QI(t))}function xT(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=TT(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function rh(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var XI=/[\n"\\]/g;function gn(t){return t.replace(XI,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function $m(t,e,n,r,i,s,a,o){t.name="",a!=null&&typeof a!="function"&&typeof a!="symbol"&&typeof a!="boolean"?t.type=a:t.removeAttribute("type"),e!=null?a==="number"?(e===0&&t.value===""||t.value!=e)&&(t.value=""+dn(e)):t.value!==""+dn(e)&&(t.value=""+dn(e)):a!=="submit"&&a!=="reset"||t.removeAttribute("value"),e!=null?Km(t,a,dn(e)):n!=null?Km(t,a,dn(n)):r!=null&&t.removeAttribute("value"),i==null&&s!=null&&(t.defaultChecked=!!s),i!=null&&(t.checked=i&&typeof i!="function"&&typeof i!="symbol"),o!=null&&typeof o!="function"&&typeof o!="symbol"&&typeof o!="boolean"?t.name=""+dn(o):t.removeAttribute("name")}function AT(t,e,n,r,i,s,a,o){if(s!=null&&typeof s!="function"&&typeof s!="symbol"&&typeof s!="boolean"&&(t.type=s),e!=null||n!=null){if(!(s!=="submit"&&s!=="reset"||e!=null))return;n=n!=null?""+dn(n):"",e=e!=null?""+dn(e):n,o||e===t.value||(t.value=e),t.defaultValue=e}r=r??i,r=typeof r!="function"&&typeof r!="symbol"&&!!r,t.checked=o?t.checked:!!r,t.defaultChecked=!!r,a!=null&&typeof a!="function"&&typeof a!="symbol"&&typeof a!="boolean"&&(t.name=a)}function Km(t,e,n){e==="number"&&rh(t.ownerDocument)===t||t.defaultValue===""+n||(t.defaultValue=""+n)}function pa(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+dn(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function ST(t,e,n){if(e!=null&&(e=""+dn(e),e!==t.value&&(t.value=e),n==null)){t.defaultValue!==e&&(t.defaultValue=e);return}t.defaultValue=n!=null?""+dn(n):""}function RT(t,e,n,r){if(e==null){if(r!=null){if(n!=null)throw Error(z(92));if(Uo(r)){if(1<r.length)throw Error(z(93));r=r[0]}n=r}n==null&&(n=""),e=n}n=dn(e),t.defaultValue=n,r=t.textContent,r===n&&r!==""&&r!==null&&(t.value=r)}function Ca(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var WI=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function VE(t,e,n){var r=e.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?r?t.setProperty(e,""):e==="float"?t.cssFloat="":t[e]="":r?t.setProperty(e,n):typeof n!="number"||n===0||WI.has(e)?e==="float"?t.cssFloat=n:t[e]=(""+n).trim():t[e]=n+"px"}function NT(t,e,n){if(e!=null&&typeof e!="object")throw Error(z(62));if(t=t.style,n!=null){for(var r in n)!n.hasOwnProperty(r)||e!=null&&e.hasOwnProperty(r)||(r.indexOf("--")===0?t.setProperty(r,""):r==="float"?t.cssFloat="":t[r]="");for(var i in e)r=e[i],e.hasOwnProperty(i)&&n[i]!==r&&VE(t,i,r)}else for(var s in e)e.hasOwnProperty(s)&&VE(t,s,e[s])}function Hg(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ZI=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),JI=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function xu(t){return JI.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var Ym=null;function Gg(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Js=null,ga=null;function kE(t){var e=Xa(t);if(e&&(t=e.stateNode)){var n=t[$t]||null;e:switch(t=e.stateNode,e.type){case"input":if($m(t,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+gn(""+e)+'"][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=r[$t]||null;if(!i)throw Error(z(90));$m(r,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name)}}for(e=0;e<n.length;e++)r=n[e],r.form===t.form&&xT(r)}break e;case"textarea":ST(t,n.value,n.defaultValue);break e;case"select":e=n.value,e!=null&&pa(t,!!n.multiple,e,!1)}}}var Dd=!1;function CT(t,e,n){if(Dd)return t(e,n);Dd=!0;try{var r=t(e);return r}finally{if(Dd=!1,(Js!==null||ga!==null)&&(yf(),Js&&(e=Js,t=ga,ga=Js=null,kE(e),t)))for(e=0;e<t.length;e++)kE(t[e])}}function bl(t,e){var n=t.stateNode;if(n===null)return null;var r=n[$t]||null;if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(z(231,e,typeof n));return n}var Nr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Qm=!1;if(Nr)try{var No={};Object.defineProperty(No,"passive",{get:function(){Qm=!0}}),window.addEventListener("test",No,No),window.removeEventListener("test",No,No)}catch{Qm=!1}var ci=null,$g=null,Au=null;function IT(){if(Au)return Au;var t,e=$g,n=e.length,r,i="value"in ci?ci.value:ci.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var a=n-t;for(r=1;r<=a&&e[n-r]===i[s-r];r++);return Au=i.slice(t,1<r?1-r:void 0)}function Su(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function nu(){return!0}function OE(){return!1}function Kt(t){function e(n,r,i,s,a){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=a,this.currentTarget=null;for(var o in t)t.hasOwnProperty(o)&&(n=t[o],this[o]=n?n(s):s[o]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?nu:OE,this.isPropagationStopped=OE,this}return Ce(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=nu)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=nu)},persist:function(){},isPersistent:nu}),e}var Ns={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},lf=Kt(Ns),rc=Ce({},Ns,{view:0,detail:0}),eD=Kt(rc),Pd,Md,Co,cf=Ce({},rc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Kg,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Co&&(Co&&t.type==="mousemove"?(Pd=t.screenX-Co.screenX,Md=t.screenY-Co.screenY):Md=Pd=0,Co=t),Pd)},movementY:function(t){return"movementY"in t?t.movementY:Md}}),LE=Kt(cf),tD=Ce({},cf,{dataTransfer:0}),nD=Kt(tD),rD=Ce({},rc,{relatedTarget:0}),Vd=Kt(rD),iD=Ce({},Ns,{animationName:0,elapsedTime:0,pseudoElement:0}),sD=Kt(iD),aD=Ce({},Ns,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),oD=Kt(aD),lD=Ce({},Ns,{data:0}),UE=Kt(lD),cD={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},uD={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},hD={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function fD(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=hD[t])?!!e[t]:!1}function Kg(){return fD}var dD=Ce({},rc,{key:function(t){if(t.key){var e=cD[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Su(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?uD[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Kg,charCode:function(t){return t.type==="keypress"?Su(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Su(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),mD=Kt(dD),pD=Ce({},cf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),BE=Kt(pD),gD=Ce({},rc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Kg}),yD=Kt(gD),vD=Ce({},Ns,{propertyName:0,elapsedTime:0,pseudoElement:0}),ED=Kt(vD),_D=Ce({},cf,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),bD=Kt(_D),wD=Ce({},Ns,{newState:0,oldState:0}),TD=Kt(wD),xD=[9,13,27,32],Yg=Nr&&"CompositionEvent"in window,Qo=null;Nr&&"documentMode"in document&&(Qo=document.documentMode);var AD=Nr&&"TextEvent"in window&&!Qo,DT=Nr&&(!Yg||Qo&&8<Qo&&11>=Qo),zE=" ",jE=!1;function PT(t,e){switch(t){case"keyup":return xD.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function MT(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ea=!1;function SD(t,e){switch(t){case"compositionend":return MT(e);case"keypress":return e.which!==32?null:(jE=!0,zE);case"textInput":return t=e.data,t===zE&&jE?null:t;default:return null}}function RD(t,e){if(ea)return t==="compositionend"||!Yg&&PT(t,e)?(t=IT(),Au=$g=ci=null,ea=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return DT&&e.locale!=="ko"?null:e.data;default:return null}}var ND={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function FE(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!ND[t.type]:e==="textarea"}function VT(t,e,n,r){Js?ga?ga.push(r):ga=[r]:Js=r,e=bh(e,"onChange"),0<e.length&&(n=new lf("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Xo=null,wl=null;function CD(t){SA(t,0)}function uf(t){var e=Bo(t);if(xT(e))return t}function qE(t,e){if(t==="change")return e}var kT=!1;if(Nr){var kd;if(Nr){var Od="oninput"in document;if(!Od){var HE=document.createElement("div");HE.setAttribute("oninput","return;"),Od=typeof HE.oninput=="function"}kd=Od}else kd=!1;kT=kd&&(!document.documentMode||9<document.documentMode)}function GE(){Xo&&(Xo.detachEvent("onpropertychange",OT),wl=Xo=null)}function OT(t){if(t.propertyName==="value"&&uf(wl)){var e=[];VT(e,wl,t,Gg(t)),CT(CD,e)}}function ID(t,e,n){t==="focusin"?(GE(),Xo=e,wl=n,Xo.attachEvent("onpropertychange",OT)):t==="focusout"&&GE()}function DD(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return uf(wl)}function PD(t,e){if(t==="click")return uf(e)}function MD(t,e){if(t==="input"||t==="change")return uf(e)}function VD(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var ln=typeof Object.is=="function"?Object.is:VD;function Tl(t,e){if(ln(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Hm.call(e,i)||!ln(t[i],e[i]))return!1}return!0}function $E(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function KE(t,e){var n=$E(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=$E(n)}}function LT(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?LT(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function UT(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var e=rh(t.document);e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=rh(t.document)}return e}function Qg(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}var kD=Nr&&"documentMode"in document&&11>=document.documentMode,ta=null,Xm=null,Wo=null,Wm=!1;function YE(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Wm||ta==null||ta!==rh(r)||(r=ta,"selectionStart"in r&&Qg(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Wo&&Tl(Wo,r)||(Wo=r,r=bh(Xm,"onSelect"),0<r.length&&(e=new lf("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=ta)))}function Yi(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var na={animationend:Yi("Animation","AnimationEnd"),animationiteration:Yi("Animation","AnimationIteration"),animationstart:Yi("Animation","AnimationStart"),transitionrun:Yi("Transition","TransitionRun"),transitionstart:Yi("Transition","TransitionStart"),transitioncancel:Yi("Transition","TransitionCancel"),transitionend:Yi("Transition","TransitionEnd")},Ld={},BT={};Nr&&(BT=document.createElement("div").style,"AnimationEvent"in window||(delete na.animationend.animation,delete na.animationiteration.animation,delete na.animationstart.animation),"TransitionEvent"in window||delete na.transitionend.transition);function Cs(t){if(Ld[t])return Ld[t];if(!na[t])return t;var e=na[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in BT)return Ld[t]=e[n];return t}var zT=Cs("animationend"),jT=Cs("animationiteration"),FT=Cs("animationstart"),OD=Cs("transitionrun"),LD=Cs("transitionstart"),UD=Cs("transitioncancel"),qT=Cs("transitionend"),HT=new Map,Zm="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Zm.push("scrollEnd");function kn(t,e){HT.set(t,e),Rs(e,[t])}var QE=new WeakMap;function yn(t,e){if(typeof t=="object"&&t!==null){var n=QE.get(t);return n!==void 0?n:(e={value:t,source:e,stack:ME(e)},QE.set(t,e),e)}return{value:t,source:e,stack:ME(e)}}var fn=[],ra=0,Xg=0;function hf(){for(var t=ra,e=Xg=ra=0;e<t;){var n=fn[e];fn[e++]=null;var r=fn[e];fn[e++]=null;var i=fn[e];fn[e++]=null;var s=fn[e];if(fn[e++]=null,r!==null&&i!==null){var a=r.pending;a===null?i.next=i:(i.next=a.next,a.next=i),r.pending=i}s!==0&&GT(n,i,s)}}function ff(t,e,n,r){fn[ra++]=t,fn[ra++]=e,fn[ra++]=n,fn[ra++]=r,Xg|=r,t.lanes|=r,t=t.alternate,t!==null&&(t.lanes|=r)}function Wg(t,e,n,r){return ff(t,e,n,r),ih(t)}function Wa(t,e){return ff(t,null,null,e),ih(t)}function GT(t,e,n){t.lanes|=n;var r=t.alternate;r!==null&&(r.lanes|=n);for(var i=!1,s=t.return;s!==null;)s.childLanes|=n,r=s.alternate,r!==null&&(r.childLanes|=n),s.tag===22&&(t=s.stateNode,t===null||t._visibility&1||(i=!0)),t=s,s=s.return;return t.tag===3?(s=t.stateNode,i&&e!==null&&(i=31-sn(n),t=s.hiddenUpdates,r=t[i],r===null?t[i]=[e]:r.push(e),e.lane=n|536870912),s):null}function ih(t){if(50<ol)throw ol=0,Ep=null,Error(z(185));for(var e=t.return;e!==null;)t=e,e=t.return;return t.tag===3?t.stateNode:null}var ia={};function BD(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function en(t,e,n,r){return new BD(t,e,n,r)}function Zg(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Tr(t,e){var n=t.alternate;return n===null?(n=en(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&65011712,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n.refCleanup=t.refCleanup,n}function $T(t,e){t.flags&=65011714;var n=t.alternate;return n===null?(t.childLanes=0,t.lanes=e,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,t.type=n.type,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),t}function Ru(t,e,n,r,i,s){var a=0;if(r=t,typeof t=="function")Zg(t)&&(a=1);else if(typeof t=="string")a=jP(t,n,qn.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case zm:return t=en(31,n,e,i),t.elementType=zm,t.lanes=s,t;case Xs:return ss(n.children,i,s,e);case hT:a=8,i|=24;break;case Lm:return t=en(12,n,e,i|2),t.elementType=Lm,t.lanes=s,t;case Um:return t=en(13,n,e,i),t.elementType=Um,t.lanes=s,t;case Bm:return t=en(19,n,e,i),t.elementType=Bm,t.lanes=s,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case CI:case gr:a=10;break e;case fT:a=9;break e;case Ug:a=11;break e;case Bg:a=14;break e;case Zr:a=16,r=null;break e}a=29,n=Error(z(130,t===null?"null":typeof t,"")),r=null}return e=en(a,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function ss(t,e,n,r){return t=en(7,t,r,e),t.lanes=n,t}function Ud(t,e,n){return t=en(6,t,null,e),t.lanes=n,t}function Bd(t,e,n){return e=en(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}var sa=[],aa=0,sh=null,ah=0,mn=[],pn=0,as=null,yr=1,vr="";function Wi(t,e){sa[aa++]=ah,sa[aa++]=sh,sh=t,ah=e}function KT(t,e,n){mn[pn++]=yr,mn[pn++]=vr,mn[pn++]=as,as=t;var r=yr;t=vr;var i=32-sn(r)-1;r&=~(1<<i),n+=1;var s=32-sn(e)+i;if(30<s){var a=i-i%5;s=(r&(1<<a)-1).toString(32),r>>=a,i-=a,yr=1<<32-sn(e)+i|n<<i|r,vr=s+t}else yr=1<<s|n<<i|r,vr=t}function Jg(t){t.return!==null&&(Wi(t,1),KT(t,1,0))}function ey(t){for(;t===sh;)sh=sa[--aa],sa[aa]=null,ah=sa[--aa],sa[aa]=null;for(;t===as;)as=mn[--pn],mn[pn]=null,vr=mn[--pn],mn[pn]=null,yr=mn[--pn],mn[pn]=null}var Mt=null,ze=null,me=!1,os=null,jn=!1,Jm=Error(z(519));function gs(t){var e=Error(z(418,""));throw xl(yn(e,t)),Jm}function XE(t){var e=t.stateNode,n=t.type,r=t.memoizedProps;switch(e[At]=t,e[$t]=r,n){case"dialog":se("cancel",e),se("close",e);break;case"iframe":case"object":case"embed":se("load",e);break;case"video":case"audio":for(n=0;n<Rl.length;n++)se(Rl[n],e);break;case"source":se("error",e);break;case"img":case"image":case"link":se("error",e),se("load",e);break;case"details":se("toggle",e);break;case"input":se("invalid",e),AT(e,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0),nh(e);break;case"select":se("invalid",e);break;case"textarea":se("invalid",e),RT(e,r.value,r.defaultValue,r.children),nh(e)}n=r.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||e.textContent===""+n||r.suppressHydrationWarning===!0||NA(e.textContent,n)?(r.popover!=null&&(se("beforetoggle",e),se("toggle",e)),r.onScroll!=null&&se("scroll",e),r.onScrollEnd!=null&&se("scrollend",e),r.onClick!=null&&(e.onclick=_f),e=!0):e=!1,e||gs(t)}function WE(t){for(Mt=t.return;Mt;)switch(Mt.tag){case 5:case 13:jn=!1;return;case 27:case 3:jn=!0;return;default:Mt=Mt.return}}function Io(t){if(t!==Mt)return!1;if(!me)return WE(t),me=!0,!1;var e=t.tag,n;if((n=e!==3&&e!==27)&&((n=e===5)&&(n=t.type,n=!(n!=="form"&&n!=="button")||Ap(t.type,t.memoizedProps)),n=!n),n&&ze&&gs(t),WE(t),e===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(z(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8)if(n=t.data,n==="/$"){if(e===0){ze=Dn(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++;t=t.nextSibling}ze=null}}else e===27?(e=ze,Ui(t.type)?(t=Np,Np=null,ze=t):ze=e):ze=Mt?Dn(t.stateNode.nextSibling):null;return!0}function ic(){ze=Mt=null,me=!1}function ZE(){var t=os;return t!==null&&(jt===null?jt=t:jt.push.apply(jt,t),os=null),t}function xl(t){os===null?os=[t]:os.push(t)}var ep=ir(null),Is=null,Er=null;function ei(t,e,n){Pe(ep,e._currentValue),e._currentValue=n}function xr(t){t._currentValue=ep.current,ut(ep)}function tp(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function np(t,e,n,r){var i=t.child;for(i!==null&&(i.return=t);i!==null;){var s=i.dependencies;if(s!==null){var a=i.child;s=s.firstContext;e:for(;s!==null;){var o=s;s=i;for(var l=0;l<e.length;l++)if(o.context===e[l]){s.lanes|=n,o=s.alternate,o!==null&&(o.lanes|=n),tp(s.return,n,t),r||(a=null);break e}s=o.next}}else if(i.tag===18){if(a=i.return,a===null)throw Error(z(341));a.lanes|=n,s=a.alternate,s!==null&&(s.lanes|=n),tp(a,n,t),a=null}else a=i.child;if(a!==null)a.return=i;else for(a=i;a!==null;){if(a===t){a=null;break}if(i=a.sibling,i!==null){i.return=a.return,a=i;break}a=a.return}i=a}}function sc(t,e,n,r){t=null;for(var i=e,s=!1;i!==null;){if(!s){if(i.flags&524288)s=!0;else if(i.flags&262144)break}if(i.tag===10){var a=i.alternate;if(a===null)throw Error(z(387));if(a=a.memoizedProps,a!==null){var o=i.type;ln(i.pendingProps.value,a.value)||(t!==null?t.push(o):t=[o])}}else if(i===Zu.current){if(a=i.alternate,a===null)throw Error(z(387));a.memoizedState.memoizedState!==i.memoizedState.memoizedState&&(t!==null?t.push(Il):t=[Il])}i=i.return}t!==null&&np(e,t,n,r),e.flags|=262144}function oh(t){for(t=t.firstContext;t!==null;){if(!ln(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function ys(t){Is=t,Er=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function St(t){return YT(Is,t)}function ru(t,e){return Is===null&&ys(t),YT(t,e)}function YT(t,e){var n=e._currentValue;if(e={context:e,memoizedValue:n,next:null},Er===null){if(t===null)throw Error(z(308));Er=e,t.dependencies={lanes:0,firstContext:e},t.flags|=524288}else Er=Er.next=e;return n}var zD=typeof AbortController<"u"?AbortController:function(){var t=[],e=this.signal={aborted:!1,addEventListener:function(n,r){t.push(r)}};this.abort=function(){e.aborted=!0,t.forEach(function(n){return n()})}},jD=st.unstable_scheduleCallback,FD=st.unstable_NormalPriority,nt={$$typeof:gr,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function ty(){return{controller:new zD,data:new Map,refCount:0}}function ac(t){t.refCount--,t.refCount===0&&jD(FD,function(){t.controller.abort()})}var Zo=null,rp=0,Ia=0,ya=null;function qD(t,e){if(Zo===null){var n=Zo=[];rp=0,Ia=xy(),ya={status:"pending",value:void 0,then:function(r){n.push(r)}}}return rp++,e.then(JE,JE),e}function JE(){if(--rp===0&&Zo!==null){ya!==null&&(ya.status="fulfilled");var t=Zo;Zo=null,Ia=0,ya=null;for(var e=0;e<t.length;e++)(0,t[e])()}}function HD(t,e){var n=[],r={status:"pending",value:null,reason:null,then:function(i){n.push(i)}};return t.then(function(){r.status="fulfilled",r.value=e;for(var i=0;i<n.length;i++)(0,n[i])(e)},function(i){for(r.status="rejected",r.reason=i,i=0;i<n.length;i++)(0,n[i])(void 0)}),r}var e_=W.S;W.S=function(t,e){typeof e=="object"&&e!==null&&typeof e.then=="function"&&qD(t,e),e_!==null&&e_(t,e)};var ls=ir(null);function ny(){var t=ls.current;return t!==null?t:Se.pooledCache}function Nu(t,e){e===null?Pe(ls,ls.current):Pe(ls,e.pool)}function QT(){var t=ny();return t===null?null:{parent:nt._currentValue,pool:t}}var oc=Error(z(460)),XT=Error(z(474)),df=Error(z(542)),ip={then:function(){}};function t_(t){return t=t.status,t==="fulfilled"||t==="rejected"}function iu(){}function WT(t,e,n){switch(n=t[n],n===void 0?t.push(e):n!==e&&(e.then(iu,iu),e=n),e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,r_(t),t;default:if(typeof e.status=="string")e.then(iu,iu);else{if(t=Se,t!==null&&100<t.shellSuspendCounter)throw Error(z(482));t=e,t.status="pending",t.then(function(r){if(e.status==="pending"){var i=e;i.status="fulfilled",i.value=r}},function(r){if(e.status==="pending"){var i=e;i.status="rejected",i.reason=r}})}switch(e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,r_(t),t}throw Jo=e,oc}}var Jo=null;function n_(){if(Jo===null)throw Error(z(459));var t=Jo;return Jo=null,t}function r_(t){if(t===oc||t===df)throw Error(z(483))}var Jr=!1;function ry(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function sp(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function mi(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function pi(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Ee&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,e=ih(t),GT(t,null,n),e}return ff(t,r,e,n),ih(t)}function el(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194048)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,ET(t,n)}}function zd(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var a={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};s===null?i=s=a:s=s.next=a,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,callbacks:r.callbacks},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}var ap=!1;function tl(){if(ap){var t=ya;if(t!==null)throw t}}function nl(t,e,n,r){ap=!1;var i=t.updateQueue;Jr=!1;var s=i.firstBaseUpdate,a=i.lastBaseUpdate,o=i.shared.pending;if(o!==null){i.shared.pending=null;var l=o,u=l.next;l.next=null,a===null?s=u:a.next=u,a=l;var f=t.alternate;f!==null&&(f=f.updateQueue,o=f.lastBaseUpdate,o!==a&&(o===null?f.firstBaseUpdate=u:o.next=u,f.lastBaseUpdate=l))}if(s!==null){var m=i.baseState;a=0,f=u=l=null,o=s;do{var d=o.lane&-536870913,y=d!==o.lane;if(y?(he&d)===d:(r&d)===d){d!==0&&d===Ia&&(ap=!0),f!==null&&(f=f.next={lane:0,tag:o.tag,payload:o.payload,callback:null,next:null});e:{var x=t,_=o;d=e;var S=n;switch(_.tag){case 1:if(x=_.payload,typeof x=="function"){m=x.call(S,m,d);break e}m=x;break e;case 3:x.flags=x.flags&-65537|128;case 0:if(x=_.payload,d=typeof x=="function"?x.call(S,m,d):x,d==null)break e;m=Ce({},m,d);break e;case 2:Jr=!0}}d=o.callback,d!==null&&(t.flags|=64,y&&(t.flags|=8192),y=i.callbacks,y===null?i.callbacks=[d]:y.push(d))}else y={lane:d,tag:o.tag,payload:o.payload,callback:o.callback,next:null},f===null?(u=f=y,l=m):f=f.next=y,a|=d;if(o=o.next,o===null){if(o=i.shared.pending,o===null)break;y=o,o=y.next,y.next=null,i.lastBaseUpdate=y,i.shared.pending=null}}while(!0);f===null&&(l=m),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=f,s===null&&(i.shared.lanes=0),Ri|=a,t.lanes=a,t.memoizedState=m}}function ZT(t,e){if(typeof t!="function")throw Error(z(191,t));t.call(e)}function JT(t,e){var n=t.callbacks;if(n!==null)for(t.callbacks=null,t=0;t<n.length;t++)ZT(n[t],e)}var Da=ir(null),lh=ir(0);function i_(t,e){t=Dr,Pe(lh,t),Pe(Da,e),Dr=t|e.baseLanes}function op(){Pe(lh,Dr),Pe(Da,Da.current)}function iy(){Dr=lh.current,ut(Da),ut(lh)}var Ai=0,re=null,we=null,We=null,ch=!1,va=!1,vs=!1,uh=0,Al=0,Ea=null,GD=0;function qe(){throw Error(z(321))}function sy(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!ln(t[n],e[n]))return!1;return!0}function ay(t,e,n,r,i,s){return Ai=s,re=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,W.H=t===null||t.memoizedState===null?Ix:Dx,vs=!1,s=n(r,i),vs=!1,va&&(s=tx(e,n,r,i)),ex(t),s}function ex(t){W.H=hh;var e=we!==null&&we.next!==null;if(Ai=0,We=we=re=null,ch=!1,Al=0,Ea=null,e)throw Error(z(300));t===null||ct||(t=t.dependencies,t!==null&&oh(t)&&(ct=!0))}function tx(t,e,n,r){re=t;var i=0;do{if(va&&(Ea=null),Al=0,va=!1,25<=i)throw Error(z(301));if(i+=1,We=we=null,t.updateQueue!=null){var s=t.updateQueue;s.lastEffect=null,s.events=null,s.stores=null,s.memoCache!=null&&(s.memoCache.index=0)}W.H=ZD,s=e(n,r)}while(va);return s}function $D(){var t=W.H,e=t.useState()[0];return e=typeof e.then=="function"?lc(e):e,t=t.useState()[0],(we!==null?we.memoizedState:null)!==t&&(re.flags|=1024),e}function oy(){var t=uh!==0;return uh=0,t}function ly(t,e,n){e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~n}function cy(t){if(ch){for(t=t.memoizedState;t!==null;){var e=t.queue;e!==null&&(e.pending=null),t=t.next}ch=!1}Ai=0,We=we=re=null,va=!1,Al=uh=0,Ea=null}function Bt(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return We===null?re.memoizedState=We=t:We=We.next=t,We}function et(){if(we===null){var t=re.alternate;t=t!==null?t.memoizedState:null}else t=we.next;var e=We===null?re.memoizedState:We.next;if(e!==null)We=e,we=t;else{if(t===null)throw re.alternate===null?Error(z(467)):Error(z(310));we=t,t={memoizedState:we.memoizedState,baseState:we.baseState,baseQueue:we.baseQueue,queue:we.queue,next:null},We===null?re.memoizedState=We=t:We=We.next=t}return We}function uy(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function lc(t){var e=Al;return Al+=1,Ea===null&&(Ea=[]),t=WT(Ea,t,e),e=re,(We===null?e.memoizedState:We.next)===null&&(e=e.alternate,W.H=e===null||e.memoizedState===null?Ix:Dx),t}function mf(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return lc(t);if(t.$$typeof===gr)return St(t)}throw Error(z(438,String(t)))}function hy(t){var e=null,n=re.updateQueue;if(n!==null&&(e=n.memoCache),e==null){var r=re.alternate;r!==null&&(r=r.updateQueue,r!==null&&(r=r.memoCache,r!=null&&(e={data:r.data.map(function(i){return i.slice()}),index:0})))}if(e==null&&(e={data:[],index:0}),n===null&&(n=uy(),re.updateQueue=n),n.memoCache=e,n=e.data[e.index],n===void 0)for(n=e.data[e.index]=Array(t),r=0;r<t;r++)n[r]=II;return e.index++,n}function Cr(t,e){return typeof e=="function"?e(t):e}function Cu(t){var e=et();return fy(e,we,t)}function fy(t,e,n){var r=t.queue;if(r===null)throw Error(z(311));r.lastRenderedReducer=n;var i=t.baseQueue,s=r.pending;if(s!==null){if(i!==null){var a=i.next;i.next=s.next,s.next=a}e.baseQueue=i=s,r.pending=null}if(s=t.baseState,i===null)t.memoizedState=s;else{e=i.next;var o=a=null,l=null,u=e,f=!1;do{var m=u.lane&-536870913;if(m!==u.lane?(he&m)===m:(Ai&m)===m){var d=u.revertLane;if(d===0)l!==null&&(l=l.next={lane:0,revertLane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),m===Ia&&(f=!0);else if((Ai&d)===d){u=u.next,d===Ia&&(f=!0);continue}else m={lane:0,revertLane:u.revertLane,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},l===null?(o=l=m,a=s):l=l.next=m,re.lanes|=d,Ri|=d;m=u.action,vs&&n(s,m),s=u.hasEagerState?u.eagerState:n(s,m)}else d={lane:m,revertLane:u.revertLane,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},l===null?(o=l=d,a=s):l=l.next=d,re.lanes|=m,Ri|=m;u=u.next}while(u!==null&&u!==e);if(l===null?a=s:l.next=o,!ln(s,t.memoizedState)&&(ct=!0,f&&(n=ya,n!==null)))throw n;t.memoizedState=s,t.baseState=a,t.baseQueue=l,r.lastRenderedState=s}return i===null&&(r.lanes=0),[t.memoizedState,r.dispatch]}function jd(t){var e=et(),n=e.queue;if(n===null)throw Error(z(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var a=i=i.next;do s=t(s,a.action),a=a.next;while(a!==i);ln(s,e.memoizedState)||(ct=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function nx(t,e,n){var r=re,i=et(),s=me;if(s){if(n===void 0)throw Error(z(407));n=n()}else n=e();var a=!ln((we||i).memoizedState,n);a&&(i.memoizedState=n,ct=!0),i=i.queue;var o=sx.bind(null,r,i,t);if(cc(2048,8,o,[t]),i.getSnapshot!==e||a||We!==null&&We.memoizedState.tag&1){if(r.flags|=2048,Pa(9,pf(),ix.bind(null,r,i,n,e),null),Se===null)throw Error(z(349));s||Ai&124||rx(r,e,n)}return n}function rx(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=re.updateQueue,e===null?(e=uy(),re.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function ix(t,e,n,r){e.value=n,e.getSnapshot=r,ax(e)&&ox(t)}function sx(t,e,n){return n(function(){ax(e)&&ox(t)})}function ax(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!ln(t,n)}catch{return!0}}function ox(t){var e=Wa(t,2);e!==null&&on(e,t,2)}function lp(t){var e=Bt();if(typeof t=="function"){var n=t;if(t=n(),vs){li(!0);try{n()}finally{li(!1)}}}return e.memoizedState=e.baseState=t,e.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Cr,lastRenderedState:t},e}function lx(t,e,n,r){return t.baseState=n,fy(t,we,typeof r=="function"?r:Cr)}function KD(t,e,n,r,i){if(gf(t))throw Error(z(485));if(t=e.action,t!==null){var s={payload:i,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(a){s.listeners.push(a)}};W.T!==null?n(!0):s.isTransition=!1,r(s),n=e.pending,n===null?(s.next=e.pending=s,cx(e,s)):(s.next=n.next,e.pending=n.next=s)}}function cx(t,e){var n=e.action,r=e.payload,i=t.state;if(e.isTransition){var s=W.T,a={};W.T=a;try{var o=n(i,r),l=W.S;l!==null&&l(a,o),s_(t,e,o)}catch(u){cp(t,e,u)}finally{W.T=s}}else try{s=n(i,r),s_(t,e,s)}catch(u){cp(t,e,u)}}function s_(t,e,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(r){a_(t,e,r)},function(r){return cp(t,e,r)}):a_(t,e,n)}function a_(t,e,n){e.status="fulfilled",e.value=n,ux(e),t.state=n,e=t.pending,e!==null&&(n=e.next,n===e?t.pending=null:(n=n.next,e.next=n,cx(t,n)))}function cp(t,e,n){var r=t.pending;if(t.pending=null,r!==null){r=r.next;do e.status="rejected",e.reason=n,ux(e),e=e.next;while(e!==r)}t.action=null}function ux(t){t=t.listeners;for(var e=0;e<t.length;e++)(0,t[e])()}function hx(t,e){return e}function o_(t,e){if(me){var n=Se.formState;if(n!==null){e:{var r=re;if(me){if(ze){t:{for(var i=ze,s=jn;i.nodeType!==8;){if(!s){i=null;break t}if(i=Dn(i.nextSibling),i===null){i=null;break t}}s=i.data,i=s==="F!"||s==="F"?i:null}if(i){ze=Dn(i.nextSibling),r=i.data==="F!";break e}}gs(r)}r=!1}r&&(e=n[0])}}return n=Bt(),n.memoizedState=n.baseState=e,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:hx,lastRenderedState:e},n.queue=r,n=Rx.bind(null,re,r),r.dispatch=n,r=lp(!1),s=gy.bind(null,re,!1,r.queue),r=Bt(),i={state:e,dispatch:null,action:t,pending:null},r.queue=i,n=KD.bind(null,re,i,s,n),i.dispatch=n,r.memoizedState=t,[e,n,!1]}function l_(t){var e=et();return fx(e,we,t)}function fx(t,e,n){if(e=fy(t,e,hx)[0],t=Cu(Cr)[0],typeof e=="object"&&e!==null&&typeof e.then=="function")try{var r=lc(e)}catch(a){throw a===oc?df:a}else r=e;e=et();var i=e.queue,s=i.dispatch;return n!==e.memoizedState&&(re.flags|=2048,Pa(9,pf(),YD.bind(null,i,n),null)),[r,s,t]}function YD(t,e){t.action=e}function c_(t){var e=et(),n=we;if(n!==null)return fx(e,n,t);et(),e=e.memoizedState,n=et();var r=n.queue.dispatch;return n.memoizedState=t,[e,r,!1]}function Pa(t,e,n,r){return t={tag:t,create:n,deps:r,inst:e,next:null},e=re.updateQueue,e===null&&(e=uy(),re.updateQueue=e),n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t),t}function pf(){return{destroy:void 0,resource:void 0}}function dx(){return et().memoizedState}function Iu(t,e,n,r){var i=Bt();r=r===void 0?null:r,re.flags|=t,i.memoizedState=Pa(1|e,pf(),n,r)}function cc(t,e,n,r){var i=et();r=r===void 0?null:r;var s=i.memoizedState.inst;we!==null&&r!==null&&sy(r,we.memoizedState.deps)?i.memoizedState=Pa(e,s,n,r):(re.flags|=t,i.memoizedState=Pa(1|e,s,n,r))}function u_(t,e){Iu(8390656,8,t,e)}function mx(t,e){cc(2048,8,t,e)}function px(t,e){return cc(4,2,t,e)}function gx(t,e){return cc(4,4,t,e)}function yx(t,e){if(typeof e=="function"){t=t();var n=e(t);return function(){typeof n=="function"?n():e(null)}}if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function vx(t,e,n){n=n!=null?n.concat([t]):null,cc(4,4,yx.bind(null,e,t),n)}function dy(){}function Ex(t,e){var n=et();e=e===void 0?null:e;var r=n.memoizedState;return e!==null&&sy(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function _x(t,e){var n=et();e=e===void 0?null:e;var r=n.memoizedState;if(e!==null&&sy(e,r[1]))return r[0];if(r=t(),vs){li(!0);try{t()}finally{li(!1)}}return n.memoizedState=[r,e],r}function my(t,e,n){return n===void 0||Ai&1073741824?t.memoizedState=e:(t.memoizedState=n,t=uA(),re.lanes|=t,Ri|=t,n)}function bx(t,e,n,r){return ln(n,e)?n:Da.current!==null?(t=my(t,n,r),ln(t,e)||(ct=!0),t):Ai&42?(t=uA(),re.lanes|=t,Ri|=t,e):(ct=!0,t.memoizedState=n)}function wx(t,e,n,r,i){var s=pe.p;pe.p=s!==0&&8>s?s:8;var a=W.T,o={};W.T=o,gy(t,!1,e,n);try{var l=i(),u=W.S;if(u!==null&&u(o,l),l!==null&&typeof l=="object"&&typeof l.then=="function"){var f=HD(l,r);rl(t,e,f,an(t))}else rl(t,e,r,an(t))}catch(m){rl(t,e,{then:function(){},status:"rejected",reason:m},an())}finally{pe.p=s,W.T=a}}function QD(){}function up(t,e,n,r){if(t.tag!==5)throw Error(z(476));var i=Tx(t).queue;wx(t,i,e,is,n===null?QD:function(){return xx(t),n(r)})}function Tx(t){var e=t.memoizedState;if(e!==null)return e;e={memoizedState:is,baseState:is,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Cr,lastRenderedState:is},next:null};var n={};return e.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Cr,lastRenderedState:n},next:null},t.memoizedState=e,t=t.alternate,t!==null&&(t.memoizedState=e),e}function xx(t){var e=Tx(t).next.queue;rl(t,e,{},an())}function py(){return St(Il)}function Ax(){return et().memoizedState}function Sx(){return et().memoizedState}function XD(t){for(var e=t.return;e!==null;){switch(e.tag){case 24:case 3:var n=an();t=mi(n);var r=pi(e,t,n);r!==null&&(on(r,e,n),el(r,e,n)),e={cache:ty()},t.payload=e;return}e=e.return}}function WD(t,e,n){var r=an();n={lane:r,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null},gf(t)?Nx(e,n):(n=Wg(t,e,n,r),n!==null&&(on(n,t,r),Cx(n,e,r)))}function Rx(t,e,n){var r=an();rl(t,e,n,r)}function rl(t,e,n,r){var i={lane:r,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null};if(gf(t))Nx(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var a=e.lastRenderedState,o=s(a,n);if(i.hasEagerState=!0,i.eagerState=o,ln(o,a))return ff(t,e,i,0),Se===null&&hf(),!1}catch{}finally{}if(n=Wg(t,e,i,r),n!==null)return on(n,t,r),Cx(n,e,r),!0}return!1}function gy(t,e,n,r){if(r={lane:2,revertLane:xy(),action:r,hasEagerState:!1,eagerState:null,next:null},gf(t)){if(e)throw Error(z(479))}else e=Wg(t,n,r,2),e!==null&&on(e,t,2)}function gf(t){var e=t.alternate;return t===re||e!==null&&e===re}function Nx(t,e){va=ch=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function Cx(t,e,n){if(n&4194048){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,ET(t,n)}}var hh={readContext:St,use:mf,useCallback:qe,useContext:qe,useEffect:qe,useImperativeHandle:qe,useLayoutEffect:qe,useInsertionEffect:qe,useMemo:qe,useReducer:qe,useRef:qe,useState:qe,useDebugValue:qe,useDeferredValue:qe,useTransition:qe,useSyncExternalStore:qe,useId:qe,useHostTransitionStatus:qe,useFormState:qe,useActionState:qe,useOptimistic:qe,useMemoCache:qe,useCacheRefresh:qe},Ix={readContext:St,use:mf,useCallback:function(t,e){return Bt().memoizedState=[t,e===void 0?null:e],t},useContext:St,useEffect:u_,useImperativeHandle:function(t,e,n){n=n!=null?n.concat([t]):null,Iu(4194308,4,yx.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Iu(4194308,4,t,e)},useInsertionEffect:function(t,e){Iu(4,2,t,e)},useMemo:function(t,e){var n=Bt();e=e===void 0?null:e;var r=t();if(vs){li(!0);try{t()}finally{li(!1)}}return n.memoizedState=[r,e],r},useReducer:function(t,e,n){var r=Bt();if(n!==void 0){var i=n(e);if(vs){li(!0);try{n(e)}finally{li(!1)}}}else i=e;return r.memoizedState=r.baseState=i,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:i},r.queue=t,t=t.dispatch=WD.bind(null,re,t),[r.memoizedState,t]},useRef:function(t){var e=Bt();return t={current:t},e.memoizedState=t},useState:function(t){t=lp(t);var e=t.queue,n=Rx.bind(null,re,e);return e.dispatch=n,[t.memoizedState,n]},useDebugValue:dy,useDeferredValue:function(t,e){var n=Bt();return my(n,t,e)},useTransition:function(){var t=lp(!1);return t=wx.bind(null,re,t.queue,!0,!1),Bt().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,e,n){var r=re,i=Bt();if(me){if(n===void 0)throw Error(z(407));n=n()}else{if(n=e(),Se===null)throw Error(z(349));he&124||rx(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,u_(sx.bind(null,r,s,t),[t]),r.flags|=2048,Pa(9,pf(),ix.bind(null,r,s,n,e),null),n},useId:function(){var t=Bt(),e=Se.identifierPrefix;if(me){var n=vr,r=yr;n=(r&~(1<<32-sn(r)-1)).toString(32)+n,e="«"+e+"R"+n,n=uh++,0<n&&(e+="H"+n.toString(32)),e+="»"}else n=GD++,e="«"+e+"r"+n.toString(32)+"»";return t.memoizedState=e},useHostTransitionStatus:py,useFormState:o_,useActionState:o_,useOptimistic:function(t){var e=Bt();e.memoizedState=e.baseState=t;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return e.queue=n,e=gy.bind(null,re,!0,n),n.dispatch=e,[t,e]},useMemoCache:hy,useCacheRefresh:function(){return Bt().memoizedState=XD.bind(null,re)}},Dx={readContext:St,use:mf,useCallback:Ex,useContext:St,useEffect:mx,useImperativeHandle:vx,useInsertionEffect:px,useLayoutEffect:gx,useMemo:_x,useReducer:Cu,useRef:dx,useState:function(){return Cu(Cr)},useDebugValue:dy,useDeferredValue:function(t,e){var n=et();return bx(n,we.memoizedState,t,e)},useTransition:function(){var t=Cu(Cr)[0],e=et().memoizedState;return[typeof t=="boolean"?t:lc(t),e]},useSyncExternalStore:nx,useId:Ax,useHostTransitionStatus:py,useFormState:l_,useActionState:l_,useOptimistic:function(t,e){var n=et();return lx(n,we,t,e)},useMemoCache:hy,useCacheRefresh:Sx},ZD={readContext:St,use:mf,useCallback:Ex,useContext:St,useEffect:mx,useImperativeHandle:vx,useInsertionEffect:px,useLayoutEffect:gx,useMemo:_x,useReducer:jd,useRef:dx,useState:function(){return jd(Cr)},useDebugValue:dy,useDeferredValue:function(t,e){var n=et();return we===null?my(n,t,e):bx(n,we.memoizedState,t,e)},useTransition:function(){var t=jd(Cr)[0],e=et().memoizedState;return[typeof t=="boolean"?t:lc(t),e]},useSyncExternalStore:nx,useId:Ax,useHostTransitionStatus:py,useFormState:c_,useActionState:c_,useOptimistic:function(t,e){var n=et();return we!==null?lx(n,we,t,e):(n.baseState=t,[t,n.queue.dispatch])},useMemoCache:hy,useCacheRefresh:Sx},_a=null,Sl=0;function su(t){var e=Sl;return Sl+=1,_a===null&&(_a=[]),WT(_a,t,e)}function Do(t,e){e=e.props.ref,t.ref=e!==void 0?e:null}function au(t,e){throw e.$$typeof===NI?Error(z(525)):(t=Object.prototype.toString.call(e),Error(z(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)))}function h_(t){var e=t._init;return e(t._payload)}function Px(t){function e(v,b){if(t){var E=v.deletions;E===null?(v.deletions=[b],v.flags|=16):E.push(b)}}function n(v,b){if(!t)return null;for(;b!==null;)e(v,b),b=b.sibling;return null}function r(v){for(var b=new Map;v!==null;)v.key!==null?b.set(v.key,v):b.set(v.index,v),v=v.sibling;return b}function i(v,b){return v=Tr(v,b),v.index=0,v.sibling=null,v}function s(v,b,E){return v.index=E,t?(E=v.alternate,E!==null?(E=E.index,E<b?(v.flags|=67108866,b):E):(v.flags|=67108866,b)):(v.flags|=1048576,b)}function a(v){return t&&v.alternate===null&&(v.flags|=67108866),v}function o(v,b,E,N){return b===null||b.tag!==6?(b=Ud(E,v.mode,N),b.return=v,b):(b=i(b,E),b.return=v,b)}function l(v,b,E,N){var M=E.type;return M===Xs?f(v,b,E.props.children,N,E.key):b!==null&&(b.elementType===M||typeof M=="object"&&M!==null&&M.$$typeof===Zr&&h_(M)===b.type)?(b=i(b,E.props),Do(b,E),b.return=v,b):(b=Ru(E.type,E.key,E.props,null,v.mode,N),Do(b,E),b.return=v,b)}function u(v,b,E,N){return b===null||b.tag!==4||b.stateNode.containerInfo!==E.containerInfo||b.stateNode.implementation!==E.implementation?(b=Bd(E,v.mode,N),b.return=v,b):(b=i(b,E.children||[]),b.return=v,b)}function f(v,b,E,N,M){return b===null||b.tag!==7?(b=ss(E,v.mode,N,M),b.return=v,b):(b=i(b,E),b.return=v,b)}function m(v,b,E){if(typeof b=="string"&&b!==""||typeof b=="number"||typeof b=="bigint")return b=Ud(""+b,v.mode,E),b.return=v,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Zc:return E=Ru(b.type,b.key,b.props,null,v.mode,E),Do(E,b),E.return=v,E;case Lo:return b=Bd(b,v.mode,E),b.return=v,b;case Zr:var N=b._init;return b=N(b._payload),m(v,b,E)}if(Uo(b)||Ro(b))return b=ss(b,v.mode,E,null),b.return=v,b;if(typeof b.then=="function")return m(v,su(b),E);if(b.$$typeof===gr)return m(v,ru(v,b),E);au(v,b)}return null}function d(v,b,E,N){var M=b!==null?b.key:null;if(typeof E=="string"&&E!==""||typeof E=="number"||typeof E=="bigint")return M!==null?null:o(v,b,""+E,N);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case Zc:return E.key===M?l(v,b,E,N):null;case Lo:return E.key===M?u(v,b,E,N):null;case Zr:return M=E._init,E=M(E._payload),d(v,b,E,N)}if(Uo(E)||Ro(E))return M!==null?null:f(v,b,E,N,null);if(typeof E.then=="function")return d(v,b,su(E),N);if(E.$$typeof===gr)return d(v,b,ru(v,E),N);au(v,E)}return null}function y(v,b,E,N,M){if(typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint")return v=v.get(E)||null,o(b,v,""+N,M);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case Zc:return v=v.get(N.key===null?E:N.key)||null,l(b,v,N,M);case Lo:return v=v.get(N.key===null?E:N.key)||null,u(b,v,N,M);case Zr:var L=N._init;return N=L(N._payload),y(v,b,E,N,M)}if(Uo(N)||Ro(N))return v=v.get(E)||null,f(b,v,N,M,null);if(typeof N.then=="function")return y(v,b,E,su(N),M);if(N.$$typeof===gr)return y(v,b,E,ru(b,N),M);au(b,N)}return null}function x(v,b,E,N){for(var M=null,L=null,A=b,w=b=0,R=null;A!==null&&w<E.length;w++){A.index>w?(R=A,A=null):R=A.sibling;var C=d(v,A,E[w],N);if(C===null){A===null&&(A=R);break}t&&A&&C.alternate===null&&e(v,A),b=s(C,b,w),L===null?M=C:L.sibling=C,L=C,A=R}if(w===E.length)return n(v,A),me&&Wi(v,w),M;if(A===null){for(;w<E.length;w++)A=m(v,E[w],N),A!==null&&(b=s(A,b,w),L===null?M=A:L.sibling=A,L=A);return me&&Wi(v,w),M}for(A=r(A);w<E.length;w++)R=y(A,v,w,E[w],N),R!==null&&(t&&R.alternate!==null&&A.delete(R.key===null?w:R.key),b=s(R,b,w),L===null?M=R:L.sibling=R,L=R);return t&&A.forEach(function(P){return e(v,P)}),me&&Wi(v,w),M}function _(v,b,E,N){if(E==null)throw Error(z(151));for(var M=null,L=null,A=b,w=b=0,R=null,C=E.next();A!==null&&!C.done;w++,C=E.next()){A.index>w?(R=A,A=null):R=A.sibling;var P=d(v,A,C.value,N);if(P===null){A===null&&(A=R);break}t&&A&&P.alternate===null&&e(v,A),b=s(P,b,w),L===null?M=P:L.sibling=P,L=P,A=R}if(C.done)return n(v,A),me&&Wi(v,w),M;if(A===null){for(;!C.done;w++,C=E.next())C=m(v,C.value,N),C!==null&&(b=s(C,b,w),L===null?M=C:L.sibling=C,L=C);return me&&Wi(v,w),M}for(A=r(A);!C.done;w++,C=E.next())C=y(A,v,w,C.value,N),C!==null&&(t&&C.alternate!==null&&A.delete(C.key===null?w:C.key),b=s(C,b,w),L===null?M=C:L.sibling=C,L=C);return t&&A.forEach(function(V){return e(v,V)}),me&&Wi(v,w),M}function S(v,b,E,N){if(typeof E=="object"&&E!==null&&E.type===Xs&&E.key===null&&(E=E.props.children),typeof E=="object"&&E!==null){switch(E.$$typeof){case Zc:e:{for(var M=E.key;b!==null;){if(b.key===M){if(M=E.type,M===Xs){if(b.tag===7){n(v,b.sibling),N=i(b,E.props.children),N.return=v,v=N;break e}}else if(b.elementType===M||typeof M=="object"&&M!==null&&M.$$typeof===Zr&&h_(M)===b.type){n(v,b.sibling),N=i(b,E.props),Do(N,E),N.return=v,v=N;break e}n(v,b);break}else e(v,b);b=b.sibling}E.type===Xs?(N=ss(E.props.children,v.mode,N,E.key),N.return=v,v=N):(N=Ru(E.type,E.key,E.props,null,v.mode,N),Do(N,E),N.return=v,v=N)}return a(v);case Lo:e:{for(M=E.key;b!==null;){if(b.key===M)if(b.tag===4&&b.stateNode.containerInfo===E.containerInfo&&b.stateNode.implementation===E.implementation){n(v,b.sibling),N=i(b,E.children||[]),N.return=v,v=N;break e}else{n(v,b);break}else e(v,b);b=b.sibling}N=Bd(E,v.mode,N),N.return=v,v=N}return a(v);case Zr:return M=E._init,E=M(E._payload),S(v,b,E,N)}if(Uo(E))return x(v,b,E,N);if(Ro(E)){if(M=Ro(E),typeof M!="function")throw Error(z(150));return E=M.call(E),_(v,b,E,N)}if(typeof E.then=="function")return S(v,b,su(E),N);if(E.$$typeof===gr)return S(v,b,ru(v,E),N);au(v,E)}return typeof E=="string"&&E!==""||typeof E=="number"||typeof E=="bigint"?(E=""+E,b!==null&&b.tag===6?(n(v,b.sibling),N=i(b,E),N.return=v,v=N):(n(v,b),N=Ud(E,v.mode,N),N.return=v,v=N),a(v)):n(v,b)}return function(v,b,E,N){try{Sl=0;var M=S(v,b,E,N);return _a=null,M}catch(A){if(A===oc||A===df)throw A;var L=en(29,A,null,v.mode);return L.lanes=N,L.return=v,L}finally{}}}var Ma=Px(!0),Mx=Px(!1),wn=ir(null),Gn=null;function ti(t){var e=t.alternate;Pe(rt,rt.current&1),Pe(wn,t),Gn===null&&(e===null||Da.current!==null||e.memoizedState!==null)&&(Gn=t)}function Vx(t){if(t.tag===22){if(Pe(rt,rt.current),Pe(wn,t),Gn===null){var e=t.alternate;e!==null&&e.memoizedState!==null&&(Gn=t)}}else ni()}function ni(){Pe(rt,rt.current),Pe(wn,wn.current)}function _r(t){ut(wn),Gn===t&&(Gn=null),ut(rt)}var rt=ir(0);function fh(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||Rp(n)))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}function Fd(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Ce({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var hp={enqueueSetState:function(t,e,n){t=t._reactInternals;var r=an(),i=mi(r);i.payload=e,n!=null&&(i.callback=n),e=pi(t,i,r),e!==null&&(on(e,t,r),el(e,t,r))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=an(),i=mi(r);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=pi(t,i,r),e!==null&&(on(e,t,r),el(e,t,r))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=an(),r=mi(n);r.tag=2,e!=null&&(r.callback=e),e=pi(t,r,n),e!==null&&(on(e,t,n),el(e,t,n))}};function f_(t,e,n,r,i,s,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,a):e.prototype&&e.prototype.isPureReactComponent?!Tl(n,r)||!Tl(i,s):!0}function d_(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&hp.enqueueReplaceState(e,e.state,null)}function Es(t,e){var n=e;if("ref"in e){n={};for(var r in e)r!=="ref"&&(n[r]=e[r])}if(t=t.defaultProps){n===e&&(n=Ce({},n));for(var i in t)n[i]===void 0&&(n[i]=t[i])}return n}var dh=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function kx(t){dh(t)}function Ox(t){console.error(t)}function Lx(t){dh(t)}function mh(t,e){try{var n=t.onUncaughtError;n(e.value,{componentStack:e.stack})}catch(r){setTimeout(function(){throw r})}}function m_(t,e,n){try{var r=t.onCaughtError;r(n.value,{componentStack:n.stack,errorBoundary:e.tag===1?e.stateNode:null})}catch(i){setTimeout(function(){throw i})}}function fp(t,e,n){return n=mi(n),n.tag=3,n.payload={element:null},n.callback=function(){mh(t,e)},n}function Ux(t){return t=mi(t),t.tag=3,t}function Bx(t,e,n,r){var i=n.type.getDerivedStateFromError;if(typeof i=="function"){var s=r.value;t.payload=function(){return i(s)},t.callback=function(){m_(e,n,r)}}var a=n.stateNode;a!==null&&typeof a.componentDidCatch=="function"&&(t.callback=function(){m_(e,n,r),typeof i!="function"&&(gi===null?gi=new Set([this]):gi.add(this));var o=r.stack;this.componentDidCatch(r.value,{componentStack:o!==null?o:""})})}function JD(t,e,n,r,i){if(n.flags|=32768,r!==null&&typeof r=="object"&&typeof r.then=="function"){if(e=n.alternate,e!==null&&sc(e,n,i,!0),n=wn.current,n!==null){switch(n.tag){case 13:return Gn===null?_p():n.alternate===null&&je===0&&(je=3),n.flags&=-257,n.flags|=65536,n.lanes=i,r===ip?n.flags|=16384:(e=n.updateQueue,e===null?n.updateQueue=new Set([r]):e.add(r),Jd(t,r,i)),!1;case 22:return n.flags|=65536,r===ip?n.flags|=16384:(e=n.updateQueue,e===null?(e={transitions:null,markerInstances:null,retryQueue:new Set([r])},n.updateQueue=e):(n=e.retryQueue,n===null?e.retryQueue=new Set([r]):n.add(r)),Jd(t,r,i)),!1}throw Error(z(435,n.tag))}return Jd(t,r,i),_p(),!1}if(me)return e=wn.current,e!==null?(!(e.flags&65536)&&(e.flags|=256),e.flags|=65536,e.lanes=i,r!==Jm&&(t=Error(z(422),{cause:r}),xl(yn(t,n)))):(r!==Jm&&(e=Error(z(423),{cause:r}),xl(yn(e,n))),t=t.current.alternate,t.flags|=65536,i&=-i,t.lanes|=i,r=yn(r,n),i=fp(t.stateNode,r,i),zd(t,i),je!==4&&(je=2)),!1;var s=Error(z(520),{cause:r});if(s=yn(s,n),al===null?al=[s]:al.push(s),je!==4&&(je=2),e===null)return!0;r=yn(r,n),n=e;do{switch(n.tag){case 3:return n.flags|=65536,t=i&-i,n.lanes|=t,t=fp(n.stateNode,r,t),zd(n,t),!1;case 1:if(e=n.type,s=n.stateNode,(n.flags&128)===0&&(typeof e.getDerivedStateFromError=="function"||s!==null&&typeof s.componentDidCatch=="function"&&(gi===null||!gi.has(s))))return n.flags|=65536,i&=-i,n.lanes|=i,i=Ux(i),Bx(i,t,n,r),zd(n,i),!1}n=n.return}while(n!==null);return!1}var zx=Error(z(461)),ct=!1;function dt(t,e,n,r){e.child=t===null?Mx(e,null,n,r):Ma(e,t.child,n,r)}function p_(t,e,n,r,i){n=n.render;var s=e.ref;if("ref"in r){var a={};for(var o in r)o!=="ref"&&(a[o]=r[o])}else a=r;return ys(e),r=ay(t,e,n,a,s,i),o=oy(),t!==null&&!ct?(ly(t,e,i),Ir(t,e,i)):(me&&o&&Jg(e),e.flags|=1,dt(t,e,r,i),e.child)}function g_(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!Zg(s)&&s.defaultProps===void 0&&n.compare===null?(e.tag=15,e.type=s,jx(t,e,s,r,i)):(t=Ru(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!yy(t,i)){var a=s.memoizedProps;if(n=n.compare,n=n!==null?n:Tl,n(a,r)&&t.ref===e.ref)return Ir(t,e,i)}return e.flags|=1,t=Tr(s,r),t.ref=e.ref,t.return=e,e.child=t}function jx(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(Tl(s,r)&&t.ref===e.ref)if(ct=!1,e.pendingProps=r=s,yy(t,i))t.flags&131072&&(ct=!0);else return e.lanes=t.lanes,Ir(t,e,i)}return dp(t,e,n,r,i)}function Fx(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden"){if(e.flags&128){if(r=s!==null?s.baseLanes|n:n,t!==null){for(i=e.child=t.child,s=0;i!==null;)s=s|i.lanes|i.childLanes,i=i.sibling;e.childLanes=s&~r}else e.childLanes=0,e.child=null;return y_(t,e,r,n)}if(n&536870912)e.memoizedState={baseLanes:0,cachePool:null},t!==null&&Nu(e,s!==null?s.cachePool:null),s!==null?i_(e,s):op(),Vx(e);else return e.lanes=e.childLanes=536870912,y_(t,e,s!==null?s.baseLanes|n:n,n)}else s!==null?(Nu(e,s.cachePool),i_(e,s),ni(),e.memoizedState=null):(t!==null&&Nu(e,null),op(),ni());return dt(t,e,i,n),e.child}function y_(t,e,n,r){var i=ny();return i=i===null?null:{parent:nt._currentValue,pool:i},e.memoizedState={baseLanes:n,cachePool:i},t!==null&&Nu(e,null),op(),Vx(e),t!==null&&sc(t,e,r,!0),null}function Du(t,e){var n=e.ref;if(n===null)t!==null&&t.ref!==null&&(e.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(z(284));(t===null||t.ref!==n)&&(e.flags|=4194816)}}function dp(t,e,n,r,i){return ys(e),n=ay(t,e,n,r,void 0,i),r=oy(),t!==null&&!ct?(ly(t,e,i),Ir(t,e,i)):(me&&r&&Jg(e),e.flags|=1,dt(t,e,n,i),e.child)}function v_(t,e,n,r,i,s){return ys(e),e.updateQueue=null,n=tx(e,r,n,i),ex(t),r=oy(),t!==null&&!ct?(ly(t,e,s),Ir(t,e,s)):(me&&r&&Jg(e),e.flags|=1,dt(t,e,n,s),e.child)}function E_(t,e,n,r,i){if(ys(e),e.stateNode===null){var s=ia,a=n.contextType;typeof a=="object"&&a!==null&&(s=St(a)),s=new n(r,s),e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=hp,e.stateNode=s,s._reactInternals=e,s=e.stateNode,s.props=r,s.state=e.memoizedState,s.refs={},ry(e),a=n.contextType,s.context=typeof a=="object"&&a!==null?St(a):ia,s.state=e.memoizedState,a=n.getDerivedStateFromProps,typeof a=="function"&&(Fd(e,n,a,r),s.state=e.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(a=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),a!==s.state&&hp.enqueueReplaceState(s,s.state,null),nl(e,r,s,i),tl(),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308),r=!0}else if(t===null){s=e.stateNode;var o=e.memoizedProps,l=Es(n,o);s.props=l;var u=s.context,f=n.contextType;a=ia,typeof f=="object"&&f!==null&&(a=St(f));var m=n.getDerivedStateFromProps;f=typeof m=="function"||typeof s.getSnapshotBeforeUpdate=="function",o=e.pendingProps!==o,f||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(o||u!==a)&&d_(e,s,r,a),Jr=!1;var d=e.memoizedState;s.state=d,nl(e,r,s,i),tl(),u=e.memoizedState,o||d!==u||Jr?(typeof m=="function"&&(Fd(e,n,m,r),u=e.memoizedState),(l=Jr||f_(e,n,l,r,d,u,a))?(f||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=u),s.props=r,s.state=u,s.context=a,r=l):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{s=e.stateNode,sp(t,e),a=e.memoizedProps,f=Es(n,a),s.props=f,m=e.pendingProps,d=s.context,u=n.contextType,l=ia,typeof u=="object"&&u!==null&&(l=St(u)),o=n.getDerivedStateFromProps,(u=typeof o=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==m||d!==l)&&d_(e,s,r,l),Jr=!1,d=e.memoizedState,s.state=d,nl(e,r,s,i),tl();var y=e.memoizedState;a!==m||d!==y||Jr||t!==null&&t.dependencies!==null&&oh(t.dependencies)?(typeof o=="function"&&(Fd(e,n,o,r),y=e.memoizedState),(f=Jr||f_(e,n,f,r,d,y,l)||t!==null&&t.dependencies!==null&&oh(t.dependencies))?(u||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,y,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,y,l)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=y),s.props=r,s.state=y,s.context=l,r=f):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),r=!1)}return s=r,Du(t,e),r=(e.flags&128)!==0,s||r?(s=e.stateNode,n=r&&typeof n.getDerivedStateFromError!="function"?null:s.render(),e.flags|=1,t!==null&&r?(e.child=Ma(e,t.child,null,i),e.child=Ma(e,null,n,i)):dt(t,e,n,i),e.memoizedState=s.state,t=e.child):t=Ir(t,e,i),t}function __(t,e,n,r){return ic(),e.flags|=256,dt(t,e,n,r),e.child}var qd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Hd(t){return{baseLanes:t,cachePool:QT()}}function Gd(t,e,n){return t=t!==null?t.childLanes&~n:0,e&&(t|=En),t}function qx(t,e,n){var r=e.pendingProps,i=!1,s=(e.flags&128)!==0,a;if((a=s)||(a=t!==null&&t.memoizedState===null?!1:(rt.current&2)!==0),a&&(i=!0,e.flags&=-129),a=(e.flags&32)!==0,e.flags&=-33,t===null){if(me){if(i?ti(e):ni(),me){var o=ze,l;if(l=o){e:{for(l=o,o=jn;l.nodeType!==8;){if(!o){o=null;break e}if(l=Dn(l.nextSibling),l===null){o=null;break e}}o=l}o!==null?(e.memoizedState={dehydrated:o,treeContext:as!==null?{id:yr,overflow:vr}:null,retryLane:536870912,hydrationErrors:null},l=en(18,null,null,0),l.stateNode=o,l.return=e,e.child=l,Mt=e,ze=null,l=!0):l=!1}l||gs(e)}if(o=e.memoizedState,o!==null&&(o=o.dehydrated,o!==null))return Rp(o)?e.lanes=32:e.lanes=536870912,null;_r(e)}return o=r.children,r=r.fallback,i?(ni(),i=e.mode,o=ph({mode:"hidden",children:o},i),r=ss(r,i,n,null),o.return=e,r.return=e,o.sibling=r,e.child=o,i=e.child,i.memoizedState=Hd(n),i.childLanes=Gd(t,a,n),e.memoizedState=qd,r):(ti(e),mp(e,o))}if(l=t.memoizedState,l!==null&&(o=l.dehydrated,o!==null)){if(s)e.flags&256?(ti(e),e.flags&=-257,e=$d(t,e,n)):e.memoizedState!==null?(ni(),e.child=t.child,e.flags|=128,e=null):(ni(),i=r.fallback,o=e.mode,r=ph({mode:"visible",children:r.children},o),i=ss(i,o,n,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,Ma(e,t.child,null,n),r=e.child,r.memoizedState=Hd(n),r.childLanes=Gd(t,a,n),e.memoizedState=qd,e=i);else if(ti(e),Rp(o)){if(a=o.nextSibling&&o.nextSibling.dataset,a)var u=a.dgst;a=u,r=Error(z(419)),r.stack="",r.digest=a,xl({value:r,source:null,stack:null}),e=$d(t,e,n)}else if(ct||sc(t,e,n,!1),a=(n&t.childLanes)!==0,ct||a){if(a=Se,a!==null&&(r=n&-n,r=r&42?1:jg(r),r=r&(a.suspendedLanes|n)?0:r,r!==0&&r!==l.retryLane))throw l.retryLane=r,Wa(t,r),on(a,t,r),zx;o.data==="$?"||_p(),e=$d(t,e,n)}else o.data==="$?"?(e.flags|=192,e.child=t.child,e=null):(t=l.treeContext,ze=Dn(o.nextSibling),Mt=e,me=!0,os=null,jn=!1,t!==null&&(mn[pn++]=yr,mn[pn++]=vr,mn[pn++]=as,yr=t.id,vr=t.overflow,as=e),e=mp(e,r.children),e.flags|=4096);return e}return i?(ni(),i=r.fallback,o=e.mode,l=t.child,u=l.sibling,r=Tr(l,{mode:"hidden",children:r.children}),r.subtreeFlags=l.subtreeFlags&65011712,u!==null?i=Tr(u,i):(i=ss(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o===null?o=Hd(n):(l=o.cachePool,l!==null?(u=nt._currentValue,l=l.parent!==u?{parent:u,pool:u}:l):l=QT(),o={baseLanes:o.baseLanes|n,cachePool:l}),i.memoizedState=o,i.childLanes=Gd(t,a,n),e.memoizedState=qd,r):(ti(e),n=t.child,t=n.sibling,n=Tr(n,{mode:"visible",children:r.children}),n.return=e,n.sibling=null,t!==null&&(a=e.deletions,a===null?(e.deletions=[t],e.flags|=16):a.push(t)),e.child=n,e.memoizedState=null,n)}function mp(t,e){return e=ph({mode:"visible",children:e},t.mode),e.return=t,t.child=e}function ph(t,e){return t=en(22,t,null,e),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function $d(t,e,n){return Ma(e,t.child,null,n),t=mp(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function b_(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),tp(t.return,e,n)}function Kd(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function Hx(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(dt(t,e,r.children,n),r=rt.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&b_(t,n,e);else if(t.tag===19)b_(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}switch(Pe(rt,r),i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&fh(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Kd(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&fh(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Kd(e,!0,n,null,s);break;case"together":Kd(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Ir(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Ri|=e.lanes,!(n&e.childLanes))if(t!==null){if(sc(t,e,n,!1),(n&e.childLanes)===0)return null}else return null;if(t!==null&&e.child!==t.child)throw Error(z(153));if(e.child!==null){for(t=e.child,n=Tr(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Tr(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function yy(t,e){return t.lanes&e?!0:(t=t.dependencies,!!(t!==null&&oh(t)))}function eP(t,e,n){switch(e.tag){case 3:Ju(e,e.stateNode.containerInfo),ei(e,nt,t.memoizedState.cache),ic();break;case 27:case 5:qm(e);break;case 4:Ju(e,e.stateNode.containerInfo);break;case 10:ei(e,e.type,e.memoizedProps.value);break;case 13:var r=e.memoizedState;if(r!==null)return r.dehydrated!==null?(ti(e),e.flags|=128,null):n&e.child.childLanes?qx(t,e,n):(ti(e),t=Ir(t,e,n),t!==null?t.sibling:null);ti(e);break;case 19:var i=(t.flags&128)!==0;if(r=(n&e.childLanes)!==0,r||(sc(t,e,n,!1),r=(n&e.childLanes)!==0),i){if(r)return Hx(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Pe(rt,rt.current),r)break;return null;case 22:case 23:return e.lanes=0,Fx(t,e,n);case 24:ei(e,nt,t.memoizedState.cache)}return Ir(t,e,n)}function Gx(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps)ct=!0;else{if(!yy(t,n)&&!(e.flags&128))return ct=!1,eP(t,e,n);ct=!!(t.flags&131072)}else ct=!1,me&&e.flags&1048576&&KT(e,ah,e.index);switch(e.lanes=0,e.tag){case 16:e:{t=e.pendingProps;var r=e.elementType,i=r._init;if(r=i(r._payload),e.type=r,typeof r=="function")Zg(r)?(t=Es(r,t),e.tag=1,e=E_(null,e,r,t,n)):(e.tag=0,e=dp(null,e,r,t,n));else{if(r!=null){if(i=r.$$typeof,i===Ug){e.tag=11,e=p_(null,e,r,t,n);break e}else if(i===Bg){e.tag=14,e=g_(null,e,r,t,n);break e}}throw e=jm(r)||r,Error(z(306,e,""))}}return e;case 0:return dp(t,e,e.type,e.pendingProps,n);case 1:return r=e.type,i=Es(r,e.pendingProps),E_(t,e,r,i,n);case 3:e:{if(Ju(e,e.stateNode.containerInfo),t===null)throw Error(z(387));r=e.pendingProps;var s=e.memoizedState;i=s.element,sp(t,e),nl(e,r,null,n);var a=e.memoizedState;if(r=a.cache,ei(e,nt,r),r!==s.cache&&np(e,[nt],n,!0),tl(),r=a.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:a.cache},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){e=__(t,e,r,n);break e}else if(r!==i){i=yn(Error(z(424)),e),xl(i),e=__(t,e,r,n);break e}else{switch(t=e.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(ze=Dn(t.firstChild),Mt=e,me=!0,os=null,jn=!0,n=Mx(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(ic(),r===i){e=Ir(t,e,n);break e}dt(t,e,r,n)}e=e.child}return e;case 26:return Du(t,e),t===null?(n=U_(e.type,null,e.pendingProps,null))?e.memoizedState=n:me||(n=e.type,t=e.pendingProps,r=wh(di.current).createElement(n),r[At]=e,r[$t]=t,yt(r,n,t),lt(r),e.stateNode=r):e.memoizedState=U_(e.type,t.memoizedProps,e.pendingProps,t.memoizedState),null;case 27:return qm(e),t===null&&me&&(r=e.stateNode=DA(e.type,e.pendingProps,di.current),Mt=e,jn=!0,i=ze,Ui(e.type)?(Np=i,ze=Dn(r.firstChild)):ze=i),dt(t,e,e.pendingProps.children,n),Du(t,e),t===null&&(e.flags|=4194304),e.child;case 5:return t===null&&me&&((i=r=ze)&&(r=NP(r,e.type,e.pendingProps,jn),r!==null?(e.stateNode=r,Mt=e,ze=Dn(r.firstChild),jn=!1,i=!0):i=!1),i||gs(e)),qm(e),i=e.type,s=e.pendingProps,a=t!==null?t.memoizedProps:null,r=s.children,Ap(i,s)?r=null:a!==null&&Ap(i,a)&&(e.flags|=32),e.memoizedState!==null&&(i=ay(t,e,$D,null,null,n),Il._currentValue=i),Du(t,e),dt(t,e,r,n),e.child;case 6:return t===null&&me&&((t=n=ze)&&(n=CP(n,e.pendingProps,jn),n!==null?(e.stateNode=n,Mt=e,ze=null,t=!0):t=!1),t||gs(e)),null;case 13:return qx(t,e,n);case 4:return Ju(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Ma(e,null,r,n):dt(t,e,r,n),e.child;case 11:return p_(t,e,e.type,e.pendingProps,n);case 7:return dt(t,e,e.pendingProps,n),e.child;case 8:return dt(t,e,e.pendingProps.children,n),e.child;case 12:return dt(t,e,e.pendingProps.children,n),e.child;case 10:return r=e.pendingProps,ei(e,e.type,r.value),dt(t,e,r.children,n),e.child;case 9:return i=e.type._context,r=e.pendingProps.children,ys(e),i=St(i),r=r(i),e.flags|=1,dt(t,e,r,n),e.child;case 14:return g_(t,e,e.type,e.pendingProps,n);case 15:return jx(t,e,e.type,e.pendingProps,n);case 19:return Hx(t,e,n);case 31:return r=e.pendingProps,n=e.mode,r={mode:r.mode,children:r.children},t===null?(n=ph(r,n),n.ref=e.ref,e.child=n,n.return=e,e=n):(n=Tr(t.child,r),n.ref=e.ref,e.child=n,n.return=e,e=n),e;case 22:return Fx(t,e,n);case 24:return ys(e),r=St(nt),t===null?(i=ny(),i===null&&(i=Se,s=ty(),i.pooledCache=s,s.refCount++,s!==null&&(i.pooledCacheLanes|=n),i=s),e.memoizedState={parent:r,cache:i},ry(e),ei(e,nt,i)):(t.lanes&n&&(sp(t,e),nl(e,null,null,n),tl()),i=t.memoizedState,s=e.memoizedState,i.parent!==r?(i={parent:r,cache:r},e.memoizedState=i,e.lanes===0&&(e.memoizedState=e.updateQueue.baseState=i),ei(e,nt,r)):(r=s.cache,ei(e,nt,r),r!==i.cache&&np(e,[nt],n,!0))),dt(t,e,e.pendingProps.children,n),e.child;case 29:throw e.pendingProps}throw Error(z(156,e.tag))}function dr(t){t.flags|=4}function w_(t,e){if(e.type!=="stylesheet"||e.state.loading&4)t.flags&=-16777217;else if(t.flags|=16777216,!VA(e)){if(e=wn.current,e!==null&&((he&4194048)===he?Gn!==null:(he&62914560)!==he&&!(he&536870912)||e!==Gn))throw Jo=ip,XT;t.flags|=8192}}function ou(t,e){e!==null&&(t.flags|=4),t.flags&16384&&(e=t.tag!==22?yT():536870912,t.lanes|=e,Va|=e)}function Po(t,e){if(!me)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function ke(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&65011712,r|=i.flags&65011712,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function tP(t,e,n){var r=e.pendingProps;switch(ey(e),e.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ke(e),null;case 1:return ke(e),null;case 3:return n=e.stateNode,r=null,t!==null&&(r=t.memoizedState.cache),e.memoizedState.cache!==r&&(e.flags|=2048),xr(nt),Ra(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(Io(e)?dr(e):t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,ZE())),ke(e),null;case 26:return n=e.memoizedState,t===null?(dr(e),n!==null?(ke(e),w_(e,n)):(ke(e),e.flags&=-16777217)):n?n!==t.memoizedState?(dr(e),ke(e),w_(e,n)):(ke(e),e.flags&=-16777217):(t.memoizedProps!==r&&dr(e),ke(e),e.flags&=-16777217),null;case 27:eh(e),n=di.current;var i=e.type;if(t!==null&&e.stateNode!=null)t.memoizedProps!==r&&dr(e);else{if(!r){if(e.stateNode===null)throw Error(z(166));return ke(e),null}t=qn.current,Io(e)?XE(e):(t=DA(i,r,n),e.stateNode=t,dr(e))}return ke(e),null;case 5:if(eh(e),n=e.type,t!==null&&e.stateNode!=null)t.memoizedProps!==r&&dr(e);else{if(!r){if(e.stateNode===null)throw Error(z(166));return ke(e),null}if(t=qn.current,Io(e))XE(e);else{switch(i=wh(di.current),t){case 1:t=i.createElementNS("http://www.w3.org/2000/svg",n);break;case 2:t=i.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;default:switch(n){case"svg":t=i.createElementNS("http://www.w3.org/2000/svg",n);break;case"math":t=i.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;case"script":t=i.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof r.is=="string"?i.createElement("select",{is:r.is}):i.createElement("select"),r.multiple?t.multiple=!0:r.size&&(t.size=r.size);break;default:t=typeof r.is=="string"?i.createElement(n,{is:r.is}):i.createElement(n)}}t[At]=e,t[$t]=r;e:for(i=e.child;i!==null;){if(i.tag===5||i.tag===6)t.appendChild(i.stateNode);else if(i.tag!==4&&i.tag!==27&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break e;for(;i.sibling===null;){if(i.return===null||i.return===e)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}e.stateNode=t;e:switch(yt(t,n,r),n){case"button":case"input":case"select":case"textarea":t=!!r.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&dr(e)}}return ke(e),e.flags&=-16777217,null;case 6:if(t&&e.stateNode!=null)t.memoizedProps!==r&&dr(e);else{if(typeof r!="string"&&e.stateNode===null)throw Error(z(166));if(t=di.current,Io(e)){if(t=e.stateNode,n=e.memoizedProps,r=null,i=Mt,i!==null)switch(i.tag){case 27:case 5:r=i.memoizedProps}t[At]=e,t=!!(t.nodeValue===n||r!==null&&r.suppressHydrationWarning===!0||NA(t.nodeValue,n)),t||gs(e)}else t=wh(t).createTextNode(r),t[At]=e,e.stateNode=t}return ke(e),null;case 13:if(r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(i=Io(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(z(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(z(317));i[At]=e}else ic(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;ke(e),i=!1}else i=ZE(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=i),i=!0;if(!i)return e.flags&256?(_r(e),e):(_r(e),null)}if(_r(e),e.flags&128)return e.lanes=n,e;if(n=r!==null,t=t!==null&&t.memoizedState!==null,n){r=e.child,i=null,r.alternate!==null&&r.alternate.memoizedState!==null&&r.alternate.memoizedState.cachePool!==null&&(i=r.alternate.memoizedState.cachePool.pool);var s=null;r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(s=r.memoizedState.cachePool.pool),s!==i&&(r.flags|=2048)}return n!==t&&n&&(e.child.flags|=8192),ou(e,e.updateQueue),ke(e),null;case 4:return Ra(),t===null&&Ay(e.stateNode.containerInfo),ke(e),null;case 10:return xr(e.type),ke(e),null;case 19:if(ut(rt),i=e.memoizedState,i===null)return ke(e),null;if(r=(e.flags&128)!==0,s=i.rendering,s===null)if(r)Po(i,!1);else{if(je!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(s=fh(t),s!==null){for(e.flags|=128,Po(i,!1),t=s.updateQueue,e.updateQueue=t,ou(e,t),e.subtreeFlags=0,t=n,n=e.child;n!==null;)$T(n,t),n=n.sibling;return Pe(rt,rt.current&1|2),e.child}t=t.sibling}i.tail!==null&&Hn()>yh&&(e.flags|=128,r=!0,Po(i,!1),e.lanes=4194304)}else{if(!r)if(t=fh(s),t!==null){if(e.flags|=128,r=!0,t=t.updateQueue,e.updateQueue=t,ou(e,t),Po(i,!0),i.tail===null&&i.tailMode==="hidden"&&!s.alternate&&!me)return ke(e),null}else 2*Hn()-i.renderingStartTime>yh&&n!==536870912&&(e.flags|=128,r=!0,Po(i,!1),e.lanes=4194304);i.isBackwards?(s.sibling=e.child,e.child=s):(t=i.last,t!==null?t.sibling=s:e.child=s,i.last=s)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=Hn(),e.sibling=null,t=rt.current,Pe(rt,r?t&1|2:t&1),e):(ke(e),null);case 22:case 23:return _r(e),iy(),r=e.memoizedState!==null,t!==null?t.memoizedState!==null!==r&&(e.flags|=8192):r&&(e.flags|=8192),r?n&536870912&&!(e.flags&128)&&(ke(e),e.subtreeFlags&6&&(e.flags|=8192)):ke(e),n=e.updateQueue,n!==null&&ou(e,n.retryQueue),n=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),r=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),r!==n&&(e.flags|=2048),t!==null&&ut(ls),null;case 24:return n=null,t!==null&&(n=t.memoizedState.cache),e.memoizedState.cache!==n&&(e.flags|=2048),xr(nt),ke(e),null;case 25:return null;case 30:return null}throw Error(z(156,e.tag))}function nP(t,e){switch(ey(e),e.tag){case 1:return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return xr(nt),Ra(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 26:case 27:case 5:return eh(e),null;case 13:if(_r(e),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(z(340));ic()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return ut(rt),null;case 4:return Ra(),null;case 10:return xr(e.type),null;case 22:case 23:return _r(e),iy(),t!==null&&ut(ls),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 24:return xr(nt),null;case 25:return null;default:return null}}function $x(t,e){switch(ey(e),e.tag){case 3:xr(nt),Ra();break;case 26:case 27:case 5:eh(e);break;case 4:Ra();break;case 13:_r(e);break;case 19:ut(rt);break;case 10:xr(e.type);break;case 22:case 23:_r(e),iy(),t!==null&&ut(ls);break;case 24:xr(nt)}}function uc(t,e){try{var n=e.updateQueue,r=n!==null?n.lastEffect:null;if(r!==null){var i=r.next;n=i;do{if((n.tag&t)===t){r=void 0;var s=n.create,a=n.inst;r=s(),a.destroy=r}n=n.next}while(n!==i)}}catch(o){xe(e,e.return,o)}}function Si(t,e,n){try{var r=e.updateQueue,i=r!==null?r.lastEffect:null;if(i!==null){var s=i.next;r=s;do{if((r.tag&t)===t){var a=r.inst,o=a.destroy;if(o!==void 0){a.destroy=void 0,i=e;var l=n,u=o;try{u()}catch(f){xe(i,l,f)}}}r=r.next}while(r!==s)}}catch(f){xe(e,e.return,f)}}function Kx(t){var e=t.updateQueue;if(e!==null){var n=t.stateNode;try{JT(e,n)}catch(r){xe(t,t.return,r)}}}function Yx(t,e,n){n.props=Es(t.type,t.memoizedProps),n.state=t.memoizedState;try{n.componentWillUnmount()}catch(r){xe(t,e,r)}}function il(t,e){try{var n=t.ref;if(n!==null){switch(t.tag){case 26:case 27:case 5:var r=t.stateNode;break;case 30:r=t.stateNode;break;default:r=t.stateNode}typeof n=="function"?t.refCleanup=n(r):n.current=r}}catch(i){xe(t,e,i)}}function Fn(t,e){var n=t.ref,r=t.refCleanup;if(n!==null)if(typeof r=="function")try{r()}catch(i){xe(t,e,i)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(i){xe(t,e,i)}else n.current=null}function Qx(t){var e=t.type,n=t.memoizedProps,r=t.stateNode;try{e:switch(e){case"button":case"input":case"select":case"textarea":n.autoFocus&&r.focus();break e;case"img":n.src?r.src=n.src:n.srcSet&&(r.srcset=n.srcSet)}}catch(i){xe(t,t.return,i)}}function Yd(t,e,n){try{var r=t.stateNode;TP(r,t.type,n,e),r[$t]=e}catch(i){xe(t,t.return,i)}}function Xx(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Ui(t.type)||t.tag===4}function Qd(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Xx(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Ui(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function pp(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(t,e):(e=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,e.appendChild(t),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=_f));else if(r!==4&&(r===27&&Ui(t.type)&&(n=t.stateNode,e=null),t=t.child,t!==null))for(pp(t,e,n),t=t.sibling;t!==null;)pp(t,e,n),t=t.sibling}function gh(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(r===27&&Ui(t.type)&&(n=t.stateNode),t=t.child,t!==null))for(gh(t,e,n),t=t.sibling;t!==null;)gh(t,e,n),t=t.sibling}function Wx(t){var e=t.stateNode,n=t.memoizedProps;try{for(var r=t.type,i=e.attributes;i.length;)e.removeAttributeNode(i[0]);yt(e,r,n),e[At]=t,e[$t]=n}catch(s){xe(t,t.return,s)}}var pr=!1,Ge=!1,Xd=!1,T_=typeof WeakSet=="function"?WeakSet:Set,ot=null;function rP(t,e){if(t=t.containerInfo,Tp=Sh,t=UT(t),Qg(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var a=0,o=-1,l=-1,u=0,f=0,m=t,d=null;t:for(;;){for(var y;m!==n||i!==0&&m.nodeType!==3||(o=a+i),m!==s||r!==0&&m.nodeType!==3||(l=a+r),m.nodeType===3&&(a+=m.nodeValue.length),(y=m.firstChild)!==null;)d=m,m=y;for(;;){if(m===t)break t;if(d===n&&++u===i&&(o=a),d===s&&++f===r&&(l=a),(y=m.nextSibling)!==null)break;m=d,d=m.parentNode}m=y}n=o===-1||l===-1?null:{start:o,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(xp={focusedElem:t,selectionRange:n},Sh=!1,ot=e;ot!==null;)if(e=ot,t=e.child,(e.subtreeFlags&1024)!==0&&t!==null)t.return=e,ot=t;else for(;ot!==null;){switch(e=ot,s=e.alternate,t=e.flags,e.tag){case 0:break;case 11:case 15:break;case 1:if(t&1024&&s!==null){t=void 0,n=e,i=s.memoizedProps,s=s.memoizedState,r=n.stateNode;try{var x=Es(n.type,i,n.elementType===n.type);t=r.getSnapshotBeforeUpdate(x,s),r.__reactInternalSnapshotBeforeUpdate=t}catch(_){xe(n,n.return,_)}}break;case 3:if(t&1024){if(t=e.stateNode.containerInfo,n=t.nodeType,n===9)Sp(t);else if(n===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Sp(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(t&1024)throw Error(z(163))}if(t=e.sibling,t!==null){t.return=e.return,ot=t;break}ot=e.return}}function Zx(t,e,n){var r=n.flags;switch(n.tag){case 0:case 11:case 15:Yr(t,n),r&4&&uc(5,n);break;case 1:if(Yr(t,n),r&4)if(t=n.stateNode,e===null)try{t.componentDidMount()}catch(a){xe(n,n.return,a)}else{var i=Es(n.type,e.memoizedProps);e=e.memoizedState;try{t.componentDidUpdate(i,e,t.__reactInternalSnapshotBeforeUpdate)}catch(a){xe(n,n.return,a)}}r&64&&Kx(n),r&512&&il(n,n.return);break;case 3:if(Yr(t,n),r&64&&(t=n.updateQueue,t!==null)){if(e=null,n.child!==null)switch(n.child.tag){case 27:case 5:e=n.child.stateNode;break;case 1:e=n.child.stateNode}try{JT(t,e)}catch(a){xe(n,n.return,a)}}break;case 27:e===null&&r&4&&Wx(n);case 26:case 5:Yr(t,n),e===null&&r&4&&Qx(n),r&512&&il(n,n.return);break;case 12:Yr(t,n);break;case 13:Yr(t,n),r&4&&tA(t,n),r&64&&(t=n.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(n=fP.bind(null,n),IP(t,n))));break;case 22:if(r=n.memoizedState!==null||pr,!r){e=e!==null&&e.memoizedState!==null||Ge,i=pr;var s=Ge;pr=r,(Ge=e)&&!s?Xr(t,n,(n.subtreeFlags&8772)!==0):Yr(t,n),pr=i,Ge=s}break;case 30:break;default:Yr(t,n)}}function Jx(t){var e=t.alternate;e!==null&&(t.alternate=null,Jx(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&qg(e)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Ie=null,zt=!1;function mr(t,e,n){for(n=n.child;n!==null;)eA(t,e,n),n=n.sibling}function eA(t,e,n){if(rn&&typeof rn.onCommitFiberUnmount=="function")try{rn.onCommitFiberUnmount(Jl,n)}catch{}switch(n.tag){case 26:Ge||Fn(n,e),mr(t,e,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:Ge||Fn(n,e);var r=Ie,i=zt;Ui(n.type)&&(Ie=n.stateNode,zt=!1),mr(t,e,n),ll(n.stateNode),Ie=r,zt=i;break;case 5:Ge||Fn(n,e);case 6:if(r=Ie,i=zt,Ie=null,mr(t,e,n),Ie=r,zt=i,Ie!==null)if(zt)try{(Ie.nodeType===9?Ie.body:Ie.nodeName==="HTML"?Ie.ownerDocument.body:Ie).removeChild(n.stateNode)}catch(s){xe(n,e,s)}else try{Ie.removeChild(n.stateNode)}catch(s){xe(n,e,s)}break;case 18:Ie!==null&&(zt?(t=Ie,k_(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,n.stateNode),Ml(t)):k_(Ie,n.stateNode));break;case 4:r=Ie,i=zt,Ie=n.stateNode.containerInfo,zt=!0,mr(t,e,n),Ie=r,zt=i;break;case 0:case 11:case 14:case 15:Ge||Si(2,n,e),Ge||Si(4,n,e),mr(t,e,n);break;case 1:Ge||(Fn(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"&&Yx(n,e,r)),mr(t,e,n);break;case 21:mr(t,e,n);break;case 22:Ge=(r=Ge)||n.memoizedState!==null,mr(t,e,n),Ge=r;break;default:mr(t,e,n)}}function tA(t,e){if(e.memoizedState===null&&(t=e.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Ml(t)}catch(n){xe(e,e.return,n)}}function iP(t){switch(t.tag){case 13:case 19:var e=t.stateNode;return e===null&&(e=t.stateNode=new T_),e;case 22:return t=t.stateNode,e=t._retryCache,e===null&&(e=t._retryCache=new T_),e;default:throw Error(z(435,t.tag))}}function Wd(t,e){var n=iP(t);e.forEach(function(r){var i=dP.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}function Xt(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r],s=t,a=e,o=a;e:for(;o!==null;){switch(o.tag){case 27:if(Ui(o.type)){Ie=o.stateNode,zt=!1;break e}break;case 5:Ie=o.stateNode,zt=!1;break e;case 3:case 4:Ie=o.stateNode.containerInfo,zt=!0;break e}o=o.return}if(Ie===null)throw Error(z(160));eA(s,a,i),Ie=null,zt=!1,s=i.alternate,s!==null&&(s.return=null),i.return=null}if(e.subtreeFlags&13878)for(e=e.child;e!==null;)nA(e,t),e=e.sibling}var Rn=null;function nA(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Xt(e,t),Wt(t),r&4&&(Si(3,t,t.return),uc(3,t),Si(5,t,t.return));break;case 1:Xt(e,t),Wt(t),r&512&&(Ge||n===null||Fn(n,n.return)),r&64&&pr&&(t=t.updateQueue,t!==null&&(r=t.callbacks,r!==null&&(n=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=n===null?r:n.concat(r))));break;case 26:var i=Rn;if(Xt(e,t),Wt(t),r&512&&(Ge||n===null||Fn(n,n.return)),r&4){var s=n!==null?n.memoizedState:null;if(r=t.memoizedState,n===null)if(r===null)if(t.stateNode===null){e:{r=t.type,n=t.memoizedProps,i=i.ownerDocument||i;t:switch(r){case"title":s=i.getElementsByTagName("title")[0],(!s||s[nc]||s[At]||s.namespaceURI==="http://www.w3.org/2000/svg"||s.hasAttribute("itemprop"))&&(s=i.createElement(r),i.head.insertBefore(s,i.querySelector("head > title"))),yt(s,r,n),s[At]=t,lt(s),r=s;break e;case"link":var a=z_("link","href",i).get(r+(n.href||""));if(a){for(var o=0;o<a.length;o++)if(s=a[o],s.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&s.getAttribute("rel")===(n.rel==null?null:n.rel)&&s.getAttribute("title")===(n.title==null?null:n.title)&&s.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){a.splice(o,1);break t}}s=i.createElement(r),yt(s,r,n),i.head.appendChild(s);break;case"meta":if(a=z_("meta","content",i).get(r+(n.content||""))){for(o=0;o<a.length;o++)if(s=a[o],s.getAttribute("content")===(n.content==null?null:""+n.content)&&s.getAttribute("name")===(n.name==null?null:n.name)&&s.getAttribute("property")===(n.property==null?null:n.property)&&s.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&s.getAttribute("charset")===(n.charSet==null?null:n.charSet)){a.splice(o,1);break t}}s=i.createElement(r),yt(s,r,n),i.head.appendChild(s);break;default:throw Error(z(468,r))}s[At]=t,lt(s),r=s}t.stateNode=r}else j_(i,t.type,t.stateNode);else t.stateNode=B_(i,r,t.memoizedProps);else s!==r?(s===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):s.count--,r===null?j_(i,t.type,t.stateNode):B_(i,r,t.memoizedProps)):r===null&&t.stateNode!==null&&Yd(t,t.memoizedProps,n.memoizedProps)}break;case 27:Xt(e,t),Wt(t),r&512&&(Ge||n===null||Fn(n,n.return)),n!==null&&r&4&&Yd(t,t.memoizedProps,n.memoizedProps);break;case 5:if(Xt(e,t),Wt(t),r&512&&(Ge||n===null||Fn(n,n.return)),t.flags&32){i=t.stateNode;try{Ca(i,"")}catch(y){xe(t,t.return,y)}}r&4&&t.stateNode!=null&&(i=t.memoizedProps,Yd(t,i,n!==null?n.memoizedProps:i)),r&1024&&(Xd=!0);break;case 6:if(Xt(e,t),Wt(t),r&4){if(t.stateNode===null)throw Error(z(162));r=t.memoizedProps,n=t.stateNode;try{n.nodeValue=r}catch(y){xe(t,t.return,y)}}break;case 3:if(Vu=null,i=Rn,Rn=Th(e.containerInfo),Xt(e,t),Rn=i,Wt(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Ml(e.containerInfo)}catch(y){xe(t,t.return,y)}Xd&&(Xd=!1,rA(t));break;case 4:r=Rn,Rn=Th(t.stateNode.containerInfo),Xt(e,t),Wt(t),Rn=r;break;case 12:Xt(e,t),Wt(t);break;case 13:Xt(e,t),Wt(t),t.child.flags&8192&&t.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(wy=Hn()),r&4&&(r=t.updateQueue,r!==null&&(t.updateQueue=null,Wd(t,r)));break;case 22:i=t.memoizedState!==null;var l=n!==null&&n.memoizedState!==null,u=pr,f=Ge;if(pr=u||i,Ge=f||l,Xt(e,t),Ge=f,pr=u,Wt(t),r&8192)e:for(e=t.stateNode,e._visibility=i?e._visibility&-2:e._visibility|1,i&&(n===null||l||pr||Ge||Zi(t)),n=null,e=t;;){if(e.tag===5||e.tag===26){if(n===null){l=n=e;try{if(s=l.stateNode,i)a=s.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none";else{o=l.stateNode;var m=l.memoizedProps.style,d=m!=null&&m.hasOwnProperty("display")?m.display:null;o.style.display=d==null||typeof d=="boolean"?"":(""+d).trim()}}catch(y){xe(l,l.return,y)}}}else if(e.tag===6){if(n===null){l=e;try{l.stateNode.nodeValue=i?"":l.memoizedProps}catch(y){xe(l,l.return,y)}}}else if((e.tag!==22&&e.tag!==23||e.memoizedState===null||e===t)&&e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;n===e&&(n=null),e=e.return}n===e&&(n=null),e.sibling.return=e.return,e=e.sibling}r&4&&(r=t.updateQueue,r!==null&&(n=r.retryQueue,n!==null&&(r.retryQueue=null,Wd(t,n))));break;case 19:Xt(e,t),Wt(t),r&4&&(r=t.updateQueue,r!==null&&(t.updateQueue=null,Wd(t,r)));break;case 30:break;case 21:break;default:Xt(e,t),Wt(t)}}function Wt(t){var e=t.flags;if(e&2){try{for(var n,r=t.return;r!==null;){if(Xx(r)){n=r;break}r=r.return}if(n==null)throw Error(z(160));switch(n.tag){case 27:var i=n.stateNode,s=Qd(t);gh(t,s,i);break;case 5:var a=n.stateNode;n.flags&32&&(Ca(a,""),n.flags&=-33);var o=Qd(t);gh(t,o,a);break;case 3:case 4:var l=n.stateNode.containerInfo,u=Qd(t);pp(t,u,l);break;default:throw Error(z(161))}}catch(f){xe(t,t.return,f)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function rA(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var e=t;rA(e),e.tag===5&&e.flags&1024&&e.stateNode.reset(),t=t.sibling}}function Yr(t,e){if(e.subtreeFlags&8772)for(e=e.child;e!==null;)Zx(t,e.alternate,e),e=e.sibling}function Zi(t){for(t=t.child;t!==null;){var e=t;switch(e.tag){case 0:case 11:case 14:case 15:Si(4,e,e.return),Zi(e);break;case 1:Fn(e,e.return);var n=e.stateNode;typeof n.componentWillUnmount=="function"&&Yx(e,e.return,n),Zi(e);break;case 27:ll(e.stateNode);case 26:case 5:Fn(e,e.return),Zi(e);break;case 22:e.memoizedState===null&&Zi(e);break;case 30:Zi(e);break;default:Zi(e)}t=t.sibling}}function Xr(t,e,n){for(n=n&&(e.subtreeFlags&8772)!==0,e=e.child;e!==null;){var r=e.alternate,i=t,s=e,a=s.flags;switch(s.tag){case 0:case 11:case 15:Xr(i,s,n),uc(4,s);break;case 1:if(Xr(i,s,n),r=s,i=r.stateNode,typeof i.componentDidMount=="function")try{i.componentDidMount()}catch(u){xe(r,r.return,u)}if(r=s,i=r.updateQueue,i!==null){var o=r.stateNode;try{var l=i.shared.hiddenCallbacks;if(l!==null)for(i.shared.hiddenCallbacks=null,i=0;i<l.length;i++)ZT(l[i],o)}catch(u){xe(r,r.return,u)}}n&&a&64&&Kx(s),il(s,s.return);break;case 27:Wx(s);case 26:case 5:Xr(i,s,n),n&&r===null&&a&4&&Qx(s),il(s,s.return);break;case 12:Xr(i,s,n);break;case 13:Xr(i,s,n),n&&a&4&&tA(i,s);break;case 22:s.memoizedState===null&&Xr(i,s,n),il(s,s.return);break;case 30:break;default:Xr(i,s,n)}e=e.sibling}}function vy(t,e){var n=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),t=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(t=e.memoizedState.cachePool.pool),t!==n&&(t!=null&&t.refCount++,n!=null&&ac(n))}function Ey(t,e){t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&ac(t))}function Bn(t,e,n,r){if(e.subtreeFlags&10256)for(e=e.child;e!==null;)iA(t,e,n,r),e=e.sibling}function iA(t,e,n,r){var i=e.flags;switch(e.tag){case 0:case 11:case 15:Bn(t,e,n,r),i&2048&&uc(9,e);break;case 1:Bn(t,e,n,r);break;case 3:Bn(t,e,n,r),i&2048&&(t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&ac(t)));break;case 12:if(i&2048){Bn(t,e,n,r),t=e.stateNode;try{var s=e.memoizedProps,a=s.id,o=s.onPostCommit;typeof o=="function"&&o(a,e.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(l){xe(e,e.return,l)}}else Bn(t,e,n,r);break;case 13:Bn(t,e,n,r);break;case 23:break;case 22:s=e.stateNode,a=e.alternate,e.memoizedState!==null?s._visibility&2?Bn(t,e,n,r):sl(t,e):s._visibility&2?Bn(t,e,n,r):(s._visibility|=2,Hs(t,e,n,r,(e.subtreeFlags&10256)!==0)),i&2048&&vy(a,e);break;case 24:Bn(t,e,n,r),i&2048&&Ey(e.alternate,e);break;default:Bn(t,e,n,r)}}function Hs(t,e,n,r,i){for(i=i&&(e.subtreeFlags&10256)!==0,e=e.child;e!==null;){var s=t,a=e,o=n,l=r,u=a.flags;switch(a.tag){case 0:case 11:case 15:Hs(s,a,o,l,i),uc(8,a);break;case 23:break;case 22:var f=a.stateNode;a.memoizedState!==null?f._visibility&2?Hs(s,a,o,l,i):sl(s,a):(f._visibility|=2,Hs(s,a,o,l,i)),i&&u&2048&&vy(a.alternate,a);break;case 24:Hs(s,a,o,l,i),i&&u&2048&&Ey(a.alternate,a);break;default:Hs(s,a,o,l,i)}e=e.sibling}}function sl(t,e){if(e.subtreeFlags&10256)for(e=e.child;e!==null;){var n=t,r=e,i=r.flags;switch(r.tag){case 22:sl(n,r),i&2048&&vy(r.alternate,r);break;case 24:sl(n,r),i&2048&&Ey(r.alternate,r);break;default:sl(n,r)}e=e.sibling}}var zo=8192;function zs(t){if(t.subtreeFlags&zo)for(t=t.child;t!==null;)sA(t),t=t.sibling}function sA(t){switch(t.tag){case 26:zs(t),t.flags&zo&&t.memoizedState!==null&&qP(Rn,t.memoizedState,t.memoizedProps);break;case 5:zs(t);break;case 3:case 4:var e=Rn;Rn=Th(t.stateNode.containerInfo),zs(t),Rn=e;break;case 22:t.memoizedState===null&&(e=t.alternate,e!==null&&e.memoizedState!==null?(e=zo,zo=16777216,zs(t),zo=e):zs(t));break;default:zs(t)}}function aA(t){var e=t.alternate;if(e!==null&&(t=e.child,t!==null)){e.child=null;do e=t.sibling,t.sibling=null,t=e;while(t!==null)}}function Mo(t){var e=t.deletions;if(t.flags&16){if(e!==null)for(var n=0;n<e.length;n++){var r=e[n];ot=r,lA(r,t)}aA(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)oA(t),t=t.sibling}function oA(t){switch(t.tag){case 0:case 11:case 15:Mo(t),t.flags&2048&&Si(9,t,t.return);break;case 3:Mo(t);break;case 12:Mo(t);break;case 22:var e=t.stateNode;t.memoizedState!==null&&e._visibility&2&&(t.return===null||t.return.tag!==13)?(e._visibility&=-3,Pu(t)):Mo(t);break;default:Mo(t)}}function Pu(t){var e=t.deletions;if(t.flags&16){if(e!==null)for(var n=0;n<e.length;n++){var r=e[n];ot=r,lA(r,t)}aA(t)}for(t=t.child;t!==null;){switch(e=t,e.tag){case 0:case 11:case 15:Si(8,e,e.return),Pu(e);break;case 22:n=e.stateNode,n._visibility&2&&(n._visibility&=-3,Pu(e));break;default:Pu(e)}t=t.sibling}}function lA(t,e){for(;ot!==null;){var n=ot;switch(n.tag){case 0:case 11:case 15:Si(8,n,e);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var r=n.memoizedState.cachePool.pool;r!=null&&r.refCount++}break;case 24:ac(n.memoizedState.cache)}if(r=n.child,r!==null)r.return=n,ot=r;else e:for(n=t;ot!==null;){r=ot;var i=r.sibling,s=r.return;if(Jx(r),r===n){ot=null;break e}if(i!==null){i.return=s,ot=i;break e}ot=s}}}var sP={getCacheForType:function(t){var e=St(nt),n=e.data.get(t);return n===void 0&&(n=t(),e.data.set(t,n)),n}},aP=typeof WeakMap=="function"?WeakMap:Map,Ee=0,Se=null,ae=null,he=0,ve=0,Jt=null,ui=!1,Za=!1,_y=!1,Dr=0,je=0,Ri=0,cs=0,by=0,En=0,Va=0,al=null,jt=null,gp=!1,wy=0,yh=1/0,vh=null,gi=null,pt=0,yi=null,ka=null,ba=0,yp=0,vp=null,cA=null,ol=0,Ep=null;function an(){if(Ee&2&&he!==0)return he&-he;if(W.T!==null){var t=Ia;return t!==0?t:xy()}return _T()}function uA(){En===0&&(En=!(he&536870912)||me?gT():536870912);var t=wn.current;return t!==null&&(t.flags|=32),En}function on(t,e,n){(t===Se&&(ve===2||ve===9)||t.cancelPendingCommit!==null)&&(Oa(t,0),hi(t,he,En,!1)),tc(t,n),(!(Ee&2)||t!==Se)&&(t===Se&&(!(Ee&2)&&(cs|=n),je===4&&hi(t,he,En,!1)),sr(t))}function hA(t,e,n){if(Ee&6)throw Error(z(327));var r=!n&&(e&124)===0&&(e&t.expiredLanes)===0||ec(t,e),i=r?cP(t,e):Zd(t,e,!0),s=r;do{if(i===0){Za&&!r&&hi(t,e,0,!1);break}else{if(n=t.current.alternate,s&&!oP(n)){i=Zd(t,e,!1),s=!1;continue}if(i===2){if(s=e,t.errorRecoveryDisabledLanes&s)var a=0;else a=t.pendingLanes&-536870913,a=a!==0?a:a&536870912?536870912:0;if(a!==0){e=a;e:{var o=t;i=al;var l=o.current.memoizedState.isDehydrated;if(l&&(Oa(o,a).flags|=256),a=Zd(o,a,!1),a!==2){if(_y&&!l){o.errorRecoveryDisabledLanes|=s,cs|=s,i=4;break e}s=jt,jt=i,s!==null&&(jt===null?jt=s:jt.push.apply(jt,s))}i=a}if(s=!1,i!==2)continue}}if(i===1){Oa(t,0),hi(t,e,0,!0);break}e:{switch(r=t,s=i,s){case 0:case 1:throw Error(z(345));case 4:if((e&4194048)!==e)break;case 6:hi(r,e,En,!ui);break e;case 2:jt=null;break;case 3:case 5:break;default:throw Error(z(329))}if((e&62914560)===e&&(i=wy+300-Hn(),10<i)){if(hi(r,e,En,!ui),of(r,0,!0)!==0)break e;r.timeoutHandle=IA(x_.bind(null,r,n,jt,vh,gp,e,En,cs,Va,ui,s,2,-0,0),i);break e}x_(r,n,jt,vh,gp,e,En,cs,Va,ui,s,0,-0,0)}}break}while(!0);sr(t)}function x_(t,e,n,r,i,s,a,o,l,u,f,m,d,y){if(t.timeoutHandle=-1,m=e.subtreeFlags,(m&8192||(m&16785408)===16785408)&&(Cl={stylesheets:null,count:0,unsuspend:FP},sA(e),m=HP(),m!==null)){t.cancelPendingCommit=m(S_.bind(null,t,e,s,n,r,i,a,o,l,f,1,d,y)),hi(t,s,a,!u);return}S_(t,e,s,n,r,i,a,o,l)}function oP(t){for(var e=t;;){var n=e.tag;if((n===0||n===11||n===15)&&e.flags&16384&&(n=e.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!ln(s(),i))return!1}catch{return!1}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function hi(t,e,n,r){e&=~by,e&=~cs,t.suspendedLanes|=e,t.pingedLanes&=~e,r&&(t.warmLanes|=e),r=t.expirationTimes;for(var i=e;0<i;){var s=31-sn(i),a=1<<s;r[s]=-1,i&=~a}n!==0&&vT(t,n,e)}function yf(){return Ee&6?!0:(hc(0),!1)}function Ty(){if(ae!==null){if(ve===0)var t=ae.return;else t=ae,Er=Is=null,cy(t),_a=null,Sl=0,t=ae;for(;t!==null;)$x(t.alternate,t),t=t.return;ae=null}}function Oa(t,e){var n=t.timeoutHandle;n!==-1&&(t.timeoutHandle=-1,AP(n)),n=t.cancelPendingCommit,n!==null&&(t.cancelPendingCommit=null,n()),Ty(),Se=t,ae=n=Tr(t.current,null),he=e,ve=0,Jt=null,ui=!1,Za=ec(t,e),_y=!1,Va=En=by=cs=Ri=je=0,jt=al=null,gp=!1,e&8&&(e|=e&32);var r=t.entangledLanes;if(r!==0)for(t=t.entanglements,r&=e;0<r;){var i=31-sn(r),s=1<<i;e|=t[i],r&=~s}return Dr=e,hf(),n}function fA(t,e){re=null,W.H=hh,e===oc||e===df?(e=n_(),ve=3):e===XT?(e=n_(),ve=4):ve=e===zx?8:e!==null&&typeof e=="object"&&typeof e.then=="function"?6:1,Jt=e,ae===null&&(je=1,mh(t,yn(e,t.current)))}function dA(){var t=W.H;return W.H=hh,t===null?hh:t}function mA(){var t=W.A;return W.A=sP,t}function _p(){je=4,ui||(he&4194048)!==he&&wn.current!==null||(Za=!0),!(Ri&134217727)&&!(cs&134217727)||Se===null||hi(Se,he,En,!1)}function Zd(t,e,n){var r=Ee;Ee|=2;var i=dA(),s=mA();(Se!==t||he!==e)&&(vh=null,Oa(t,e)),e=!1;var a=je;e:do try{if(ve!==0&&ae!==null){var o=ae,l=Jt;switch(ve){case 8:Ty(),a=6;break e;case 3:case 2:case 9:case 6:wn.current===null&&(e=!0);var u=ve;if(ve=0,Jt=null,oa(t,o,l,u),n&&Za){a=0;break e}break;default:u=ve,ve=0,Jt=null,oa(t,o,l,u)}}lP(),a=je;break}catch(f){fA(t,f)}while(!0);return e&&t.shellSuspendCounter++,Er=Is=null,Ee=r,W.H=i,W.A=s,ae===null&&(Se=null,he=0,hf()),a}function lP(){for(;ae!==null;)pA(ae)}function cP(t,e){var n=Ee;Ee|=2;var r=dA(),i=mA();Se!==t||he!==e?(vh=null,yh=Hn()+500,Oa(t,e)):Za=ec(t,e);e:do try{if(ve!==0&&ae!==null){e=ae;var s=Jt;t:switch(ve){case 1:ve=0,Jt=null,oa(t,e,s,1);break;case 2:case 9:if(t_(s)){ve=0,Jt=null,A_(e);break}e=function(){ve!==2&&ve!==9||Se!==t||(ve=7),sr(t)},s.then(e,e);break e;case 3:ve=7;break e;case 4:ve=5;break e;case 7:t_(s)?(ve=0,Jt=null,A_(e)):(ve=0,Jt=null,oa(t,e,s,7));break;case 5:var a=null;switch(ae.tag){case 26:a=ae.memoizedState;case 5:case 27:var o=ae;if(!a||VA(a)){ve=0,Jt=null;var l=o.sibling;if(l!==null)ae=l;else{var u=o.return;u!==null?(ae=u,vf(u)):ae=null}break t}}ve=0,Jt=null,oa(t,e,s,5);break;case 6:ve=0,Jt=null,oa(t,e,s,6);break;case 8:Ty(),je=6;break e;default:throw Error(z(462))}}uP();break}catch(f){fA(t,f)}while(!0);return Er=Is=null,W.H=r,W.A=i,Ee=n,ae!==null?0:(Se=null,he=0,hf(),je)}function uP(){for(;ae!==null&&!PI();)pA(ae)}function pA(t){var e=Gx(t.alternate,t,Dr);t.memoizedProps=t.pendingProps,e===null?vf(t):ae=e}function A_(t){var e=t,n=e.alternate;switch(e.tag){case 15:case 0:e=v_(n,e,e.pendingProps,e.type,void 0,he);break;case 11:e=v_(n,e,e.pendingProps,e.type.render,e.ref,he);break;case 5:cy(e);default:$x(n,e),e=ae=$T(e,Dr),e=Gx(n,e,Dr)}t.memoizedProps=t.pendingProps,e===null?vf(t):ae=e}function oa(t,e,n,r){Er=Is=null,cy(e),_a=null,Sl=0;var i=e.return;try{if(JD(t,i,e,n,he)){je=1,mh(t,yn(n,t.current)),ae=null;return}}catch(s){if(i!==null)throw ae=i,s;je=1,mh(t,yn(n,t.current)),ae=null;return}e.flags&32768?(me||r===1?t=!0:Za||he&536870912?t=!1:(ui=t=!0,(r===2||r===9||r===3||r===6)&&(r=wn.current,r!==null&&r.tag===13&&(r.flags|=16384))),gA(e,t)):vf(e)}function vf(t){var e=t;do{if(e.flags&32768){gA(e,ui);return}t=e.return;var n=tP(e.alternate,e,Dr);if(n!==null){ae=n;return}if(e=e.sibling,e!==null){ae=e;return}ae=e=t}while(e!==null);je===0&&(je=5)}function gA(t,e){do{var n=nP(t.alternate,t);if(n!==null){n.flags&=32767,ae=n;return}if(n=t.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!e&&(t=t.sibling,t!==null)){ae=t;return}ae=t=n}while(t!==null);je=6,ae=null}function S_(t,e,n,r,i,s,a,o,l){t.cancelPendingCommit=null;do Ef();while(pt!==0);if(Ee&6)throw Error(z(327));if(e!==null){if(e===t.current)throw Error(z(177));if(s=e.lanes|e.childLanes,s|=Xg,FI(t,n,s,a,o,l),t===Se&&(ae=Se=null,he=0),ka=e,yi=t,ba=n,yp=s,vp=i,cA=r,e.subtreeFlags&10256||e.flags&10256?(t.callbackNode=null,t.callbackPriority=0,mP(th,function(){return bA(),null})):(t.callbackNode=null,t.callbackPriority=0),r=(e.flags&13878)!==0,e.subtreeFlags&13878||r){r=W.T,W.T=null,i=pe.p,pe.p=2,a=Ee,Ee|=4;try{rP(t,e,n)}finally{Ee=a,pe.p=i,W.T=r}}pt=1,yA(),vA(),EA()}}function yA(){if(pt===1){pt=0;var t=yi,e=ka,n=(e.flags&13878)!==0;if(e.subtreeFlags&13878||n){n=W.T,W.T=null;var r=pe.p;pe.p=2;var i=Ee;Ee|=4;try{nA(e,t);var s=xp,a=UT(t.containerInfo),o=s.focusedElem,l=s.selectionRange;if(a!==o&&o&&o.ownerDocument&&LT(o.ownerDocument.documentElement,o)){if(l!==null&&Qg(o)){var u=l.start,f=l.end;if(f===void 0&&(f=u),"selectionStart"in o)o.selectionStart=u,o.selectionEnd=Math.min(f,o.value.length);else{var m=o.ownerDocument||document,d=m&&m.defaultView||window;if(d.getSelection){var y=d.getSelection(),x=o.textContent.length,_=Math.min(l.start,x),S=l.end===void 0?_:Math.min(l.end,x);!y.extend&&_>S&&(a=S,S=_,_=a);var v=KE(o,_),b=KE(o,S);if(v&&b&&(y.rangeCount!==1||y.anchorNode!==v.node||y.anchorOffset!==v.offset||y.focusNode!==b.node||y.focusOffset!==b.offset)){var E=m.createRange();E.setStart(v.node,v.offset),y.removeAllRanges(),_>S?(y.addRange(E),y.extend(b.node,b.offset)):(E.setEnd(b.node,b.offset),y.addRange(E))}}}}for(m=[],y=o;y=y.parentNode;)y.nodeType===1&&m.push({element:y,left:y.scrollLeft,top:y.scrollTop});for(typeof o.focus=="function"&&o.focus(),o=0;o<m.length;o++){var N=m[o];N.element.scrollLeft=N.left,N.element.scrollTop=N.top}}Sh=!!Tp,xp=Tp=null}finally{Ee=i,pe.p=r,W.T=n}}t.current=e,pt=2}}function vA(){if(pt===2){pt=0;var t=yi,e=ka,n=(e.flags&8772)!==0;if(e.subtreeFlags&8772||n){n=W.T,W.T=null;var r=pe.p;pe.p=2;var i=Ee;Ee|=4;try{Zx(t,e.alternate,e)}finally{Ee=i,pe.p=r,W.T=n}}pt=3}}function EA(){if(pt===4||pt===3){pt=0,MI();var t=yi,e=ka,n=ba,r=cA;e.subtreeFlags&10256||e.flags&10256?pt=5:(pt=0,ka=yi=null,_A(t,t.pendingLanes));var i=t.pendingLanes;if(i===0&&(gi=null),Fg(n),e=e.stateNode,rn&&typeof rn.onCommitFiberRoot=="function")try{rn.onCommitFiberRoot(Jl,e,void 0,(e.current.flags&128)===128)}catch{}if(r!==null){e=W.T,i=pe.p,pe.p=2,W.T=null;try{for(var s=t.onRecoverableError,a=0;a<r.length;a++){var o=r[a];s(o.value,{componentStack:o.stack})}}finally{W.T=e,pe.p=i}}ba&3&&Ef(),sr(t),i=t.pendingLanes,n&4194090&&i&42?t===Ep?ol++:(ol=0,Ep=t):ol=0,hc(0)}}function _A(t,e){(t.pooledCacheLanes&=e)===0&&(e=t.pooledCache,e!=null&&(t.pooledCache=null,ac(e)))}function Ef(t){return yA(),vA(),EA(),bA()}function bA(){if(pt!==5)return!1;var t=yi,e=yp;yp=0;var n=Fg(ba),r=W.T,i=pe.p;try{pe.p=32>n?32:n,W.T=null,n=vp,vp=null;var s=yi,a=ba;if(pt=0,ka=yi=null,ba=0,Ee&6)throw Error(z(331));var o=Ee;if(Ee|=4,oA(s.current),iA(s,s.current,a,n),Ee=o,hc(0,!1),rn&&typeof rn.onPostCommitFiberRoot=="function")try{rn.onPostCommitFiberRoot(Jl,s)}catch{}return!0}finally{pe.p=i,W.T=r,_A(t,e)}}function R_(t,e,n){e=yn(n,e),e=fp(t.stateNode,e,2),t=pi(t,e,2),t!==null&&(tc(t,2),sr(t))}function xe(t,e,n){if(t.tag===3)R_(t,t,n);else for(;e!==null;){if(e.tag===3){R_(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(gi===null||!gi.has(r))){t=yn(n,t),n=Ux(2),r=pi(e,n,2),r!==null&&(Bx(n,r,e,t),tc(r,2),sr(r));break}}e=e.return}}function Jd(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new aP;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(_y=!0,i.add(n),t=hP.bind(null,t,e,n),e.then(t,t))}function hP(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),t.pingedLanes|=t.suspendedLanes&n,t.warmLanes&=~n,Se===t&&(he&n)===n&&(je===4||je===3&&(he&62914560)===he&&300>Hn()-wy?!(Ee&2)&&Oa(t,0):by|=n,Va===he&&(Va=0)),sr(t)}function wA(t,e){e===0&&(e=yT()),t=Wa(t,e),t!==null&&(tc(t,e),sr(t))}function fP(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),wA(t,n)}function dP(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;case 22:r=t.stateNode._retryCache;break;default:throw Error(z(314))}r!==null&&r.delete(e),wA(t,n)}function mP(t,e){return zg(t,e)}var Eh=null,Gs=null,bp=!1,_h=!1,em=!1,us=0;function sr(t){t!==Gs&&t.next===null&&(Gs===null?Eh=Gs=t:Gs=Gs.next=t),_h=!0,bp||(bp=!0,gP())}function hc(t,e){if(!em&&_h){em=!0;do for(var n=!1,r=Eh;r!==null;){if(t!==0){var i=r.pendingLanes;if(i===0)var s=0;else{var a=r.suspendedLanes,o=r.pingedLanes;s=(1<<31-sn(42|t)+1)-1,s&=i&~(a&~o),s=s&201326741?s&201326741|1:s?s|2:0}s!==0&&(n=!0,N_(r,s))}else s=he,s=of(r,r===Se?s:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),!(s&3)||ec(r,s)||(n=!0,N_(r,s));r=r.next}while(n);em=!1}}function pP(){TA()}function TA(){_h=bp=!1;var t=0;us!==0&&(xP()&&(t=us),us=0);for(var e=Hn(),n=null,r=Eh;r!==null;){var i=r.next,s=xA(r,e);s===0?(r.next=null,n===null?Eh=i:n.next=i,i===null&&(Gs=n)):(n=r,(t!==0||s&3)&&(_h=!0)),r=i}hc(t)}function xA(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes&-62914561;0<s;){var a=31-sn(s),o=1<<a,l=i[a];l===-1?(!(o&n)||o&r)&&(i[a]=jI(o,e)):l<=e&&(t.expiredLanes|=o),s&=~o}if(e=Se,n=he,n=of(t,t===e?n:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),r=t.callbackNode,n===0||t===e&&(ve===2||ve===9)||t.cancelPendingCommit!==null)return r!==null&&r!==null&&Sd(r),t.callbackNode=null,t.callbackPriority=0;if(!(n&3)||ec(t,n)){if(e=n&-n,e===t.callbackPriority)return e;switch(r!==null&&Sd(r),Fg(n)){case 2:case 8:n=mT;break;case 32:n=th;break;case 268435456:n=pT;break;default:n=th}return r=AA.bind(null,t),n=zg(n,r),t.callbackPriority=e,t.callbackNode=n,e}return r!==null&&r!==null&&Sd(r),t.callbackPriority=2,t.callbackNode=null,2}function AA(t,e){if(pt!==0&&pt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var n=t.callbackNode;if(Ef()&&t.callbackNode!==n)return null;var r=he;return r=of(t,t===Se?r:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),r===0?null:(hA(t,r,e),xA(t,Hn()),t.callbackNode!=null&&t.callbackNode===n?AA.bind(null,t):null)}function N_(t,e){if(Ef())return null;hA(t,e,!0)}function gP(){SP(function(){Ee&6?zg(dT,pP):TA()})}function xy(){return us===0&&(us=gT()),us}function C_(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:xu(""+t)}function I_(t,e){var n=e.ownerDocument.createElement("input");return n.name=e.name,n.value=e.value,t.id&&n.setAttribute("form",t.id),e.parentNode.insertBefore(n,e),t=new FormData(t),n.parentNode.removeChild(n),t}function yP(t,e,n,r,i){if(e==="submit"&&n&&n.stateNode===i){var s=C_((i[$t]||null).action),a=r.submitter;a&&(e=(e=a[$t]||null)?C_(e.formAction):a.getAttribute("formAction"),e!==null&&(s=e,a=null));var o=new lf("action","action",null,r,i);t.push({event:o,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(us!==0){var l=a?I_(i,a):new FormData(i);up(n,{pending:!0,data:l,method:i.method,action:s},null,l)}}else typeof s=="function"&&(o.preventDefault(),l=a?I_(i,a):new FormData(i),up(n,{pending:!0,data:l,method:i.method,action:s},s,l))},currentTarget:i}]})}}for(var tm=0;tm<Zm.length;tm++){var nm=Zm[tm],vP=nm.toLowerCase(),EP=nm[0].toUpperCase()+nm.slice(1);kn(vP,"on"+EP)}kn(zT,"onAnimationEnd");kn(jT,"onAnimationIteration");kn(FT,"onAnimationStart");kn("dblclick","onDoubleClick");kn("focusin","onFocus");kn("focusout","onBlur");kn(OD,"onTransitionRun");kn(LD,"onTransitionStart");kn(UD,"onTransitionCancel");kn(qT,"onTransitionEnd");Na("onMouseEnter",["mouseout","mouseover"]);Na("onMouseLeave",["mouseout","mouseover"]);Na("onPointerEnter",["pointerout","pointerover"]);Na("onPointerLeave",["pointerout","pointerover"]);Rs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Rs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Rs("onBeforeInput",["compositionend","keypress","textInput","paste"]);Rs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Rs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Rs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Rl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),_P=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Rl));function SA(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var a=r.length-1;0<=a;a--){var o=r[a],l=o.instance,u=o.currentTarget;if(o=o.listener,l!==s&&i.isPropagationStopped())break e;s=o,i.currentTarget=u;try{s(i)}catch(f){dh(f)}i.currentTarget=null,s=l}else for(a=0;a<r.length;a++){if(o=r[a],l=o.instance,u=o.currentTarget,o=o.listener,l!==s&&i.isPropagationStopped())break e;s=o,i.currentTarget=u;try{s(i)}catch(f){dh(f)}i.currentTarget=null,s=l}}}}function se(t,e){var n=e[Gm];n===void 0&&(n=e[Gm]=new Set);var r=t+"__bubble";n.has(r)||(RA(e,t,2,!1),n.add(r))}function rm(t,e,n){var r=0;e&&(r|=4),RA(n,t,r,e)}var lu="_reactListening"+Math.random().toString(36).slice(2);function Ay(t){if(!t[lu]){t[lu]=!0,bT.forEach(function(n){n!=="selectionchange"&&(_P.has(n)||rm(n,!1,t),rm(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[lu]||(e[lu]=!0,rm("selectionchange",!1,e))}}function RA(t,e,n,r){switch(BA(e)){case 2:var i=KP;break;case 8:i=YP;break;default:i=Cy}n=i.bind(null,e,n,t),i=void 0,!Qm||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function im(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var o=r.stateNode.containerInfo;if(o===i)break;if(a===4)for(a=r.return;a!==null;){var l=a.tag;if((l===3||l===4)&&a.stateNode.containerInfo===i)return;a=a.return}for(;o!==null;){if(a=Zs(o),a===null)return;if(l=a.tag,l===5||l===6||l===26||l===27){r=s=a;continue e}o=o.parentNode}}r=r.return}CT(function(){var u=s,f=Gg(n),m=[];e:{var d=HT.get(t);if(d!==void 0){var y=lf,x=t;switch(t){case"keypress":if(Su(n)===0)break e;case"keydown":case"keyup":y=mD;break;case"focusin":x="focus",y=Vd;break;case"focusout":x="blur",y=Vd;break;case"beforeblur":case"afterblur":y=Vd;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=LE;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=nD;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=yD;break;case zT:case jT:case FT:y=sD;break;case qT:y=ED;break;case"scroll":case"scrollend":y=eD;break;case"wheel":y=bD;break;case"copy":case"cut":case"paste":y=oD;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=BE;break;case"toggle":case"beforetoggle":y=TD}var _=(e&4)!==0,S=!_&&(t==="scroll"||t==="scrollend"),v=_?d!==null?d+"Capture":null:d;_=[];for(var b=u,E;b!==null;){var N=b;if(E=N.stateNode,N=N.tag,N!==5&&N!==26&&N!==27||E===null||v===null||(N=bl(b,v),N!=null&&_.push(Nl(b,N,E))),S)break;b=b.return}0<_.length&&(d=new y(d,x,null,n,f),m.push({event:d,listeners:_}))}}if(!(e&7)){e:{if(d=t==="mouseover"||t==="pointerover",y=t==="mouseout"||t==="pointerout",d&&n!==Ym&&(x=n.relatedTarget||n.fromElement)&&(Zs(x)||x[Qa]))break e;if((y||d)&&(d=f.window===f?f:(d=f.ownerDocument)?d.defaultView||d.parentWindow:window,y?(x=n.relatedTarget||n.toElement,y=u,x=x?Zs(x):null,x!==null&&(S=Zl(x),_=x.tag,x!==S||_!==5&&_!==27&&_!==6)&&(x=null)):(y=null,x=u),y!==x)){if(_=LE,N="onMouseLeave",v="onMouseEnter",b="mouse",(t==="pointerout"||t==="pointerover")&&(_=BE,N="onPointerLeave",v="onPointerEnter",b="pointer"),S=y==null?d:Bo(y),E=x==null?d:Bo(x),d=new _(N,b+"leave",y,n,f),d.target=S,d.relatedTarget=E,N=null,Zs(f)===u&&(_=new _(v,b+"enter",x,n,f),_.target=E,_.relatedTarget=S,N=_),S=N,y&&x)t:{for(_=y,v=x,b=0,E=_;E;E=js(E))b++;for(E=0,N=v;N;N=js(N))E++;for(;0<b-E;)_=js(_),b--;for(;0<E-b;)v=js(v),E--;for(;b--;){if(_===v||v!==null&&_===v.alternate)break t;_=js(_),v=js(v)}_=null}else _=null;y!==null&&D_(m,d,y,_,!1),x!==null&&S!==null&&D_(m,S,x,_,!0)}}e:{if(d=u?Bo(u):window,y=d.nodeName&&d.nodeName.toLowerCase(),y==="select"||y==="input"&&d.type==="file")var M=qE;else if(FE(d))if(kT)M=MD;else{M=DD;var L=ID}else y=d.nodeName,!y||y.toLowerCase()!=="input"||d.type!=="checkbox"&&d.type!=="radio"?u&&Hg(u.elementType)&&(M=qE):M=PD;if(M&&(M=M(t,u))){VT(m,M,n,f);break e}L&&L(t,d,u),t==="focusout"&&u&&d.type==="number"&&u.memoizedProps.value!=null&&Km(d,"number",d.value)}switch(L=u?Bo(u):window,t){case"focusin":(FE(L)||L.contentEditable==="true")&&(ta=L,Xm=u,Wo=null);break;case"focusout":Wo=Xm=ta=null;break;case"mousedown":Wm=!0;break;case"contextmenu":case"mouseup":case"dragend":Wm=!1,YE(m,n,f);break;case"selectionchange":if(kD)break;case"keydown":case"keyup":YE(m,n,f)}var A;if(Yg)e:{switch(t){case"compositionstart":var w="onCompositionStart";break e;case"compositionend":w="onCompositionEnd";break e;case"compositionupdate":w="onCompositionUpdate";break e}w=void 0}else ea?PT(t,n)&&(w="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(w="onCompositionStart");w&&(DT&&n.locale!=="ko"&&(ea||w!=="onCompositionStart"?w==="onCompositionEnd"&&ea&&(A=IT()):(ci=f,$g="value"in ci?ci.value:ci.textContent,ea=!0)),L=bh(u,w),0<L.length&&(w=new UE(w,t,null,n,f),m.push({event:w,listeners:L}),A?w.data=A:(A=MT(n),A!==null&&(w.data=A)))),(A=AD?SD(t,n):RD(t,n))&&(w=bh(u,"onBeforeInput"),0<w.length&&(L=new UE("onBeforeInput","beforeinput",null,n,f),m.push({event:L,listeners:w}),L.data=A)),yP(m,t,u,n,f)}SA(m,e)})}function Nl(t,e,n){return{instance:t,listener:e,currentTarget:n}}function bh(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;if(i=i.tag,i!==5&&i!==26&&i!==27||s===null||(i=bl(t,n),i!=null&&r.unshift(Nl(t,i,s)),i=bl(t,e),i!=null&&r.push(Nl(t,i,s))),t.tag===3)return r;t=t.return}return[]}function js(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function D_(t,e,n,r,i){for(var s=e._reactName,a=[];n!==null&&n!==r;){var o=n,l=o.alternate,u=o.stateNode;if(o=o.tag,l!==null&&l===r)break;o!==5&&o!==26&&o!==27||u===null||(l=u,i?(u=bl(n,s),u!=null&&a.unshift(Nl(n,u,l))):i||(u=bl(n,s),u!=null&&a.push(Nl(n,u,l)))),n=n.return}a.length!==0&&t.push({event:e,listeners:a})}var bP=/\r\n?/g,wP=/\u0000|\uFFFD/g;function P_(t){return(typeof t=="string"?t:""+t).replace(bP,`
`).replace(wP,"")}function NA(t,e){return e=P_(e),P_(t)===e}function _f(){}function be(t,e,n,r,i,s){switch(n){case"children":typeof r=="string"?e==="body"||e==="textarea"&&r===""||Ca(t,r):(typeof r=="number"||typeof r=="bigint")&&e!=="body"&&Ca(t,""+r);break;case"className":tu(t,"class",r);break;case"tabIndex":tu(t,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":tu(t,n,r);break;case"style":NT(t,r,s);break;case"data":if(e!=="object"){tu(t,"data",r);break}case"src":case"href":if(r===""&&(e!=="a"||n!=="href")){t.removeAttribute(n);break}if(r==null||typeof r=="function"||typeof r=="symbol"||typeof r=="boolean"){t.removeAttribute(n);break}r=xu(""+r),t.setAttribute(n,r);break;case"action":case"formAction":if(typeof r=="function"){t.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof s=="function"&&(n==="formAction"?(e!=="input"&&be(t,e,"name",i.name,i,null),be(t,e,"formEncType",i.formEncType,i,null),be(t,e,"formMethod",i.formMethod,i,null),be(t,e,"formTarget",i.formTarget,i,null)):(be(t,e,"encType",i.encType,i,null),be(t,e,"method",i.method,i,null),be(t,e,"target",i.target,i,null)));if(r==null||typeof r=="symbol"||typeof r=="boolean"){t.removeAttribute(n);break}r=xu(""+r),t.setAttribute(n,r);break;case"onClick":r!=null&&(t.onclick=_f);break;case"onScroll":r!=null&&se("scroll",t);break;case"onScrollEnd":r!=null&&se("scrollend",t);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(z(61));if(n=r.__html,n!=null){if(i.children!=null)throw Error(z(60));t.innerHTML=n}}break;case"multiple":t.multiple=r&&typeof r!="function"&&typeof r!="symbol";break;case"muted":t.muted=r&&typeof r!="function"&&typeof r!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(r==null||typeof r=="function"||typeof r=="boolean"||typeof r=="symbol"){t.removeAttribute("xlink:href");break}n=xu(""+r),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":r!=null&&typeof r!="function"&&typeof r!="symbol"?t.setAttribute(n,""+r):t.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&typeof r!="function"&&typeof r!="symbol"?t.setAttribute(n,""):t.removeAttribute(n);break;case"capture":case"download":r===!0?t.setAttribute(n,""):r!==!1&&r!=null&&typeof r!="function"&&typeof r!="symbol"?t.setAttribute(n,r):t.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":r!=null&&typeof r!="function"&&typeof r!="symbol"&&!isNaN(r)&&1<=r?t.setAttribute(n,r):t.removeAttribute(n);break;case"rowSpan":case"start":r==null||typeof r=="function"||typeof r=="symbol"||isNaN(r)?t.removeAttribute(n):t.setAttribute(n,r);break;case"popover":se("beforetoggle",t),se("toggle",t),Tu(t,"popover",r);break;case"xlinkActuate":fr(t,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":fr(t,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":fr(t,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":fr(t,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":fr(t,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":fr(t,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":fr(t,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":fr(t,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":fr(t,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":Tu(t,"is",r);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=ZI.get(n)||n,Tu(t,n,r))}}function wp(t,e,n,r,i,s){switch(n){case"style":NT(t,r,s);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(z(61));if(n=r.__html,n!=null){if(i.children!=null)throw Error(z(60));t.innerHTML=n}}break;case"children":typeof r=="string"?Ca(t,r):(typeof r=="number"||typeof r=="bigint")&&Ca(t,""+r);break;case"onScroll":r!=null&&se("scroll",t);break;case"onScrollEnd":r!=null&&se("scrollend",t);break;case"onClick":r!=null&&(t.onclick=_f);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!wT.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(i=n.endsWith("Capture"),e=n.slice(2,i?n.length-7:void 0),s=t[$t]||null,s=s!=null?s[n]:null,typeof s=="function"&&t.removeEventListener(e,s,i),typeof r=="function")){typeof s!="function"&&s!==null&&(n in t?t[n]=null:t.hasAttribute(n)&&t.removeAttribute(n)),t.addEventListener(e,r,i);break e}n in t?t[n]=r:r===!0?t.setAttribute(n,""):Tu(t,n,r)}}}function yt(t,e,n){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":se("error",t),se("load",t);var r=!1,i=!1,s;for(s in n)if(n.hasOwnProperty(s)){var a=n[s];if(a!=null)switch(s){case"src":r=!0;break;case"srcSet":i=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(z(137,e));default:be(t,e,s,a,n,null)}}i&&be(t,e,"srcSet",n.srcSet,n,null),r&&be(t,e,"src",n.src,n,null);return;case"input":se("invalid",t);var o=s=a=i=null,l=null,u=null;for(r in n)if(n.hasOwnProperty(r)){var f=n[r];if(f!=null)switch(r){case"name":i=f;break;case"type":a=f;break;case"checked":l=f;break;case"defaultChecked":u=f;break;case"value":s=f;break;case"defaultValue":o=f;break;case"children":case"dangerouslySetInnerHTML":if(f!=null)throw Error(z(137,e));break;default:be(t,e,r,f,n,null)}}AT(t,s,o,l,u,a,i,!1),nh(t);return;case"select":se("invalid",t),r=a=s=null;for(i in n)if(n.hasOwnProperty(i)&&(o=n[i],o!=null))switch(i){case"value":s=o;break;case"defaultValue":a=o;break;case"multiple":r=o;default:be(t,e,i,o,n,null)}e=s,n=a,t.multiple=!!r,e!=null?pa(t,!!r,e,!1):n!=null&&pa(t,!!r,n,!0);return;case"textarea":se("invalid",t),s=i=r=null;for(a in n)if(n.hasOwnProperty(a)&&(o=n[a],o!=null))switch(a){case"value":r=o;break;case"defaultValue":i=o;break;case"children":s=o;break;case"dangerouslySetInnerHTML":if(o!=null)throw Error(z(91));break;default:be(t,e,a,o,n,null)}RT(t,r,i,s),nh(t);return;case"option":for(l in n)if(n.hasOwnProperty(l)&&(r=n[l],r!=null))switch(l){case"selected":t.selected=r&&typeof r!="function"&&typeof r!="symbol";break;default:be(t,e,l,r,n,null)}return;case"dialog":se("beforetoggle",t),se("toggle",t),se("cancel",t),se("close",t);break;case"iframe":case"object":se("load",t);break;case"video":case"audio":for(r=0;r<Rl.length;r++)se(Rl[r],t);break;case"image":se("error",t),se("load",t);break;case"details":se("toggle",t);break;case"embed":case"source":case"link":se("error",t),se("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(u in n)if(n.hasOwnProperty(u)&&(r=n[u],r!=null))switch(u){case"children":case"dangerouslySetInnerHTML":throw Error(z(137,e));default:be(t,e,u,r,n,null)}return;default:if(Hg(e)){for(f in n)n.hasOwnProperty(f)&&(r=n[f],r!==void 0&&wp(t,e,f,r,n,void 0));return}}for(o in n)n.hasOwnProperty(o)&&(r=n[o],r!=null&&be(t,e,o,r,n,null))}function TP(t,e,n,r){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var i=null,s=null,a=null,o=null,l=null,u=null,f=null;for(y in n){var m=n[y];if(n.hasOwnProperty(y)&&m!=null)switch(y){case"checked":break;case"value":break;case"defaultValue":l=m;default:r.hasOwnProperty(y)||be(t,e,y,null,r,m)}}for(var d in r){var y=r[d];if(m=n[d],r.hasOwnProperty(d)&&(y!=null||m!=null))switch(d){case"type":s=y;break;case"name":i=y;break;case"checked":u=y;break;case"defaultChecked":f=y;break;case"value":a=y;break;case"defaultValue":o=y;break;case"children":case"dangerouslySetInnerHTML":if(y!=null)throw Error(z(137,e));break;default:y!==m&&be(t,e,d,y,r,m)}}$m(t,a,o,l,u,f,s,i);return;case"select":y=a=o=d=null;for(s in n)if(l=n[s],n.hasOwnProperty(s)&&l!=null)switch(s){case"value":break;case"multiple":y=l;default:r.hasOwnProperty(s)||be(t,e,s,null,r,l)}for(i in r)if(s=r[i],l=n[i],r.hasOwnProperty(i)&&(s!=null||l!=null))switch(i){case"value":d=s;break;case"defaultValue":o=s;break;case"multiple":a=s;default:s!==l&&be(t,e,i,s,r,l)}e=o,n=a,r=y,d!=null?pa(t,!!n,d,!1):!!r!=!!n&&(e!=null?pa(t,!!n,e,!0):pa(t,!!n,n?[]:"",!1));return;case"textarea":y=d=null;for(o in n)if(i=n[o],n.hasOwnProperty(o)&&i!=null&&!r.hasOwnProperty(o))switch(o){case"value":break;case"children":break;default:be(t,e,o,null,r,i)}for(a in r)if(i=r[a],s=n[a],r.hasOwnProperty(a)&&(i!=null||s!=null))switch(a){case"value":d=i;break;case"defaultValue":y=i;break;case"children":break;case"dangerouslySetInnerHTML":if(i!=null)throw Error(z(91));break;default:i!==s&&be(t,e,a,i,r,s)}ST(t,d,y);return;case"option":for(var x in n)if(d=n[x],n.hasOwnProperty(x)&&d!=null&&!r.hasOwnProperty(x))switch(x){case"selected":t.selected=!1;break;default:be(t,e,x,null,r,d)}for(l in r)if(d=r[l],y=n[l],r.hasOwnProperty(l)&&d!==y&&(d!=null||y!=null))switch(l){case"selected":t.selected=d&&typeof d!="function"&&typeof d!="symbol";break;default:be(t,e,l,d,r,y)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var _ in n)d=n[_],n.hasOwnProperty(_)&&d!=null&&!r.hasOwnProperty(_)&&be(t,e,_,null,r,d);for(u in r)if(d=r[u],y=n[u],r.hasOwnProperty(u)&&d!==y&&(d!=null||y!=null))switch(u){case"children":case"dangerouslySetInnerHTML":if(d!=null)throw Error(z(137,e));break;default:be(t,e,u,d,r,y)}return;default:if(Hg(e)){for(var S in n)d=n[S],n.hasOwnProperty(S)&&d!==void 0&&!r.hasOwnProperty(S)&&wp(t,e,S,void 0,r,d);for(f in r)d=r[f],y=n[f],!r.hasOwnProperty(f)||d===y||d===void 0&&y===void 0||wp(t,e,f,d,r,y);return}}for(var v in n)d=n[v],n.hasOwnProperty(v)&&d!=null&&!r.hasOwnProperty(v)&&be(t,e,v,null,r,d);for(m in r)d=r[m],y=n[m],!r.hasOwnProperty(m)||d===y||d==null&&y==null||be(t,e,m,d,r,y)}var Tp=null,xp=null;function wh(t){return t.nodeType===9?t:t.ownerDocument}function M_(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function CA(t,e){if(t===0)switch(e){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&e==="foreignObject"?0:t}function Ap(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.children=="bigint"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var sm=null;function xP(){var t=window.event;return t&&t.type==="popstate"?t===sm?!1:(sm=t,!0):(sm=null,!1)}var IA=typeof setTimeout=="function"?setTimeout:void 0,AP=typeof clearTimeout=="function"?clearTimeout:void 0,V_=typeof Promise=="function"?Promise:void 0,SP=typeof queueMicrotask=="function"?queueMicrotask:typeof V_<"u"?function(t){return V_.resolve(null).then(t).catch(RP)}:IA;function RP(t){setTimeout(function(){throw t})}function Ui(t){return t==="head"}function k_(t,e){var n=e,r=0,i=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(0<r&&8>r){n=r;var a=t.ownerDocument;if(n&1&&ll(a.documentElement),n&2&&ll(a.body),n&4)for(n=a.head,ll(n),a=n.firstChild;a;){var o=a.nextSibling,l=a.nodeName;a[nc]||l==="SCRIPT"||l==="STYLE"||l==="LINK"&&a.rel.toLowerCase()==="stylesheet"||n.removeChild(a),a=o}}if(i===0){t.removeChild(s),Ml(e);return}i--}else n==="$"||n==="$?"||n==="$!"?i++:r=n.charCodeAt(0)-48;else r=0;n=s}while(n);Ml(e)}function Sp(t){var e=t.firstChild;for(e&&e.nodeType===10&&(e=e.nextSibling);e;){var n=e;switch(e=e.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":Sp(n),qg(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}t.removeChild(n)}}function NP(t,e,n,r){for(;t.nodeType===1;){var i=n;if(t.nodeName.toLowerCase()!==e.toLowerCase()){if(!r&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(r){if(!t[nc])switch(e){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(s=t.getAttribute("rel"),s==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(s!==i.rel||t.getAttribute("href")!==(i.href==null||i.href===""?null:i.href)||t.getAttribute("crossorigin")!==(i.crossOrigin==null?null:i.crossOrigin)||t.getAttribute("title")!==(i.title==null?null:i.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(s=t.getAttribute("src"),(s!==(i.src==null?null:i.src)||t.getAttribute("type")!==(i.type==null?null:i.type)||t.getAttribute("crossorigin")!==(i.crossOrigin==null?null:i.crossOrigin))&&s&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(e==="input"&&t.type==="hidden"){var s=i.name==null?null:""+i.name;if(i.type==="hidden"&&t.getAttribute("name")===s)return t}else return t;if(t=Dn(t.nextSibling),t===null)break}return null}function CP(t,e,n){if(e==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=Dn(t.nextSibling),t===null))return null;return t}function Rp(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function IP(t,e){var n=t.ownerDocument;if(t.data!=="$?"||n.readyState==="complete")e();else{var r=function(){e(),n.removeEventListener("DOMContentLoaded",r)};n.addEventListener("DOMContentLoaded",r),t._reactRetry=r}}function Dn(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?"||e==="F!"||e==="F")break;if(e==="/$")return null}}return t}var Np=null;function O_(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}function DA(t,e,n){switch(e=wh(n),t){case"html":if(t=e.documentElement,!t)throw Error(z(452));return t;case"head":if(t=e.head,!t)throw Error(z(453));return t;case"body":if(t=e.body,!t)throw Error(z(454));return t;default:throw Error(z(451))}}function ll(t){for(var e=t.attributes;e.length;)t.removeAttributeNode(e[0]);qg(t)}var Tn=new Map,L_=new Set;function Th(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var jr=pe.d;pe.d={f:DP,r:PP,D:MP,C:VP,L:kP,m:OP,X:UP,S:LP,M:BP};function DP(){var t=jr.f(),e=yf();return t||e}function PP(t){var e=Xa(t);e!==null&&e.tag===5&&e.type==="form"?xx(e):jr.r(t)}var Ja=typeof document>"u"?null:document;function PA(t,e,n){var r=Ja;if(r&&typeof e=="string"&&e){var i=gn(e);i='link[rel="'+t+'"][href="'+i+'"]',typeof n=="string"&&(i+='[crossorigin="'+n+'"]'),L_.has(i)||(L_.add(i),t={rel:t,crossOrigin:n,href:e},r.querySelector(i)===null&&(e=r.createElement("link"),yt(e,"link",t),lt(e),r.head.appendChild(e)))}}function MP(t){jr.D(t),PA("dns-prefetch",t,null)}function VP(t,e){jr.C(t,e),PA("preconnect",t,e)}function kP(t,e,n){jr.L(t,e,n);var r=Ja;if(r&&t&&e){var i='link[rel="preload"][as="'+gn(e)+'"]';e==="image"&&n&&n.imageSrcSet?(i+='[imagesrcset="'+gn(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(i+='[imagesizes="'+gn(n.imageSizes)+'"]')):i+='[href="'+gn(t)+'"]';var s=i;switch(e){case"style":s=La(t);break;case"script":s=eo(t)}Tn.has(s)||(t=Ce({rel:"preload",href:e==="image"&&n&&n.imageSrcSet?void 0:t,as:e},n),Tn.set(s,t),r.querySelector(i)!==null||e==="style"&&r.querySelector(fc(s))||e==="script"&&r.querySelector(dc(s))||(e=r.createElement("link"),yt(e,"link",t),lt(e),r.head.appendChild(e)))}}function OP(t,e){jr.m(t,e);var n=Ja;if(n&&t){var r=e&&typeof e.as=="string"?e.as:"script",i='link[rel="modulepreload"][as="'+gn(r)+'"][href="'+gn(t)+'"]',s=i;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":s=eo(t)}if(!Tn.has(s)&&(t=Ce({rel:"modulepreload",href:t},e),Tn.set(s,t),n.querySelector(i)===null)){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(dc(s)))return}r=n.createElement("link"),yt(r,"link",t),lt(r),n.head.appendChild(r)}}}function LP(t,e,n){jr.S(t,e,n);var r=Ja;if(r&&t){var i=ma(r).hoistableStyles,s=La(t);e=e||"default";var a=i.get(s);if(!a){var o={loading:0,preload:null};if(a=r.querySelector(fc(s)))o.loading=5;else{t=Ce({rel:"stylesheet",href:t,"data-precedence":e},n),(n=Tn.get(s))&&Sy(t,n);var l=a=r.createElement("link");lt(l),yt(l,"link",t),l._p=new Promise(function(u,f){l.onload=u,l.onerror=f}),l.addEventListener("load",function(){o.loading|=1}),l.addEventListener("error",function(){o.loading|=2}),o.loading|=4,Mu(a,e,r)}a={type:"stylesheet",instance:a,count:1,state:o},i.set(s,a)}}}function UP(t,e){jr.X(t,e);var n=Ja;if(n&&t){var r=ma(n).hoistableScripts,i=eo(t),s=r.get(i);s||(s=n.querySelector(dc(i)),s||(t=Ce({src:t,async:!0},e),(e=Tn.get(i))&&Ry(t,e),s=n.createElement("script"),lt(s),yt(s,"link",t),n.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},r.set(i,s))}}function BP(t,e){jr.M(t,e);var n=Ja;if(n&&t){var r=ma(n).hoistableScripts,i=eo(t),s=r.get(i);s||(s=n.querySelector(dc(i)),s||(t=Ce({src:t,async:!0,type:"module"},e),(e=Tn.get(i))&&Ry(t,e),s=n.createElement("script"),lt(s),yt(s,"link",t),n.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},r.set(i,s))}}function U_(t,e,n,r){var i=(i=di.current)?Th(i):null;if(!i)throw Error(z(446));switch(t){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(e=La(n.href),n=ma(i).hoistableStyles,r=n.get(e),r||(r={type:"style",instance:null,count:0,state:null},n.set(e,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){t=La(n.href);var s=ma(i).hoistableStyles,a=s.get(t);if(a||(i=i.ownerDocument||i,a={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},s.set(t,a),(s=i.querySelector(fc(t)))&&!s._p&&(a.instance=s,a.state.loading=5),Tn.has(t)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},Tn.set(t,n),s||zP(i,t,n,a.state))),e&&r===null)throw Error(z(528,""));return a}if(e&&r!==null)throw Error(z(529,""));return null;case"script":return e=n.async,n=n.src,typeof n=="string"&&e&&typeof e!="function"&&typeof e!="symbol"?(e=eo(n),n=ma(i).hoistableScripts,r=n.get(e),r||(r={type:"script",instance:null,count:0,state:null},n.set(e,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(z(444,t))}}function La(t){return'href="'+gn(t)+'"'}function fc(t){return'link[rel="stylesheet"]['+t+"]"}function MA(t){return Ce({},t,{"data-precedence":t.precedence,precedence:null})}function zP(t,e,n,r){t.querySelector('link[rel="preload"][as="style"]['+e+"]")?r.loading=1:(e=t.createElement("link"),r.preload=e,e.addEventListener("load",function(){return r.loading|=1}),e.addEventListener("error",function(){return r.loading|=2}),yt(e,"link",n),lt(e),t.head.appendChild(e))}function eo(t){return'[src="'+gn(t)+'"]'}function dc(t){return"script[async]"+t}function B_(t,e,n){if(e.count++,e.instance===null)switch(e.type){case"style":var r=t.querySelector('style[data-href~="'+gn(n.href)+'"]');if(r)return e.instance=r,lt(r),r;var i=Ce({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return r=(t.ownerDocument||t).createElement("style"),lt(r),yt(r,"style",i),Mu(r,n.precedence,t),e.instance=r;case"stylesheet":i=La(n.href);var s=t.querySelector(fc(i));if(s)return e.state.loading|=4,e.instance=s,lt(s),s;r=MA(n),(i=Tn.get(i))&&Sy(r,i),s=(t.ownerDocument||t).createElement("link"),lt(s);var a=s;return a._p=new Promise(function(o,l){a.onload=o,a.onerror=l}),yt(s,"link",r),e.state.loading|=4,Mu(s,n.precedence,t),e.instance=s;case"script":return s=eo(n.src),(i=t.querySelector(dc(s)))?(e.instance=i,lt(i),i):(r=n,(i=Tn.get(s))&&(r=Ce({},n),Ry(r,i)),t=t.ownerDocument||t,i=t.createElement("script"),lt(i),yt(i,"link",r),t.head.appendChild(i),e.instance=i);case"void":return null;default:throw Error(z(443,e.type))}else e.type==="stylesheet"&&!(e.state.loading&4)&&(r=e.instance,e.state.loading|=4,Mu(r,n.precedence,t));return e.instance}function Mu(t,e,n){for(var r=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),i=r.length?r[r.length-1]:null,s=i,a=0;a<r.length;a++){var o=r[a];if(o.dataset.precedence===e)s=o;else if(s!==i)break}s?s.parentNode.insertBefore(t,s.nextSibling):(e=n.nodeType===9?n.head:n,e.insertBefore(t,e.firstChild))}function Sy(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.title==null&&(t.title=e.title)}function Ry(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.integrity==null&&(t.integrity=e.integrity)}var Vu=null;function z_(t,e,n){if(Vu===null){var r=new Map,i=Vu=new Map;i.set(n,r)}else i=Vu,r=i.get(n),r||(r=new Map,i.set(n,r));if(r.has(t))return r;for(r.set(t,null),n=n.getElementsByTagName(t),i=0;i<n.length;i++){var s=n[i];if(!(s[nc]||s[At]||t==="link"&&s.getAttribute("rel")==="stylesheet")&&s.namespaceURI!=="http://www.w3.org/2000/svg"){var a=s.getAttribute(e)||"";a=t+a;var o=r.get(a);o?o.push(s):r.set(a,[s])}}return r}function j_(t,e,n){t=t.ownerDocument||t,t.head.insertBefore(n,e==="title"?t.querySelector("head > title"):null)}function jP(t,e,n){if(n===1||e.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof e.precedence!="string"||typeof e.href!="string"||e.href==="")break;return!0;case"link":if(typeof e.rel!="string"||typeof e.href!="string"||e.href===""||e.onLoad||e.onError)break;switch(e.rel){case"stylesheet":return t=e.disabled,typeof e.precedence=="string"&&t==null;default:return!0}case"script":if(e.async&&typeof e.async!="function"&&typeof e.async!="symbol"&&!e.onLoad&&!e.onError&&e.src&&typeof e.src=="string")return!0}return!1}function VA(t){return!(t.type==="stylesheet"&&!(t.state.loading&3))}var Cl=null;function FP(){}function qP(t,e,n){if(Cl===null)throw Error(z(475));var r=Cl;if(e.type==="stylesheet"&&(typeof n.media!="string"||matchMedia(n.media).matches!==!1)&&!(e.state.loading&4)){if(e.instance===null){var i=La(n.href),s=t.querySelector(fc(i));if(s){t=s._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(r.count++,r=xh.bind(r),t.then(r,r)),e.state.loading|=4,e.instance=s,lt(s);return}s=t.ownerDocument||t,n=MA(n),(i=Tn.get(i))&&Sy(n,i),s=s.createElement("link"),lt(s);var a=s;a._p=new Promise(function(o,l){a.onload=o,a.onerror=l}),yt(s,"link",n),e.instance=s}r.stylesheets===null&&(r.stylesheets=new Map),r.stylesheets.set(e,t),(t=e.state.preload)&&!(e.state.loading&3)&&(r.count++,e=xh.bind(r),t.addEventListener("load",e),t.addEventListener("error",e))}}function HP(){if(Cl===null)throw Error(z(475));var t=Cl;return t.stylesheets&&t.count===0&&Cp(t,t.stylesheets),0<t.count?function(e){var n=setTimeout(function(){if(t.stylesheets&&Cp(t,t.stylesheets),t.unsuspend){var r=t.unsuspend;t.unsuspend=null,r()}},6e4);return t.unsuspend=e,function(){t.unsuspend=null,clearTimeout(n)}}:null}function xh(){if(this.count--,this.count===0){if(this.stylesheets)Cp(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Ah=null;function Cp(t,e){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Ah=new Map,e.forEach(GP,t),Ah=null,xh.call(t))}function GP(t,e){if(!(e.state.loading&4)){var n=Ah.get(t);if(n)var r=n.get(null);else{n=new Map,Ah.set(t,n);for(var i=t.querySelectorAll("link[data-precedence],style[data-precedence]"),s=0;s<i.length;s++){var a=i[s];(a.nodeName==="LINK"||a.getAttribute("media")!=="not all")&&(n.set(a.dataset.precedence,a),r=a)}r&&n.set(null,r)}i=e.instance,a=i.getAttribute("data-precedence"),s=n.get(a)||r,s===r&&n.set(null,i),n.set(a,i),this.count++,r=xh.bind(this),i.addEventListener("load",r),i.addEventListener("error",r),s?s.parentNode.insertBefore(i,s.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(i,t.firstChild)),e.state.loading|=4}}var Il={$$typeof:gr,Provider:null,Consumer:null,_currentValue:is,_currentValue2:is,_threadCount:0};function $P(t,e,n,r,i,s,a,o){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Rd(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Rd(0),this.hiddenUpdates=Rd(null),this.identifierPrefix=r,this.onUncaughtError=i,this.onCaughtError=s,this.onRecoverableError=a,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=o,this.incompleteTransitions=new Map}function kA(t,e,n,r,i,s,a,o,l,u,f,m){return t=new $P(t,e,n,a,o,l,u,m),e=1,s===!0&&(e|=24),s=en(3,null,null,e),t.current=s,s.stateNode=t,e=ty(),e.refCount++,t.pooledCache=e,e.refCount++,s.memoizedState={element:r,isDehydrated:n,cache:e},ry(s),t}function OA(t){return t?(t=ia,t):ia}function LA(t,e,n,r,i,s){i=OA(i),r.context===null?r.context=i:r.pendingContext=i,r=mi(e),r.payload={element:n},s=s===void 0?null:s,s!==null&&(r.callback=s),n=pi(t,r,e),n!==null&&(on(n,t,e),el(n,t,e))}function F_(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Ny(t,e){F_(t,e),(t=t.alternate)&&F_(t,e)}function UA(t){if(t.tag===13){var e=Wa(t,67108864);e!==null&&on(e,t,67108864),Ny(t,67108864)}}var Sh=!0;function KP(t,e,n,r){var i=W.T;W.T=null;var s=pe.p;try{pe.p=2,Cy(t,e,n,r)}finally{pe.p=s,W.T=i}}function YP(t,e,n,r){var i=W.T;W.T=null;var s=pe.p;try{pe.p=8,Cy(t,e,n,r)}finally{pe.p=s,W.T=i}}function Cy(t,e,n,r){if(Sh){var i=Ip(r);if(i===null)im(t,e,r,Rh,n),q_(t,r);else if(XP(i,t,e,n,r))r.stopPropagation();else if(q_(t,r),e&4&&-1<QP.indexOf(t)){for(;i!==null;){var s=Xa(i);if(s!==null)switch(s.tag){case 3:if(s=s.stateNode,s.current.memoizedState.isDehydrated){var a=Xi(s.pendingLanes);if(a!==0){var o=s;for(o.pendingLanes|=2,o.entangledLanes|=2;a;){var l=1<<31-sn(a);o.entanglements[1]|=l,a&=~l}sr(s),!(Ee&6)&&(yh=Hn()+500,hc(0))}}break;case 13:o=Wa(s,2),o!==null&&on(o,s,2),yf(),Ny(s,2)}if(s=Ip(r),s===null&&im(t,e,r,Rh,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else im(t,e,r,null,n)}}function Ip(t){return t=Gg(t),Iy(t)}var Rh=null;function Iy(t){if(Rh=null,t=Zs(t),t!==null){var e=Zl(t);if(e===null)t=null;else{var n=e.tag;if(n===13){if(t=cT(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null)}}return Rh=t,null}function BA(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(VI()){case dT:return 2;case mT:return 8;case th:case kI:return 32;case pT:return 268435456;default:return 32}default:return 32}}var Dp=!1,vi=null,Ei=null,_i=null,Dl=new Map,Pl=new Map,ri=[],QP="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function q_(t,e){switch(t){case"focusin":case"focusout":vi=null;break;case"dragenter":case"dragleave":Ei=null;break;case"mouseover":case"mouseout":_i=null;break;case"pointerover":case"pointerout":Dl.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pl.delete(e.pointerId)}}function Vo(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Xa(e),e!==null&&UA(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function XP(t,e,n,r,i){switch(e){case"focusin":return vi=Vo(vi,t,e,n,r,i),!0;case"dragenter":return Ei=Vo(Ei,t,e,n,r,i),!0;case"mouseover":return _i=Vo(_i,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return Dl.set(s,Vo(Dl.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Pl.set(s,Vo(Pl.get(s)||null,t,e,n,r,i)),!0}return!1}function zA(t){var e=Zs(t.target);if(e!==null){var n=Zl(e);if(n!==null){if(e=n.tag,e===13){if(e=cT(n),e!==null){t.blockedOn=e,qI(t.priority,function(){if(n.tag===13){var r=an();r=jg(r);var i=Wa(n,r);i!==null&&on(i,n,r),Ny(n,r)}});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function ku(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Ip(t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Ym=r,n.target.dispatchEvent(r),Ym=null}else return e=Xa(n),e!==null&&UA(e),t.blockedOn=n,!1;e.shift()}return!0}function H_(t,e,n){ku(t)&&n.delete(e)}function WP(){Dp=!1,vi!==null&&ku(vi)&&(vi=null),Ei!==null&&ku(Ei)&&(Ei=null),_i!==null&&ku(_i)&&(_i=null),Dl.forEach(H_),Pl.forEach(H_)}function cu(t,e){t.blockedOn===e&&(t.blockedOn=null,Dp||(Dp=!0,st.unstable_scheduleCallback(st.unstable_NormalPriority,WP)))}var uu=null;function G_(t){uu!==t&&(uu=t,st.unstable_scheduleCallback(st.unstable_NormalPriority,function(){uu===t&&(uu=null);for(var e=0;e<t.length;e+=3){var n=t[e],r=t[e+1],i=t[e+2];if(typeof r!="function"){if(Iy(r||n)===null)continue;break}var s=Xa(n);s!==null&&(t.splice(e,3),e-=3,up(s,{pending:!0,data:i,method:n.method,action:r},r,i))}}))}function Ml(t){function e(l){return cu(l,t)}vi!==null&&cu(vi,t),Ei!==null&&cu(Ei,t),_i!==null&&cu(_i,t),Dl.forEach(e),Pl.forEach(e);for(var n=0;n<ri.length;n++){var r=ri[n];r.blockedOn===t&&(r.blockedOn=null)}for(;0<ri.length&&(n=ri[0],n.blockedOn===null);)zA(n),n.blockedOn===null&&ri.shift();if(n=(t.ownerDocument||t).$$reactFormReplay,n!=null)for(r=0;r<n.length;r+=3){var i=n[r],s=n[r+1],a=i[$t]||null;if(typeof s=="function")a||G_(n);else if(a){var o=null;if(s&&s.hasAttribute("formAction")){if(i=s,a=s[$t]||null)o=a.formAction;else if(Iy(i)!==null)continue}else o=a.action;typeof o=="function"?n[r+1]=o:(n.splice(r,3),r-=3),G_(n)}}}function Dy(t){this._internalRoot=t}bf.prototype.render=Dy.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(z(409));var n=e.current,r=an();LA(n,r,t,e,null,null)};bf.prototype.unmount=Dy.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;LA(t.current,2,null,t,null,null),yf(),e[Qa]=null}};function bf(t){this._internalRoot=t}bf.prototype.unstable_scheduleHydration=function(t){if(t){var e=_T();t={blockedOn:null,target:t,priority:e};for(var n=0;n<ri.length&&e!==0&&e<ri[n].priority;n++);ri.splice(n,0,t),n===0&&zA(t)}};var $_=oT.version;if($_!=="19.1.1")throw Error(z(527,$_,"19.1.1"));pe.findDOMNode=function(t){var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(z(188)):(t=Object.keys(t).join(","),Error(z(268,t)));return t=RI(e),t=t!==null?uT(t):null,t=t===null?null:t.stateNode,t};var ZP={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:W,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var hu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!hu.isDisabled&&hu.supportsFiber)try{Jl=hu.inject(ZP),rn=hu}catch{}}sf.createRoot=function(t,e){if(!lT(t))throw Error(z(299));var n=!1,r="",i=kx,s=Ox,a=Lx,o=null;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onUncaughtError!==void 0&&(i=e.onUncaughtError),e.onCaughtError!==void 0&&(s=e.onCaughtError),e.onRecoverableError!==void 0&&(a=e.onRecoverableError),e.unstable_transitionCallbacks!==void 0&&(o=e.unstable_transitionCallbacks)),e=kA(t,1,!1,null,null,n,r,i,s,a,o,null),t[Qa]=e.current,Ay(t),new Dy(e)};sf.hydrateRoot=function(t,e,n){if(!lT(t))throw Error(z(299));var r=!1,i="",s=kx,a=Ox,o=Lx,l=null,u=null;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onUncaughtError!==void 0&&(s=n.onUncaughtError),n.onCaughtError!==void 0&&(a=n.onCaughtError),n.onRecoverableError!==void 0&&(o=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(l=n.unstable_transitionCallbacks),n.formState!==void 0&&(u=n.formState)),e=kA(t,1,!0,e,n??null,r,i,s,a,o,l,u),e.context=OA(null),n=e.current,r=an(),r=jg(r),i=mi(r),i.callback=null,pi(n,i,r),n=r,e.current.lanes=n,tc(e,n),sr(e),t[Qa]=e.current,Ay(t),new bf(e)};sf.version="19.1.1";function jA(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(jA)}catch(t){console.error(t)}}jA(),tT.exports=sf;var JP=tT.exports;/**
 * react-router v7.8.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var K_="popstate";function eM(t={}){function e(r,i){let{pathname:s,search:a,hash:o}=r.location;return Pp("",{pathname:s,search:a,hash:o},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Vl(i)}return nM(e,n,null,t)}function Ve(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Pn(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function tM(){return Math.random().toString(36).substring(2,10)}function Y_(t,e){return{usr:t.state,key:t.key,idx:e}}function Pp(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?to(e):e,state:n,key:e&&e.key||r||tM()}}function Vl({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function to(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function nM(t,e,n,r={}){let{window:i=document.defaultView,v5Compat:s=!1}=r,a=i.history,o="POP",l=null,u=f();u==null&&(u=0,a.replaceState({...a.state,idx:u},""));function f(){return(a.state||{idx:null}).idx}function m(){o="POP";let S=f(),v=S==null?null:S-u;u=S,l&&l({action:o,location:_.location,delta:v})}function d(S,v){o="PUSH";let b=Pp(_.location,S,v);u=f()+1;let E=Y_(b,u),N=_.createHref(b);try{a.pushState(E,"",N)}catch(M){if(M instanceof DOMException&&M.name==="DataCloneError")throw M;i.location.assign(N)}s&&l&&l({action:o,location:_.location,delta:1})}function y(S,v){o="REPLACE";let b=Pp(_.location,S,v);u=f();let E=Y_(b,u),N=_.createHref(b);a.replaceState(E,"",N),s&&l&&l({action:o,location:_.location,delta:0})}function x(S){return rM(S)}let _={get action(){return o},get location(){return t(i,a)},listen(S){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(K_,m),l=S,()=>{i.removeEventListener(K_,m),l=null}},createHref(S){return e(i,S)},createURL:x,encodeLocation(S){let v=x(S);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:d,replace:y,go(S){return a.go(S)}};return _}function rM(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Ve(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:Vl(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function FA(t,e,n="/"){return iM(t,e,n,!1)}function iM(t,e,n,r){let i=typeof e=="string"?to(e):e,s=Pr(i.pathname||"/",n);if(s==null)return null;let a=qA(t);sM(a);let o=null;for(let l=0;o==null&&l<a.length;++l){let u=gM(s);o=mM(a[l],u,r)}return o}function qA(t,e=[],n=[],r="",i=!1){let s=(a,o,l=i,u)=>{let f={relativePath:u===void 0?a.path||"":u,caseSensitive:a.caseSensitive===!0,childrenIndex:o,route:a};if(f.relativePath.startsWith("/")){if(!f.relativePath.startsWith(r)&&l)return;Ve(f.relativePath.startsWith(r),`Absolute route path "${f.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),f.relativePath=f.relativePath.slice(r.length)}let m=Ar([r,f.relativePath]),d=n.concat(f);a.children&&a.children.length>0&&(Ve(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${m}".`),qA(a.children,e,d,m,l)),!(a.path==null&&!a.index)&&e.push({path:m,score:fM(m,a.index),routesMeta:d})};return t.forEach((a,o)=>{var l;if(a.path===""||!((l=a.path)!=null&&l.includes("?")))s(a,o);else for(let u of HA(a.path))s(a,o,!0,u)}),e}function HA(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let a=HA(r.join("/")),o=[];return o.push(...a.map(l=>l===""?s:[s,l].join("/"))),i&&o.push(...a),o.map(l=>t.startsWith("/")&&l===""?"/":l)}function sM(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:dM(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var aM=/^:[\w-]+$/,oM=3,lM=2,cM=1,uM=10,hM=-2,Q_=t=>t==="*";function fM(t,e){let n=t.split("/"),r=n.length;return n.some(Q_)&&(r+=hM),e&&(r+=lM),n.filter(i=>!Q_(i)).reduce((i,s)=>i+(aM.test(s)?oM:s===""?cM:uM),r)}function dM(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function mM(t,e,n=!1){let{routesMeta:r}=t,i={},s="/",a=[];for(let o=0;o<r.length;++o){let l=r[o],u=o===r.length-1,f=s==="/"?e:e.slice(s.length)||"/",m=Nh({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},f),d=l.route;if(!m&&u&&n&&!r[r.length-1].route.index&&(m=Nh({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},f)),!m)return null;Object.assign(i,m.params),a.push({params:i,pathname:Ar([s,m.pathname]),pathnameBase:_M(Ar([s,m.pathnameBase])),route:d}),m.pathnameBase!=="/"&&(s=Ar([s,m.pathnameBase]))}return a}function Nh(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=pM(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],a=s.replace(/(.)\/+$/,"$1"),o=i.slice(1);return{params:r.reduce((u,{paramName:f,isOptional:m},d)=>{if(f==="*"){let x=o[d]||"";a=s.slice(0,s.length-x.length).replace(/(.)\/+$/,"$1")}const y=o[d];return m&&!y?u[f]=void 0:u[f]=(y||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:a,pattern:t}}function pM(t,e=!1,n=!0){Pn(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,o,l)=>(r.push({paramName:o,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function gM(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Pn(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Pr(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function yM(t,e="/"){let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?to(t):t;return{pathname:n?n.startsWith("/")?n:vM(n,e):e,search:bM(r),hash:wM(i)}}function vM(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function am(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function EM(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Py(t){let e=EM(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function My(t,e,n,r=!1){let i;typeof t=="string"?i=to(t):(i={...t},Ve(!i.pathname||!i.pathname.includes("?"),am("?","pathname","search",i)),Ve(!i.pathname||!i.pathname.includes("#"),am("#","pathname","hash",i)),Ve(!i.search||!i.search.includes("#"),am("#","search","hash",i)));let s=t===""||i.pathname==="",a=s?"/":i.pathname,o;if(a==null)o=n;else{let m=e.length-1;if(!r&&a.startsWith("..")){let d=a.split("/");for(;d[0]==="..";)d.shift(),m-=1;i.pathname=d.join("/")}o=m>=0?e[m]:"/"}let l=yM(i,o),u=a&&a!=="/"&&a.endsWith("/"),f=(s||a===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||f)&&(l.pathname+="/"),l}var Ar=t=>t.join("/").replace(/\/\/+/g,"/"),_M=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),bM=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,wM=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function TM(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var GA=["POST","PUT","PATCH","DELETE"];new Set(GA);var xM=["GET",...GA];new Set(xM);var no=I.createContext(null);no.displayName="DataRouter";var wf=I.createContext(null);wf.displayName="DataRouterState";I.createContext(!1);var $A=I.createContext({isTransitioning:!1});$A.displayName="ViewTransition";var AM=I.createContext(new Map);AM.displayName="Fetchers";var SM=I.createContext(null);SM.displayName="Await";var On=I.createContext(null);On.displayName="Navigation";var mc=I.createContext(null);mc.displayName="Location";var Ln=I.createContext({outlet:null,matches:[],isDataRoute:!1});Ln.displayName="Route";var Vy=I.createContext(null);Vy.displayName="RouteError";function RM(t,{relative:e}={}){Ve(ro(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=I.useContext(On),{hash:i,pathname:s,search:a}=pc(t,{relative:e}),o=s;return n!=="/"&&(o=s==="/"?n:Ar([n,s])),r.createHref({pathname:o,search:a,hash:i})}function ro(){return I.useContext(mc)!=null}function xn(){return Ve(ro(),"useLocation() may be used only in the context of a <Router> component."),I.useContext(mc).location}var KA="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function YA(t){I.useContext(On).static||I.useLayoutEffect(t)}function ar(){let{isDataRoute:t}=I.useContext(Ln);return t?zM():NM()}function NM(){Ve(ro(),"useNavigate() may be used only in the context of a <Router> component.");let t=I.useContext(no),{basename:e,navigator:n}=I.useContext(On),{matches:r}=I.useContext(Ln),{pathname:i}=xn(),s=JSON.stringify(Py(r)),a=I.useRef(!1);return YA(()=>{a.current=!0}),I.useCallback((l,u={})=>{if(Pn(a.current,KA),!a.current)return;if(typeof l=="number"){n.go(l);return}let f=My(l,JSON.parse(s),i,u.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:Ar([e,f.pathname])),(u.replace?n.replace:n.push)(f,u.state,u)},[e,n,s,i,t])}I.createContext(null);function ky(){let{matches:t}=I.useContext(Ln),e=t[t.length-1];return e?e.params:{}}function pc(t,{relative:e}={}){let{matches:n}=I.useContext(Ln),{pathname:r}=xn(),i=JSON.stringify(Py(n));return I.useMemo(()=>My(t,JSON.parse(i),r,e==="path"),[t,i,r,e])}function CM(t,e){return QA(t,e)}function QA(t,e,n,r,i){var b;Ve(ro(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=I.useContext(On),{matches:a}=I.useContext(Ln),o=a[a.length-1],l=o?o.params:{},u=o?o.pathname:"/",f=o?o.pathnameBase:"/",m=o&&o.route;{let E=m&&m.path||"";XA(u,!m||E.endsWith("*")||E.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${u}" (under <Route path="${E}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${E}"> to <Route path="${E==="/"?"*":`${E}/*`}">.`)}let d=xn(),y;if(e){let E=typeof e=="string"?to(e):e;Ve(f==="/"||((b=E.pathname)==null?void 0:b.startsWith(f)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${f}" but pathname "${E.pathname}" was given in the \`location\` prop.`),y=E}else y=d;let x=y.pathname||"/",_=x;if(f!=="/"){let E=f.replace(/^\//,"").split("/");_="/"+x.replace(/^\//,"").split("/").slice(E.length).join("/")}let S=FA(t,{pathname:_});Pn(m||S!=null,`No routes matched location "${y.pathname}${y.search}${y.hash}" `),Pn(S==null||S[S.length-1].route.element!==void 0||S[S.length-1].route.Component!==void 0||S[S.length-1].route.lazy!==void 0,`Matched leaf route at location "${y.pathname}${y.search}${y.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let v=VM(S&&S.map(E=>Object.assign({},E,{params:Object.assign({},l,E.params),pathname:Ar([f,s.encodeLocation?s.encodeLocation(E.pathname).pathname:E.pathname]),pathnameBase:E.pathnameBase==="/"?f:Ar([f,s.encodeLocation?s.encodeLocation(E.pathnameBase).pathname:E.pathnameBase])})),a,n,r,i);return e&&v?I.createElement(mc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...y},navigationType:"POP"}},v):v}function IM(){let t=BM(),e=TM(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},s={padding:"2px 4px",backgroundColor:r},a=null;return console.error("Error handled by React Router default ErrorBoundary:",t),a=I.createElement(I.Fragment,null,I.createElement("p",null,"💿 Hey developer 👋"),I.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",I.createElement("code",{style:s},"ErrorBoundary")," or"," ",I.createElement("code",{style:s},"errorElement")," prop on your route.")),I.createElement(I.Fragment,null,I.createElement("h2",null,"Unexpected Application Error!"),I.createElement("h3",{style:{fontStyle:"italic"}},e),n?I.createElement("pre",{style:i},n):null,a)}var DM=I.createElement(IM,null),PM=class extends I.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.unstable_onError?this.props.unstable_onError(t,e):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?I.createElement(Ln.Provider,{value:this.props.routeContext},I.createElement(Vy.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function MM({routeContext:t,match:e,children:n}){let r=I.useContext(no);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),I.createElement(Ln.Provider,{value:t},n)}function VM(t,e=[],n=null,r=null,i=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let s=t,a=n==null?void 0:n.errors;if(a!=null){let u=s.findIndex(f=>f.route.id&&(a==null?void 0:a[f.route.id])!==void 0);Ve(u>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),s=s.slice(0,Math.min(s.length,u+1))}let o=!1,l=-1;if(n)for(let u=0;u<s.length;u++){let f=s[u];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(l=u),f.route.id){let{loaderData:m,errors:d}=n,y=f.route.loader&&!m.hasOwnProperty(f.route.id)&&(!d||d[f.route.id]===void 0);if(f.route.lazy||y){o=!0,l>=0?s=s.slice(0,l+1):s=[s[0]];break}}}return s.reduceRight((u,f,m)=>{let d,y=!1,x=null,_=null;n&&(d=a&&f.route.id?a[f.route.id]:void 0,x=f.route.errorElement||DM,o&&(l<0&&m===0?(XA("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),y=!0,_=null):l===m&&(y=!0,_=f.route.hydrateFallbackElement||null)));let S=e.concat(s.slice(0,m+1)),v=()=>{let b;return d?b=x:y?b=_:f.route.Component?b=I.createElement(f.route.Component,null):f.route.element?b=f.route.element:b=u,I.createElement(MM,{match:f,routeContext:{outlet:u,matches:S,isDataRoute:n!=null},children:b})};return n&&(f.route.ErrorBoundary||f.route.errorElement||m===0)?I.createElement(PM,{location:n.location,revalidation:n.revalidation,component:x,error:d,children:v(),routeContext:{outlet:null,matches:S,isDataRoute:!0},unstable_onError:r}):v()},null)}function Oy(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function kM(t){let e=I.useContext(no);return Ve(e,Oy(t)),e}function OM(t){let e=I.useContext(wf);return Ve(e,Oy(t)),e}function LM(t){let e=I.useContext(Ln);return Ve(e,Oy(t)),e}function Ly(t){let e=LM(t),n=e.matches[e.matches.length-1];return Ve(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function UM(){return Ly("useRouteId")}function BM(){var r;let t=I.useContext(Vy),e=OM("useRouteError"),n=Ly("useRouteError");return t!==void 0?t:(r=e.errors)==null?void 0:r[n]}function zM(){let{router:t}=kM("useNavigate"),e=Ly("useNavigate"),n=I.useRef(!1);return YA(()=>{n.current=!0}),I.useCallback(async(i,s={})=>{Pn(n.current,KA),n.current&&(typeof i=="number"?t.navigate(i):await t.navigate(i,{fromRouteId:e,...s}))},[t,e])}var X_={};function XA(t,e,n){!e&&!X_[t]&&(X_[t]=!0,Pn(!1,n))}I.memo(jM);function jM({routes:t,future:e,state:n,unstable_onError:r}){return QA(t,void 0,n,r,e)}function W_({to:t,replace:e,state:n,relative:r}){Ve(ro(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=I.useContext(On);Pn(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:s}=I.useContext(Ln),{pathname:a}=xn(),o=ar(),l=My(t,Py(s),a,r==="path"),u=JSON.stringify(l);return I.useEffect(()=>{o(JSON.parse(u),{replace:e,state:n,relative:r})},[o,u,r,e,n]),null}function tt(t){Ve(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function FM({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:i,static:s=!1}){Ve(!ro(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let a=t.replace(/^\/*/,"/"),o=I.useMemo(()=>({basename:a,navigator:i,static:s,future:{}}),[a,i,s]);typeof n=="string"&&(n=to(n));let{pathname:l="/",search:u="",hash:f="",state:m=null,key:d="default"}=n,y=I.useMemo(()=>{let x=Pr(l,a);return x==null?null:{location:{pathname:x,search:u,hash:f,state:m,key:d},navigationType:r}},[a,l,u,f,m,d,r]);return Pn(y!=null,`<Router basename="${a}"> is not able to match the URL "${l}${u}${f}" because it does not start with the basename, so the <Router> won't render anything.`),y==null?null:I.createElement(On.Provider,{value:o},I.createElement(mc.Provider,{children:e,value:y}))}function qM({children:t,location:e}){return CM(Mp(t),e)}function Mp(t,e=[]){let n=[];return I.Children.forEach(t,(r,i)=>{if(!I.isValidElement(r))return;let s=[...e,i];if(r.type===I.Fragment){n.push.apply(n,Mp(r.props.children,s));return}Ve(r.type===tt,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Ve(!r.props.index||!r.props.children,"An index route cannot have child routes.");let a={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(a.children=Mp(r.props.children,s)),n.push(a)}),n}var Ou="get",Lu="application/x-www-form-urlencoded";function Tf(t){return t!=null&&typeof t.tagName=="string"}function HM(t){return Tf(t)&&t.tagName.toLowerCase()==="button"}function GM(t){return Tf(t)&&t.tagName.toLowerCase()==="form"}function $M(t){return Tf(t)&&t.tagName.toLowerCase()==="input"}function KM(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function YM(t,e){return t.button===0&&(!e||e==="_self")&&!KM(t)}var fu=null;function QM(){if(fu===null)try{new FormData(document.createElement("form"),0),fu=!1}catch{fu=!0}return fu}var XM=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function om(t){return t!=null&&!XM.has(t)?(Pn(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Lu}"`),null):t}function WM(t,e){let n,r,i,s,a;if(GM(t)){let o=t.getAttribute("action");r=o?Pr(o,e):null,n=t.getAttribute("method")||Ou,i=om(t.getAttribute("enctype"))||Lu,s=new FormData(t)}else if(HM(t)||$M(t)&&(t.type==="submit"||t.type==="image")){let o=t.form;if(o==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let l=t.getAttribute("formaction")||o.getAttribute("action");if(r=l?Pr(l,e):null,n=t.getAttribute("formmethod")||o.getAttribute("method")||Ou,i=om(t.getAttribute("formenctype"))||om(o.getAttribute("enctype"))||Lu,s=new FormData(o,t),!QM()){let{name:u,type:f,value:m}=t;if(f==="image"){let d=u?`${u}.`:"";s.append(`${d}x`,"0"),s.append(`${d}y`,"0")}else u&&s.append(u,m)}}else{if(Tf(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Ou,r=null,i=Lu,a=t}return s&&i==="text/plain"&&(a=s,s=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:s,body:a}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Uy(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function ZM(t,e,n){let r=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return r.pathname==="/"?r.pathname=`_root.${n}`:e&&Pr(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function JM(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function e4(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function t4(t,e,n){let r=await Promise.all(t.map(async i=>{let s=e.routes[i.route.id];if(s){let a=await JM(s,n);return a.links?a.links():[]}return[]}));return s4(r.flat(1).filter(e4).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function Z_(t,e,n,r,i,s){let a=(l,u)=>n[u]?l.route.id!==n[u].route.id:!0,o=(l,u)=>{var f;return n[u].pathname!==l.pathname||((f=n[u].route.path)==null?void 0:f.endsWith("*"))&&n[u].params["*"]!==l.params["*"]};return s==="assets"?e.filter((l,u)=>a(l,u)||o(l,u)):s==="data"?e.filter((l,u)=>{var m;let f=r.routes[l.route.id];if(!f||!f.hasLoader)return!1;if(a(l,u)||o(l,u))return!0;if(l.route.shouldRevalidate){let d=l.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((m=n[0])==null?void 0:m.params)||{},nextUrl:new URL(t,window.origin),nextParams:l.params,defaultShouldRevalidate:!0});if(typeof d=="boolean")return d}return!0}):[]}function n4(t,e,{includeHydrateFallback:n}={}){return r4(t.map(r=>{let i=e.routes[r.route.id];if(!i)return[];let s=[i.module];return i.clientActionModule&&(s=s.concat(i.clientActionModule)),i.clientLoaderModule&&(s=s.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(s=s.concat(i.hydrateFallbackModule)),i.imports&&(s=s.concat(i.imports)),s}).flat(1))}function r4(t){return[...new Set(t)]}function i4(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function s4(t,e){let n=new Set;return new Set(e),t.reduce((r,i)=>{let s=JSON.stringify(i4(i));return n.has(s)||(n.add(s),r.push({key:s,link:i})),r},[])}function WA(){let t=I.useContext(no);return Uy(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function a4(){let t=I.useContext(wf);return Uy(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var By=I.createContext(void 0);By.displayName="FrameworkContext";function ZA(){let t=I.useContext(By);return Uy(t,"You must render this element inside a <HydratedRouter> element"),t}function o4(t,e){let n=I.useContext(By),[r,i]=I.useState(!1),[s,a]=I.useState(!1),{onFocus:o,onBlur:l,onMouseEnter:u,onMouseLeave:f,onTouchStart:m}=e,d=I.useRef(null);I.useEffect(()=>{if(t==="render"&&a(!0),t==="viewport"){let _=v=>{v.forEach(b=>{a(b.isIntersecting)})},S=new IntersectionObserver(_,{threshold:.5});return d.current&&S.observe(d.current),()=>{S.disconnect()}}},[t]),I.useEffect(()=>{if(r){let _=setTimeout(()=>{a(!0)},100);return()=>{clearTimeout(_)}}},[r]);let y=()=>{i(!0)},x=()=>{i(!1),a(!1)};return n?t!=="intent"?[s,d,{}]:[s,d,{onFocus:ko(o,y),onBlur:ko(l,x),onMouseEnter:ko(u,y),onMouseLeave:ko(f,x),onTouchStart:ko(m,y)}]:[!1,d,{}]}function ko(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function l4({page:t,...e}){let{router:n}=WA(),r=I.useMemo(()=>FA(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?I.createElement(u4,{page:t,matches:r,...e}):null}function c4(t){let{manifest:e,routeModules:n}=ZA(),[r,i]=I.useState([]);return I.useEffect(()=>{let s=!1;return t4(t,e,n).then(a=>{s||i(a)}),()=>{s=!0}},[t,e,n]),r}function u4({page:t,matches:e,...n}){let r=xn(),{manifest:i,routeModules:s}=ZA(),{basename:a}=WA(),{loaderData:o,matches:l}=a4(),u=I.useMemo(()=>Z_(t,e,l,i,r,"data"),[t,e,l,i,r]),f=I.useMemo(()=>Z_(t,e,l,i,r,"assets"),[t,e,l,i,r]),m=I.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let x=new Set,_=!1;if(e.forEach(v=>{var E;let b=i.routes[v.route.id];!b||!b.hasLoader||(!u.some(N=>N.route.id===v.route.id)&&v.route.id in o&&((E=s[v.route.id])!=null&&E.shouldRevalidate)||b.hasClientLoader?_=!0:x.add(v.route.id))}),x.size===0)return[];let S=ZM(t,a,"data");return _&&x.size>0&&S.searchParams.set("_routes",e.filter(v=>x.has(v.route.id)).map(v=>v.route.id).join(",")),[S.pathname+S.search]},[a,o,r,i,u,e,t,s]),d=I.useMemo(()=>n4(f,i),[f,i]),y=c4(f);return I.createElement(I.Fragment,null,m.map(x=>I.createElement("link",{key:x,rel:"prefetch",as:"fetch",href:x,...n})),d.map(x=>I.createElement("link",{key:x,rel:"modulepreload",href:x,...n})),y.map(({key:x,link:_})=>I.createElement("link",{key:x,nonce:n.nonce,..._})))}function h4(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var JA=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{JA&&(window.__reactRouterVersion="7.8.2")}catch{}function f4({basename:t,children:e,window:n}){let r=I.useRef();r.current==null&&(r.current=eM({window:n,v5Compat:!0}));let i=r.current,[s,a]=I.useState({action:i.action,location:i.location}),o=I.useCallback(l=>{I.startTransition(()=>a(l))},[a]);return I.useLayoutEffect(()=>i.listen(o),[i,o]),I.createElement(FM,{basename:t,children:e,location:s.location,navigationType:s.action,navigator:i})}var eS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ie=I.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:i,reloadDocument:s,replace:a,state:o,target:l,to:u,preventScrollReset:f,viewTransition:m,...d},y){let{basename:x}=I.useContext(On),_=typeof u=="string"&&eS.test(u),S,v=!1;if(typeof u=="string"&&_&&(S=u,JA))try{let R=new URL(window.location.href),C=u.startsWith("//")?new URL(R.protocol+u):new URL(u),P=Pr(C.pathname,x);C.origin===R.origin&&P!=null?u=P+C.search+C.hash:v=!0}catch{Pn(!1,`<Link to="${u}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let b=RM(u,{relative:i}),[E,N,M]=o4(r,d),L=p4(u,{replace:a,state:o,target:l,preventScrollReset:f,relative:i,viewTransition:m});function A(R){e&&e(R),R.defaultPrevented||L(R)}let w=I.createElement("a",{...d,...M,href:S||b,onClick:v||s?e:A,ref:h4(y,N),target:l,"data-discover":!_&&n==="render"?"true":void 0});return E&&!_?I.createElement(I.Fragment,null,w,I.createElement(l4,{page:b})):w});ie.displayName="Link";var Vp=I.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:i=!1,style:s,to:a,viewTransition:o,children:l,...u},f){let m=pc(a,{relative:u.relative}),d=xn(),y=I.useContext(wf),{navigator:x,basename:_}=I.useContext(On),S=y!=null&&_4(m)&&o===!0,v=x.encodeLocation?x.encodeLocation(m).pathname:m.pathname,b=d.pathname,E=y&&y.navigation&&y.navigation.location?y.navigation.location.pathname:null;n||(b=b.toLowerCase(),E=E?E.toLowerCase():null,v=v.toLowerCase()),E&&_&&(E=Pr(E,_)||E);const N=v!=="/"&&v.endsWith("/")?v.length-1:v.length;let M=b===v||!i&&b.startsWith(v)&&b.charAt(N)==="/",L=E!=null&&(E===v||!i&&E.startsWith(v)&&E.charAt(v.length)==="/"),A={isActive:M,isPending:L,isTransitioning:S},w=M?e:void 0,R;typeof r=="function"?R=r(A):R=[r,M?"active":null,L?"pending":null,S?"transitioning":null].filter(Boolean).join(" ");let C=typeof s=="function"?s(A):s;return I.createElement(ie,{...u,"aria-current":w,className:R,ref:f,style:C,to:a,viewTransition:o},typeof l=="function"?l(A):l)});Vp.displayName="NavLink";var d4=I.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:i,state:s,method:a=Ou,action:o,onSubmit:l,relative:u,preventScrollReset:f,viewTransition:m,...d},y)=>{let x=v4(),_=E4(o,{relative:u}),S=a.toLowerCase()==="get"?"get":"post",v=typeof o=="string"&&eS.test(o),b=E=>{if(l&&l(E),E.defaultPrevented)return;E.preventDefault();let N=E.nativeEvent.submitter,M=(N==null?void 0:N.getAttribute("formmethod"))||a;x(N||E.currentTarget,{fetcherKey:e,method:M,navigate:n,replace:i,state:s,relative:u,preventScrollReset:f,viewTransition:m})};return I.createElement("form",{ref:y,method:S,action:_,onSubmit:r?l:b,...d,"data-discover":!v&&t==="render"?"true":void 0})});d4.displayName="Form";function m4(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function tS(t){let e=I.useContext(no);return Ve(e,m4(t)),e}function p4(t,{target:e,replace:n,state:r,preventScrollReset:i,relative:s,viewTransition:a}={}){let o=ar(),l=xn(),u=pc(t,{relative:s});return I.useCallback(f=>{if(YM(f,e)){f.preventDefault();let m=n!==void 0?n:Vl(l)===Vl(u);o(t,{replace:m,state:r,preventScrollReset:i,relative:s,viewTransition:a})}},[l,o,u,n,r,e,t,i,s,a])}var g4=0,y4=()=>`__${String(++g4)}__`;function v4(){let{router:t}=tS("useSubmit"),{basename:e}=I.useContext(On),n=UM();return I.useCallback(async(r,i={})=>{let{action:s,method:a,encType:o,formData:l,body:u}=WM(r,e);if(i.navigate===!1){let f=i.fetcherKey||y4();await t.fetch(f,n,i.action||s,{preventScrollReset:i.preventScrollReset,formData:l,body:u,formMethod:i.method||a,formEncType:i.encType||o,flushSync:i.flushSync})}else await t.navigate(i.action||s,{preventScrollReset:i.preventScrollReset,formData:l,body:u,formMethod:i.method||a,formEncType:i.encType||o,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})},[t,e,n])}function E4(t,{relative:e}={}){let{basename:n}=I.useContext(On),r=I.useContext(Ln);Ve(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),s={...pc(t||".",{relative:e})},a=xn();if(t==null){s.search=a.search;let o=new URLSearchParams(s.search),l=o.getAll("index");if(l.some(f=>f==="")){o.delete("index"),l.filter(m=>m).forEach(m=>o.append("index",m));let f=o.toString();s.search=f?`?${f}`:""}}return(!t||t===".")&&i.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(s.pathname=s.pathname==="/"?n:Ar([n,s.pathname])),Vl(s)}function _4(t,{relative:e}={}){let n=I.useContext($A);Ve(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=tS("useViewTransitionState"),i=pc(t,{relative:e});if(!n.isTransitioning)return!1;let s=Pr(n.currentLocation.pathname,r)||n.currentLocation.pathname,a=Pr(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Nh(i.pathname,a)!=null||Nh(i.pathname,s)!=null}/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b4=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),w4=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase()),J_=t=>{const e=w4(t);return e.charAt(0).toUpperCase()+e.slice(1)},nS=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim(),T4=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var x4={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A4=I.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:s,iconNode:a,...o},l)=>I.createElement("svg",{ref:l,...x4,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:nS("lucide",i),...!s&&!T4(o)&&{"aria-hidden":"true"},...o},[...a.map(([u,f])=>I.createElement(u,f)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z=(t,e)=>{const n=I.forwardRef(({className:r,...i},s)=>I.createElement(A4,{ref:s,iconNode:e,className:nS(`lucide-${b4(J_(t))}`,`lucide-${t}`,r),...i}));return n.displayName=J_(t),n};/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S4=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],R4=Z("arrow-left",S4);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N4=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],C4=Z("arrow-right",N4);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I4=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],D4=Z("award",I4);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P4=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],M4=Z("bell",P4);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V4=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]],Ch=Z("calendar-days",V4);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k4=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],O4=Z("calendar",k4);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L4=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],U4=Z("chevron-down",L4);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B4=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],z4=Z("circle-check-big",B4);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j4=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],F4=Z("circle-x",j4);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q4=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],H4=Z("clipboard-list",q4);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G4=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],xf=Z("clock",G4);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $4=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],rS=Z("crown",$4);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K4=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],zy=Z("dollar-sign",K4);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y4=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],kp=Z("eye-off",Y4);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q4=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Ih=Z("eye",Q4);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X4=[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]],W4=Z("facebook",X4);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z4=[["path",{d:"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4",key:"tonef"}],["path",{d:"M9 18c-4.51 2-5-2-7-2",key:"9comsn"}]],J4=Z("github",Z4);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e6=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],Dh=Z("heart",e6);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t6=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],eb=Z("house",t6);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n6=[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]],r6=Z("instagram",n6);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i6=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],s6=Z("layout-dashboard",i6);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a6=[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]],o6=Z("linkedin",a6);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l6=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],Op=Z("lock",l6);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c6=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],iS=Z("log-out",c6);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u6=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],_s=Z("mail",u6);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h6=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],sS=Z("map-pin",h6);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f6=[["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 18h16",key:"19g7jn"}],["path",{d:"M4 6h16",key:"1o0s65"}]],d6=Z("menu",f6);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m6=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],p6=Z("message-circle",m6);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g6=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],Ua=Z("package",g6);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y6=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],jy=Z("phone",y6);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v6=[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]],E6=Z("refresh-ccw",v6);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _6=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],Fy=Z("rotate-ccw",_6);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b6=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],aS=Z("search",b6);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w6=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],T6=Z("send",w6);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x6=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],oS=Z("shield",x6);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A6=[["path",{d:"M20.38 3.46 16 2a4 4 0 0 1-8 0L3.62 3.46a2 2 0 0 0-1.34 2.23l.58 3.47a1 1 0 0 0 .99.84H6v10c0 1.1.9 2 2 2h8a2 2 0 0 0 2-2V10h2.15a1 1 0 0 0 .99-.84l.58-3.47a2 2 0 0 0-1.34-2.23z",key:"1wgbhj"}]],S6=Z("shirt",A6);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R6=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],Lp=Z("shopping-cart",R6);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N6=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],C6=Z("star",N6);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I6=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],D6=Z("target",I6);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P6=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],M6=Z("trash-2",P6);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V6=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],lS=Z("triangle-alert",V6);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k6=[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]],cS=Z("truck",k6);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O6=[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]],L6=Z("twitter",O6);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U6=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],qy=Z("user",U6);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B6=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],uS=Z("users",B6);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z6=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],hS=Z("x",z6),j6=()=>{};var tb={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fS=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},F6=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],a=t[n++],o=t[n++],l=((i&7)<<18|(s&63)<<12|(a&63)<<6|o&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],a=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|a&63)}}return e.join("")},dS={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],a=i+1<t.length,o=a?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,f=s>>2,m=(s&3)<<4|o>>4;let d=(o&15)<<2|u>>6,y=u&63;l||(y=64,a||(d=64)),r.push(n[f],n[m],n[d],n[y])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(fS(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):F6(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],o=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const m=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||o==null||u==null||m==null)throw new q6;const d=s<<2|o>>4;if(r.push(d),u!==64){const y=o<<4&240|u>>2;if(r.push(y),m!==64){const x=u<<6&192|m;r.push(x)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class q6 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const H6=function(t){const e=fS(t);return dS.encodeByteArray(e,!0)},Ph=function(t){return H6(t).replace(/\./g,"")},mS=function(t){try{return dS.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G6(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $6=()=>G6().__FIREBASE_DEFAULTS__,K6=()=>{if(typeof process>"u"||typeof tb>"u")return;const t=tb.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},Y6=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&mS(t[1]);return e&&JSON.parse(e)},Af=()=>{try{return j6()||$6()||K6()||Y6()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},pS=t=>{var e,n;return(n=(e=Af())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},gS=t=>{const e=pS(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},yS=()=>{var t;return(t=Af())==null?void 0:t.config},vS=t=>{var e;return(e=Af())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q6{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ds(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Hy(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ES(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a={iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Ph(JSON.stringify(n)),Ph(JSON.stringify(a)),""].join(".")}const cl={};function X6(){const t={prod:[],emulator:[]};for(const e of Object.keys(cl))cl[e]?t.emulator.push(e):t.prod.push(e);return t}function W6(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let nb=!1;function Gy(t,e){if(typeof window>"u"||typeof document>"u"||!Ds(window.location.host)||cl[t]===e||cl[t]||nb)return;cl[t]=e;function n(d){return`__firebase__banner__${d}`}const r="__firebase__banner",s=X6().prod.length>0;function a(){const d=document.getElementById(r);d&&d.remove()}function o(d){d.style.display="flex",d.style.background="#7faaf0",d.style.position="fixed",d.style.bottom="5px",d.style.left="5px",d.style.padding=".5em",d.style.borderRadius="5px",d.style.alignItems="center"}function l(d,y){d.setAttribute("width","24"),d.setAttribute("id",y),d.setAttribute("height","24"),d.setAttribute("viewBox","0 0 24 24"),d.setAttribute("fill","none"),d.style.marginLeft="-6px"}function u(){const d=document.createElement("span");return d.style.cursor="pointer",d.style.marginLeft="16px",d.style.fontSize="24px",d.innerHTML=" &times;",d.onclick=()=>{nb=!0,a()},d}function f(d,y){d.setAttribute("id",y),d.innerText="Learn more",d.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",d.setAttribute("target","__blank"),d.style.paddingLeft="5px",d.style.textDecoration="underline"}function m(){const d=W6(r),y=n("text"),x=document.getElementById(y)||document.createElement("span"),_=n("learnmore"),S=document.getElementById(_)||document.createElement("a"),v=n("preprendIcon"),b=document.getElementById(v)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(d.created){const E=d.element;o(E),f(S,_);const N=u();l(b,v),E.append(b,x,S,N),document.body.appendChild(E)}s?(x.innerText="Preview backend disconnected.",b.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(b.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,x.innerText="Preview backend running in this workspace."),x.setAttribute("id",y)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",m):m()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ct(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Z6(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ct())}function J6(){var e;const t=(e=Af())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function eV(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function tV(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function nV(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function rV(){const t=Ct();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function iV(){return!J6()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function sV(){try{return typeof indexedDB=="object"}catch{return!1}}function aV(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)==null?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oV="FirebaseError";class or extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=oV,Object.setPrototypeOf(this,or.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,gc.prototype.create)}}class gc{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],a=s?lV(s,r):"Error",o=`${this.serviceName}: ${a} (${i}).`;return new or(i,o,r)}}function lV(t,e){return t.replace(cV,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const cV=/\{\$([^}]+)}/g;function uV(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function bs(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],a=e[i];if(rb(s)&&rb(a)){if(!bs(s,a))return!1}else if(s!==a)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function rb(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yc(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function jo(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function Fo(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function hV(t,e){const n=new fV(t,e);return n.subscribe.bind(n)}class fV{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");dV(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=lm),i.error===void 0&&(i.error=lm),i.complete===void 0&&(i.complete=lm);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function dV(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function lm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ke(t){return t&&t._delegate?t._delegate:t}class Ni{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ji="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mV{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new Q6;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(gV(e))try{this.getOrInitializeService({instanceIdentifier:Ji})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Ji){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ji){return this.instances.has(e)}getOptions(e=Ji){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(s);r===o&&a.resolve(i)}return i}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);const s=this.instances.get(r);return s&&e(s,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:pV(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ji){return this.component?this.component.multipleInstances?e:Ji:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function pV(t){return t===Ji?void 0:t}function gV(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yV{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new mV(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var oe;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(oe||(oe={}));const vV={debug:oe.DEBUG,verbose:oe.VERBOSE,info:oe.INFO,warn:oe.WARN,error:oe.ERROR,silent:oe.SILENT},EV=oe.INFO,_V={[oe.DEBUG]:"log",[oe.VERBOSE]:"log",[oe.INFO]:"info",[oe.WARN]:"warn",[oe.ERROR]:"error"},bV=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=_V[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class $y{constructor(e){this.name=e,this._logLevel=EV,this._logHandler=bV,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in oe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?vV[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,oe.DEBUG,...e),this._logHandler(this,oe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,oe.VERBOSE,...e),this._logHandler(this,oe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,oe.INFO,...e),this._logHandler(this,oe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,oe.WARN,...e),this._logHandler(this,oe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,oe.ERROR,...e),this._logHandler(this,oe.ERROR,...e)}}const wV=(t,e)=>e.some(n=>t instanceof n);let ib,sb;function TV(){return ib||(ib=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function xV(){return sb||(sb=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const _S=new WeakMap,Up=new WeakMap,bS=new WeakMap,cm=new WeakMap,Ky=new WeakMap;function AV(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",a)},s=()=>{n(bi(t.result)),i()},a=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",a)});return e.then(n=>{n instanceof IDBCursor&&_S.set(n,t)}).catch(()=>{}),Ky.set(e,t),e}function SV(t){if(Up.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",a),t.removeEventListener("abort",a)},s=()=>{n(),i()},a=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",a),t.addEventListener("abort",a)});Up.set(t,e)}let Bp={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Up.get(t);if(e==="objectStoreNames")return t.objectStoreNames||bS.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return bi(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function RV(t){Bp=t(Bp)}function NV(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(um(this),e,...n);return bS.set(r,e.sort?e.sort():[e]),bi(r)}:xV().includes(t)?function(...e){return t.apply(um(this),e),bi(_S.get(this))}:function(...e){return bi(t.apply(um(this),e))}}function CV(t){return typeof t=="function"?NV(t):(t instanceof IDBTransaction&&SV(t),wV(t,TV())?new Proxy(t,Bp):t)}function bi(t){if(t instanceof IDBRequest)return AV(t);if(cm.has(t))return cm.get(t);const e=CV(t);return e!==t&&(cm.set(t,e),Ky.set(e,t)),e}const um=t=>Ky.get(t);function IV(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const a=indexedDB.open(t,e),o=bi(a);return r&&a.addEventListener("upgradeneeded",l=>{r(bi(a.result),l.oldVersion,l.newVersion,bi(a.transaction),l)}),n&&a.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),o.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),o}const DV=["get","getKey","getAll","getAllKeys","count"],PV=["put","add","delete","clear"],hm=new Map;function ab(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(hm.get(e))return hm.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=PV.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||DV.includes(n)))return;const s=async function(a,...o){const l=this.transaction(a,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(o.shift())),(await Promise.all([u[n](...o),i&&l.done]))[0]};return hm.set(e,s),s}RV(t=>({...t,get:(e,n,r)=>ab(e,n)||t.get(e,n,r),has:(e,n)=>!!ab(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MV{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(VV(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function VV(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const zp="@firebase/app",ob="0.14.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mr=new $y("@firebase/app"),kV="@firebase/app-compat",OV="@firebase/analytics-compat",LV="@firebase/analytics",UV="@firebase/app-check-compat",BV="@firebase/app-check",zV="@firebase/auth",jV="@firebase/auth-compat",FV="@firebase/database",qV="@firebase/data-connect",HV="@firebase/database-compat",GV="@firebase/functions",$V="@firebase/functions-compat",KV="@firebase/installations",YV="@firebase/installations-compat",QV="@firebase/messaging",XV="@firebase/messaging-compat",WV="@firebase/performance",ZV="@firebase/performance-compat",JV="@firebase/remote-config",ek="@firebase/remote-config-compat",tk="@firebase/storage",nk="@firebase/storage-compat",rk="@firebase/firestore",ik="@firebase/ai",sk="@firebase/firestore-compat",ak="firebase",ok="12.2.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jp="[DEFAULT]",lk={[zp]:"fire-core",[kV]:"fire-core-compat",[LV]:"fire-analytics",[OV]:"fire-analytics-compat",[BV]:"fire-app-check",[UV]:"fire-app-check-compat",[zV]:"fire-auth",[jV]:"fire-auth-compat",[FV]:"fire-rtdb",[qV]:"fire-data-connect",[HV]:"fire-rtdb-compat",[GV]:"fire-fn",[$V]:"fire-fn-compat",[KV]:"fire-iid",[YV]:"fire-iid-compat",[QV]:"fire-fcm",[XV]:"fire-fcm-compat",[WV]:"fire-perf",[ZV]:"fire-perf-compat",[JV]:"fire-rc",[ek]:"fire-rc-compat",[tk]:"fire-gcs",[nk]:"fire-gcs-compat",[rk]:"fire-fst",[sk]:"fire-fst-compat",[ik]:"fire-vertex","fire-js":"fire-js",[ak]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mh=new Map,ck=new Map,Fp=new Map;function lb(t,e){try{t.container.addComponent(e)}catch(n){Mr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function ws(t){const e=t.name;if(Fp.has(e))return Mr.debug(`There were multiple attempts to register component ${e}.`),!1;Fp.set(e,t);for(const n of Mh.values())lb(n,t);for(const n of ck.values())lb(n,t);return!0}function Sf(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function tn(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uk={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},wi=new gc("app","Firebase",uk);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hk{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ni("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw wi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ps=ok;function wS(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:jp,automaticDataCollectionEnabled:!0,...e},i=r.name;if(typeof i!="string"||!i)throw wi.create("bad-app-name",{appName:String(i)});if(n||(n=yS()),!n)throw wi.create("no-options");const s=Mh.get(i);if(s){if(bs(n,s.options)&&bs(r,s.config))return s;throw wi.create("duplicate-app",{appName:i})}const a=new yV(i);for(const l of Fp.values())a.addComponent(l);const o=new hk(n,r,a);return Mh.set(i,o),o}function Yy(t=jp){const e=Mh.get(t);if(!e&&t===jp&&yS())return wS();if(!e)throw wi.create("no-app",{appName:t});return e}function $n(t,e,n){let r=lk[t]??t;n&&(r+=`-${n}`);const i=r.match(/\s|\//),s=e.match(/\s|\//);if(i||s){const a=[`Unable to register library "${r}" with version "${e}":`];i&&a.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Mr.warn(a.join(" "));return}ws(new Ni(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fk="firebase-heartbeat-database",dk=1,kl="firebase-heartbeat-store";let fm=null;function TS(){return fm||(fm=IV(fk,dk,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(kl)}catch(n){console.warn(n)}}}}).catch(t=>{throw wi.create("idb-open",{originalErrorMessage:t.message})})),fm}async function mk(t){try{const n=(await TS()).transaction(kl),r=await n.objectStore(kl).get(xS(t));return await n.done,r}catch(e){if(e instanceof or)Mr.warn(e.message);else{const n=wi.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Mr.warn(n.message)}}}async function cb(t,e){try{const r=(await TS()).transaction(kl,"readwrite");await r.objectStore(kl).put(e,xS(t)),await r.done}catch(n){if(n instanceof or)Mr.warn(n.message);else{const r=wi.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Mr.warn(r.message)}}}function xS(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pk=1024,gk=30;class yk{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Ek(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=ub();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(a=>a.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>gk){const a=_k(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Mr.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=ub(),{heartbeatsToSend:r,unsentEntries:i}=vk(this._heartbeatsCache.heartbeats),s=Ph(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return Mr.warn(n),""}}}function ub(){return new Date().toISOString().substring(0,10)}function vk(t,e=pk){const n=[];let r=t.slice();for(const i of t){const s=n.find(a=>a.agent===i.agent);if(s){if(s.dates.push(i.date),hb(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),hb(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class Ek{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return sV()?aV().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await mk(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return cb(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return cb(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function hb(t){return Ph(JSON.stringify({version:2,heartbeats:t})).length}function _k(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bk(t){ws(new Ni("platform-logger",e=>new MV(e),"PRIVATE")),ws(new Ni("heartbeat",e=>new yk(e),"PRIVATE")),$n(zp,ob,t),$n(zp,ob,"esm2020"),$n("fire-js","")}bk("");var wk="firebase",Tk="12.2.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */$n(wk,Tk,"app");function AS(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const xk=AS,SS=new gc("auth","Firebase",AS());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vh=new $y("@firebase/auth");function Ak(t,...e){Vh.logLevel<=oe.WARN&&Vh.warn(`Auth (${Ps}): ${t}`,...e)}function Uu(t,...e){Vh.logLevel<=oe.ERROR&&Vh.error(`Auth (${Ps}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mn(t,...e){throw Qy(t,...e)}function Kn(t,...e){return Qy(t,...e)}function RS(t,e,n){const r={...xk(),[e]:n};return new gc("auth","Firebase",r).create(e,{appName:t.name})}function Sr(t){return RS(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Qy(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return SS.create(t,...e)}function Y(t,e,...n){if(!t)throw Qy(e,...n)}function br(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Uu(e),new Error(e)}function Vr(t,e){t||br(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qp(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function Sk(){return fb()==="http:"||fb()==="https:"}function fb(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rk(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Sk()||tV()||"connection"in navigator)?navigator.onLine:!0}function Nk(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vc{constructor(e,n){this.shortDelay=e,this.longDelay=n,Vr(n>e,"Short delay should be less than long delay!"),this.isMobile=Z6()||nV()}get(){return Rk()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xy(t,e){Vr(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NS{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;br("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;br("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;br("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ck={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ik=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Dk=new vc(3e4,6e4);function Bi(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function Fr(t,e,n,r,i={}){return CS(t,i,async()=>{let s={},a={};r&&(e==="GET"?a=r:s={body:JSON.stringify(r)});const o=yc({key:t.config.apiKey,...a}).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const u={method:e,headers:l,...s};return eV()||(u.referrerPolicy="no-referrer"),t.emulatorConfig&&Ds(t.emulatorConfig.host)&&(u.credentials="include"),NS.fetch()(await IS(t,t.config.apiHost,n,o),u)})}async function CS(t,e,n){t._canInitEmulator=!1;const r={...Ck,...e};try{const i=new Mk(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const a=await s.json();if("needConfirmation"in a)throw du(t,"account-exists-with-different-credential",a);if(s.ok&&!("errorMessage"in a))return a;{const o=s.ok?a.errorMessage:a.error.message,[l,u]=o.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw du(t,"credential-already-in-use",a);if(l==="EMAIL_EXISTS")throw du(t,"email-already-in-use",a);if(l==="USER_DISABLED")throw du(t,"user-disabled",a);const f=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw RS(t,f,u);Mn(t,f)}}catch(i){if(i instanceof or)throw i;Mn(t,"network-request-failed",{message:String(i)})}}async function Ec(t,e,n,r,i={}){const s=await Fr(t,e,n,r,i);return"mfaPendingCredential"in s&&Mn(t,"multi-factor-auth-required",{_serverResponse:s}),s}async function IS(t,e,n,r){const i=`${e}${n}?${r}`,s=t,a=s.config.emulator?Xy(t.config,i):`${t.config.apiScheme}://${i}`;return Ik.includes(n)&&(await s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(a).toString():a}function Pk(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Mk{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Kn(this.auth,"network-request-failed")),Dk.get())})}}function du(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Kn(t,e,r);return i.customData._tokenResponse=n,i}function db(t){return t!==void 0&&t.enterprise!==void 0}class Vk{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return Pk(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function kk(t,e){return Fr(t,"GET","/v2/recaptchaConfig",Bi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ok(t,e){return Fr(t,"POST","/v1/accounts:delete",e)}async function kh(t,e){return Fr(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ul(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Lk(t,e=!1){const n=Ke(t),r=await n.getIdToken(e),i=Wy(r);Y(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,a=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:ul(dm(i.auth_time)),issuedAtTime:ul(dm(i.iat)),expirationTime:ul(dm(i.exp)),signInProvider:a||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function dm(t){return Number(t)*1e3}function Wy(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Uu("JWT malformed, contained fewer than 3 sections"),null;try{const i=mS(n);return i?JSON.parse(i):(Uu("Failed to decode base64 JWT payload"),null)}catch(i){return Uu("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function mb(t){const e=Wy(t);return Y(e,"internal-error"),Y(typeof e.exp<"u","internal-error"),Y(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ba(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof or&&Uk(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function Uk({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bk{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hp{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=ul(this.lastLoginAt),this.creationTime=ul(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Oh(t){var m;const e=t.auth,n=await t.getIdToken(),r=await Ba(t,kh(e,{idToken:n}));Y(r==null?void 0:r.users.length,e,"internal-error");const i=r.users[0];t._notifyReloadListener(i);const s=(m=i.providerUserInfo)!=null&&m.length?DS(i.providerUserInfo):[],a=jk(t.providerData,s),o=t.isAnonymous,l=!(t.email&&i.passwordHash)&&!(a!=null&&a.length),u=o?l:!1,f={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new Hp(i.createdAt,i.lastLoginAt),isAnonymous:u};Object.assign(t,f)}async function zk(t){const e=Ke(t);await Oh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function jk(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function DS(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fk(t,e){const n=await CS(t,{},async()=>{const r=yc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,a=await IS(t,i,"/v1/token",`key=${s}`),o=await t._getAdditionalHeaders();o["Content-Type"]="application/x-www-form-urlencoded";const l={method:"POST",headers:o,body:r};return t.emulatorConfig&&Ds(t.emulatorConfig.host)&&(l.credentials="include"),NS.fetch()(a,l)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function qk(t,e){return Fr(t,"POST","/v2/accounts:revokeToken",Bi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wa{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Y(e.idToken,"internal-error"),Y(typeof e.idToken<"u","internal-error"),Y(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):mb(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Y(e.length!==0,"internal-error");const n=mb(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Y(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await Fk(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,a=new wa;return r&&(Y(typeof r=="string","internal-error",{appName:e}),a.refreshToken=r),i&&(Y(typeof i=="string","internal-error",{appName:e}),a.accessToken=i),s&&(Y(typeof s=="number","internal-error",{appName:e}),a.expirationTime=s),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new wa,this.toJSON())}_performRefresh(){return br("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qr(t,e){Y(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Nn{constructor({uid:e,auth:n,stsTokenManager:r,...i}){this.providerId="firebase",this.proactiveRefresh=new Bk(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new Hp(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await Ba(this,this.stsTokenManager.getToken(this.auth,e));return Y(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return Lk(this,e)}reload(){return zk(this)}_assign(e){this!==e&&(Y(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Nn({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Y(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Oh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(tn(this.auth.app))return Promise.reject(Sr(this.auth));const e=await this.getIdToken();return await Ba(this,Ok(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,i=n.email??void 0,s=n.phoneNumber??void 0,a=n.photoURL??void 0,o=n.tenantId??void 0,l=n._redirectEventId??void 0,u=n.createdAt??void 0,f=n.lastLoginAt??void 0,{uid:m,emailVerified:d,isAnonymous:y,providerData:x,stsTokenManager:_}=n;Y(m&&_,e,"internal-error");const S=wa.fromJSON(this.name,_);Y(typeof m=="string",e,"internal-error"),Qr(r,e.name),Qr(i,e.name),Y(typeof d=="boolean",e,"internal-error"),Y(typeof y=="boolean",e,"internal-error"),Qr(s,e.name),Qr(a,e.name),Qr(o,e.name),Qr(l,e.name),Qr(u,e.name),Qr(f,e.name);const v=new Nn({uid:m,auth:e,email:i,emailVerified:d,displayName:r,isAnonymous:y,photoURL:a,phoneNumber:s,tenantId:o,stsTokenManager:S,createdAt:u,lastLoginAt:f});return x&&Array.isArray(x)&&(v.providerData=x.map(b=>({...b}))),l&&(v._redirectEventId=l),v}static async _fromIdTokenResponse(e,n,r=!1){const i=new wa;i.updateFromServerResponse(n);const s=new Nn({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Oh(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];Y(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?DS(i.providerUserInfo):[],a=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),o=new wa;o.updateFromIdToken(r);const l=new Nn({uid:i.localId,auth:e,stsTokenManager:o,isAnonymous:a}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new Hp(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(l,u),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pb=new Map;function wr(t){Vr(t instanceof Function,"Expected a class definition");let e=pb.get(t);return e?(Vr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,pb.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PS{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}PS.type="NONE";const gb=PS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bu(t,e,n){return`firebase:${t}:${e}:${n}`}class Ta{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Bu(this.userKey,i.apiKey,s),this.fullPersistenceKey=Bu("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await kh(this.auth,{idToken:e}).catch(()=>{});return n?Nn._fromGetAccountInfoResponse(this.auth,n,e):null}return Nn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Ta(wr(gb),e,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let s=i[0]||wr(gb);const a=Bu(r,e.config.apiKey,e.name);let o=null;for(const u of n)try{const f=await u._get(a);if(f){let m;if(typeof f=="string"){const d=await kh(e,{idToken:f}).catch(()=>{});if(!d)break;m=await Nn._fromGetAccountInfoResponse(e,d,f)}else m=Nn._fromJSON(e,f);u!==s&&(o=m),s=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new Ta(s,e,r):(s=l[0],o&&await s._set(a,o.toJSON()),await Promise.all(n.map(async u=>{if(u!==s)try{await u._remove(a)}catch{}})),new Ta(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yb(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(OS(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(MS(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(US(e))return"Blackberry";if(BS(e))return"Webos";if(VS(e))return"Safari";if((e.includes("chrome/")||kS(e))&&!e.includes("edge/"))return"Chrome";if(LS(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function MS(t=Ct()){return/firefox\//i.test(t)}function VS(t=Ct()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function kS(t=Ct()){return/crios\//i.test(t)}function OS(t=Ct()){return/iemobile/i.test(t)}function LS(t=Ct()){return/android/i.test(t)}function US(t=Ct()){return/blackberry/i.test(t)}function BS(t=Ct()){return/webos/i.test(t)}function Zy(t=Ct()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function Hk(t=Ct()){var e;return Zy(t)&&!!((e=window.navigator)!=null&&e.standalone)}function Gk(){return rV()&&document.documentMode===10}function zS(t=Ct()){return Zy(t)||LS(t)||BS(t)||US(t)||/windows phone/i.test(t)||OS(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jS(t,e=[]){let n;switch(t){case"Browser":n=yb(Ct());break;case"Worker":n=`${yb(Ct())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ps}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $k{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((a,o)=>{try{const l=e(s);a(l)}catch(l){o(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Kk(t,e={}){return Fr(t,"GET","/v2/passwordPolicy",Bi(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yk=6;class Qk{constructor(e){var r;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??Yk,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xk{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new vb(this),this.idTokenSubscription=new vb(this),this.beforeStateQueue=new $k(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=SS,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=wr(n)),this._initializationPromise=this.queue(async()=>{var r,i,s;if(!this._deleted&&(this.persistenceManager=await Ta.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((i=this._popupRedirectResolver)!=null&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)==null?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await kh(this,{idToken:e}),r=await Nn._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var s;if(tn(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(o=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(o,o))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=(s=this.redirectUser)==null?void 0:s._redirectEventId,o=r==null?void 0:r._redirectEventId,l=await this.tryRedirectSignIn(e);(!a||a===o)&&(l!=null&&l.user)&&(r=l.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(a){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Y(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Oh(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Nk()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(tn(this.app))return Promise.reject(Sr(this));const n=e?Ke(e):null;return n&&Y(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Y(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return tn(this.app)?Promise.reject(Sr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return tn(this.app)?Promise.reject(Sr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(wr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Kk(this),n=new Qk(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new gc("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await qk(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&wr(e)||this._popupRedirectResolver;Y(n,this,"argument-error"),this.redirectPersistenceManager=await Ta.create(this,[wr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let a=!1;const o=this._isInitialized?Promise.resolve():this._initializationPromise;if(Y(o,this,"internal-error"),o.then(()=>{a||s(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{a=!0,l()}}else{const l=e.addObserver(n);return()=>{a=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Y(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=jS(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var i;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((i=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:i.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var n;if(tn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&Ak(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function Ms(t){return Ke(t)}class vb{constructor(e){this.auth=e,this.observer=null,this.addObserver=hV(n=>this.observer=n)}get next(){return Y(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Rf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Wk(t){Rf=t}function FS(t){return Rf.loadJS(t)}function Zk(){return Rf.recaptchaEnterpriseScript}function Jk(){return Rf.gapiScript}function eO(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class tO{constructor(){this.enterprise=new nO}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class nO{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const rO="recaptcha-enterprise",qS="NO_RECAPTCHA";class iO{constructor(e){this.type=rO,this.auth=Ms(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(a,o)=>{kk(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)o(new Error("recaptcha Enterprise site key undefined"));else{const u=new Vk(l);return s.tenantId==null?s._agentRecaptchaConfig=u:s._tenantRecaptchaConfigs[s.tenantId]=u,a(u.siteKey)}}).catch(l=>{o(l)})})}function i(s,a,o){const l=window.grecaptcha;db(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:e}).then(u=>{a(u)}).catch(()=>{a(qS)})}):o(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new tO().execute("siteKey",{action:"verify"}):new Promise((s,a)=>{r(this.auth).then(o=>{if(!n&&db(window.grecaptcha))i(o,s,a);else{if(typeof window>"u"){a(new Error("RecaptchaVerifier is only supported in browser"));return}let l=Zk();l.length!==0&&(l+=o),FS(l).then(()=>{i(o,s,a)}).catch(u=>{a(u)})}}).catch(o=>{a(o)})})}}async function Eb(t,e,n,r=!1,i=!1){const s=new iO(t);let a;if(i)a=qS;else try{a=await s.verify(n)}catch{a=await s.verify(n,!0)}const o={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in o){const l=o.phoneEnrollmentInfo.phoneNumber,u=o.phoneEnrollmentInfo.recaptchaToken;Object.assign(o,{phoneEnrollmentInfo:{phoneNumber:l,recaptchaToken:u,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in o){const l=o.phoneSignInInfo.recaptchaToken;Object.assign(o,{phoneSignInInfo:{recaptchaToken:l,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return o}return r?Object.assign(o,{captchaResp:a}):Object.assign(o,{captchaResponse:a}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function Gp(t,e,n,r,i){var s;if((s=t._getRecaptchaConfig())!=null&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const a=await Eb(t,e,n,n==="getOobCode");return r(t,a)}else return r(t,e).catch(async a=>{if(a.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await Eb(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(a)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sO(t,e){const n=Sf(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(bs(s,e??{}))return i;Mn(i,"already-initialized")}return n.initialize({options:e})}function aO(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(wr);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function oO(t,e,n){const r=Ms(t);Y(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,s=HS(e),{host:a,port:o}=lO(e),l=o===null?"":`:${o}`,u={url:`${s}//${a}${l}/`},f=Object.freeze({host:a,port:o,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){Y(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Y(bs(u,r.config.emulator)&&bs(f,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=u,r.emulatorConfig=f,r.settings.appVerificationDisabledForTesting=!0,Ds(a)?(Hy(`${s}//${a}${l}`),Gy("Auth",!0)):cO()}function HS(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function lO(t){const e=HS(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:_b(r.substr(s.length+1))}}else{const[s,a]=r.split(":");return{host:s,port:_b(a)}}}function _b(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function cO(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jy{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return br("not implemented")}_getIdTokenResponse(e){return br("not implemented")}_linkToIdToken(e,n){return br("not implemented")}_getReauthenticationResolver(e){return br("not implemented")}}async function uO(t,e){return Fr(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hO(t,e){return Ec(t,"POST","/v1/accounts:signInWithPassword",Bi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fO(t,e){return Ec(t,"POST","/v1/accounts:signInWithEmailLink",Bi(t,e))}async function dO(t,e){return Ec(t,"POST","/v1/accounts:signInWithEmailLink",Bi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ol extends Jy{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Ol(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Ol(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Gp(e,n,"signInWithPassword",hO);case"emailLink":return fO(e,{email:this._email,oobCode:this._password});default:Mn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Gp(e,r,"signUpPassword",uO);case"emailLink":return dO(e,{idToken:n,email:this._email,oobCode:this._password});default:Mn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xa(t,e){return Ec(t,"POST","/v1/accounts:signInWithIdp",Bi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mO="http://localhost";class Ts extends Jy{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Ts(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Mn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,...s}=n;if(!r||!i)return null;const a=new Ts(r,i);return a.idToken=s.idToken||void 0,a.accessToken=s.accessToken||void 0,a.secret=s.secret,a.nonce=s.nonce,a.pendingToken=s.pendingToken||null,a}_getIdTokenResponse(e){const n=this.buildRequest();return xa(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,xa(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,xa(e,n)}buildRequest(){const e={requestUri:mO,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=yc(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pO(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function gO(t){const e=jo(Fo(t)).link,n=e?jo(Fo(e)).deep_link_id:null,r=jo(Fo(t)).deep_link_id;return(r?jo(Fo(r)).link:null)||r||n||e||t}class e0{constructor(e){const n=jo(Fo(e)),r=n.apiKey??null,i=n.oobCode??null,s=pO(n.mode??null);Y(r&&i&&s,"argument-error"),this.apiKey=r,this.operation=s,this.code=i,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=gO(e);try{return new e0(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class io{constructor(){this.providerId=io.PROVIDER_ID}static credential(e,n){return Ol._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=e0.parseLink(n);return Y(r,"argument-error"),Ol._fromEmailAndCode(e,r.code,r.tenantId)}}io.PROVIDER_ID="password";io.EMAIL_PASSWORD_SIGN_IN_METHOD="password";io.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GS{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _c extends GS{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ii extends _c{constructor(){super("facebook.com")}static credential(e){return Ts._fromParams({providerId:ii.PROVIDER_ID,signInMethod:ii.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ii.credentialFromTaggedObject(e)}static credentialFromError(e){return ii.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ii.credential(e.oauthAccessToken)}catch{return null}}}ii.FACEBOOK_SIGN_IN_METHOD="facebook.com";ii.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class si extends _c{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Ts._fromParams({providerId:si.PROVIDER_ID,signInMethod:si.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return si.credentialFromTaggedObject(e)}static credentialFromError(e){return si.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return si.credential(n,r)}catch{return null}}}si.GOOGLE_SIGN_IN_METHOD="google.com";si.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ai extends _c{constructor(){super("github.com")}static credential(e){return Ts._fromParams({providerId:ai.PROVIDER_ID,signInMethod:ai.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ai.credentialFromTaggedObject(e)}static credentialFromError(e){return ai.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ai.credential(e.oauthAccessToken)}catch{return null}}}ai.GITHUB_SIGN_IN_METHOD="github.com";ai.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oi extends _c{constructor(){super("twitter.com")}static credential(e,n){return Ts._fromParams({providerId:oi.PROVIDER_ID,signInMethod:oi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return oi.credentialFromTaggedObject(e)}static credentialFromError(e){return oi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return oi.credential(n,r)}catch{return null}}}oi.TWITTER_SIGN_IN_METHOD="twitter.com";oi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yO(t,e){return Ec(t,"POST","/v1/accounts:signUp",Bi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xs{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await Nn._fromIdTokenResponse(e,r,i),a=bb(r);return new xs({user:s,providerId:a,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=bb(r);return new xs({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function bb(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lh extends or{constructor(e,n,r,i){super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Lh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Lh(e,n,r,i)}}function $S(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Lh._fromErrorAndOperation(t,s,e,r):s})}async function vO(t,e,n=!1){const r=await Ba(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return xs._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function EO(t,e,n=!1){const{auth:r}=t;if(tn(r.app))return Promise.reject(Sr(r));const i="reauthenticate";try{const s=await Ba(t,$S(r,i,e,t),n);Y(s.idToken,r,"internal-error");const a=Wy(s.idToken);Y(a,r,"internal-error");const{sub:o}=a;return Y(t.uid===o,r,"user-mismatch"),xs._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Mn(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KS(t,e,n=!1){if(tn(t.app))return Promise.reject(Sr(t));const r="signIn",i=await $S(t,r,e),s=await xs._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function _O(t,e){return KS(Ms(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YS(t){const e=Ms(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function bO(t,e,n){if(tn(t.app))return Promise.reject(Sr(t));const r=Ms(t),a=await Gp(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",yO).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&YS(t),l}),o=await xs._fromIdTokenResponse(r,"signIn",a);return await r._updateCurrentUser(o.user),o}function wO(t,e,n){return tn(t.app)?Promise.reject(Sr(t)):_O(Ke(t),io.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&YS(t),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TO(t,e){return Fr(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xO(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=Ke(t),s={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},a=await Ba(r,TO(r.auth,s));r.displayName=a.displayName||null,r.photoURL=a.photoUrl||null;const o=r.providerData.find(({providerId:l})=>l==="password");o&&(o.displayName=r.displayName,o.photoURL=r.photoURL),await r._updateTokensIfNecessary(a)}function AO(t,e,n,r){return Ke(t).onIdTokenChanged(e,n,r)}function SO(t,e,n){return Ke(t).beforeAuthStateChanged(e,n)}function QS(t,e,n,r){return Ke(t).onAuthStateChanged(e,n,r)}function XS(t){return Ke(t).signOut()}const Uh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WS{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Uh,"1"),this.storage.removeItem(Uh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RO=1e3,NO=10;class ZS extends WS{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=zS(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((a,o,l)=>{this.notifyListeners(a,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const a=this.storage.getItem(r);!n&&this.localCache[r]===a||this.notifyListeners(r,a)},s=this.storage.getItem(r);Gk()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,NO):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},RO)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}ZS.type="LOCAL";const CO=ZS;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JS extends WS{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}JS.type="SESSION";const e2=JS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IO(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new Nf(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,a=this.handlersMap[i];if(!(a!=null&&a.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const o=Array.from(a).map(async u=>u(n.origin,s)),l=await IO(o);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Nf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t0(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DO{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,a;return new Promise((o,l)=>{const u=t0("",20);i.port1.start();const f=setTimeout(()=>{l(new Error("unsupported_event"))},r);a={messageChannel:i,onMessage(m){const d=m;if(d.data.eventId===u)switch(d.data.status){case"ack":clearTimeout(f),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),o(d.data.response);break;default:clearTimeout(f),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(a),i.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yn(){return window}function PO(t){Yn().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t2(){return typeof Yn().WorkerGlobalScope<"u"&&typeof Yn().importScripts=="function"}async function MO(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function VO(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function kO(){return t2()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n2="firebaseLocalStorageDb",OO=1,Bh="firebaseLocalStorage",r2="fbase_key";class bc{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Cf(t,e){return t.transaction([Bh],e?"readwrite":"readonly").objectStore(Bh)}function LO(){const t=indexedDB.deleteDatabase(n2);return new bc(t).toPromise()}function $p(){const t=indexedDB.open(n2,OO);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Bh,{keyPath:r2})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Bh)?e(r):(r.close(),await LO(),e(await $p()))})})}async function wb(t,e,n){const r=Cf(t,!0).put({[r2]:e,value:n});return new bc(r).toPromise()}async function UO(t,e){const n=Cf(t,!1).get(e),r=await new bc(n).toPromise();return r===void 0?null:r.value}function Tb(t,e){const n=Cf(t,!0).delete(e);return new bc(n).toPromise()}const BO=800,zO=3;class i2{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await $p(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>zO)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return t2()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Nf._getInstance(kO()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,r;if(this.activeServiceWorker=await MO(),!this.activeServiceWorker)return;this.sender=new DO(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||VO()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await $p();return await wb(e,Uh,"1"),await Tb(e,Uh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>wb(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>UO(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Tb(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=Cf(i,!1).getAll();return new bc(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),BO)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}i2.type="LOCAL";const jO=i2;new vc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FO(t,e){return e?wr(e):(Y(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n0 extends Jy{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return xa(e,this._buildIdpRequest())}_linkToIdToken(e,n){return xa(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return xa(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function qO(t){return KS(t.auth,new n0(t),t.bypassAuthState)}function HO(t){const{auth:e,user:n}=t;return Y(n,e,"internal-error"),EO(n,new n0(t),t.bypassAuthState)}async function GO(t){const{auth:e,user:n}=t;return Y(n,e,"internal-error"),vO(n,new n0(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s2{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:a,type:o}=e;if(a){this.reject(a);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(o)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return qO;case"linkViaPopup":case"linkViaRedirect":return GO;case"reauthViaPopup":case"reauthViaRedirect":return HO;default:Mn(this.auth,"internal-error")}}resolve(e){Vr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Vr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $O=new vc(2e3,1e4);class la extends s2{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,la.currentPopupAction&&la.currentPopupAction.cancel(),la.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Y(e,this.auth,"internal-error"),e}async onExecution(){Vr(this.filter.length===1,"Popup operations only handle one event");const e=t0();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Kn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(Kn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,la.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if((r=(n=this.authWindow)==null?void 0:n.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Kn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,$O.get())};e()}}la.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KO="pendingRedirect",zu=new Map;class YO extends s2{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=zu.get(this.auth._key());if(!e){try{const r=await QO(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}zu.set(this.auth._key(),e)}return this.bypassAuthState||zu.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function QO(t,e){const n=ZO(e),r=WO(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function XO(t,e){zu.set(t._key(),e)}function WO(t){return wr(t._redirectPersistence)}function ZO(t){return Bu(KO,t.config.apiKey,t.name)}async function JO(t,e,n=!1){if(tn(t.app))return Promise.reject(Sr(t));const r=Ms(t),i=FO(r,e),a=await new YO(r,i,n).execute();return a&&!n&&(delete a.user._redirectEventId,await r._persistUserIfCurrent(a.user),await r._setRedirectUser(null,e)),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e3=10*60*1e3;class t3{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!n3(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!a2(e)){const i=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";n.onError(Kn(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=e3&&this.cachedEventUids.clear(),this.cachedEventUids.has(xb(e))}saveEventToCache(e){this.cachedEventUids.add(xb(e)),this.lastProcessedEventTime=Date.now()}}function xb(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function a2({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function n3(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return a2(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function r3(t,e={}){return Fr(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i3=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,s3=/^https?/;async function a3(t){if(t.config.emulator)return;const{authorizedDomains:e}=await r3(t);for(const n of e)try{if(o3(n))return}catch{}Mn(t,"unauthorized-domain")}function o3(t){const e=qp(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const a=new URL(t);return a.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&a.hostname===r}if(!s3.test(n))return!1;if(i3.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l3=new vc(3e4,6e4);function Ab(){const t=Yn().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function c3(t){return new Promise((e,n)=>{var i,s,a;function r(){Ab(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Ab(),n(Kn(t,"network-request-failed"))},timeout:l3.get()})}if((s=(i=Yn().gapi)==null?void 0:i.iframes)!=null&&s.Iframe)e(gapi.iframes.getContext());else if((a=Yn().gapi)!=null&&a.load)r();else{const o=eO("iframefcb");return Yn()[o]=()=>{gapi.load?r():n(Kn(t,"network-request-failed"))},FS(`${Jk()}?onload=${o}`).catch(l=>n(l))}}).catch(e=>{throw ju=null,e})}let ju=null;function u3(t){return ju=ju||c3(t),ju}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h3=new vc(5e3,15e3),f3="__/auth/iframe",d3="emulator/auth/iframe",m3={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},p3=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function g3(t){const e=t.config;Y(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Xy(e,d3):`https://${t.config.authDomain}/${f3}`,r={apiKey:e.apiKey,appName:t.name,v:Ps},i=p3.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${yc(r).slice(1)}`}async function y3(t){const e=await u3(t),n=Yn().gapi;return Y(n,t,"internal-error"),e.open({where:document.body,url:g3(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:m3,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const a=Kn(t,"network-request-failed"),o=Yn().setTimeout(()=>{s(a)},h3.get());function l(){Yn().clearTimeout(o),i(r)}r.ping(l).then(l,()=>{s(a)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v3={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},E3=500,_3=600,b3="_blank",w3="http://localhost";class Sb{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function T3(t,e,n,r=E3,i=_3){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let o="";const l={...v3,width:r.toString(),height:i.toString(),top:s,left:a},u=Ct().toLowerCase();n&&(o=kS(u)?b3:n),MS(u)&&(e=e||w3,l.scrollbars="yes");const f=Object.entries(l).reduce((d,[y,x])=>`${d}${y}=${x},`,"");if(Hk(u)&&o!=="_self")return x3(e||"",o),new Sb(null);const m=window.open(e||"",o,f);Y(m,t,"popup-blocked");try{m.focus()}catch{}return new Sb(m)}function x3(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A3="__/auth/handler",S3="emulator/auth/handler",R3=encodeURIComponent("fac");async function Rb(t,e,n,r,i,s){Y(t.config.authDomain,t,"auth-domain-config-required"),Y(t.config.apiKey,t,"invalid-api-key");const a={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Ps,eventId:i};if(e instanceof GS){e.setDefaultLanguage(t.languageCode),a.providerId=e.providerId||"",uV(e.getCustomParameters())||(a.customParameters=JSON.stringify(e.getCustomParameters()));for(const[f,m]of Object.entries({}))a[f]=m}if(e instanceof _c){const f=e.getScopes().filter(m=>m!=="");f.length>0&&(a.scopes=f.join(","))}t.tenantId&&(a.tid=t.tenantId);const o=a;for(const f of Object.keys(o))o[f]===void 0&&delete o[f];const l=await t._getAppCheckToken(),u=l?`#${R3}=${encodeURIComponent(l)}`:"";return`${N3(t)}?${yc(o).slice(1)}${u}`}function N3({config:t}){return t.emulator?Xy(t,S3):`https://${t.authDomain}/${A3}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mm="webStorageSupport";class C3{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=e2,this._completeRedirectFn=JO,this._overrideRedirectResult=XO}async _openPopup(e,n,r,i){var a;Vr((a=this.eventManagers[e._key()])==null?void 0:a.manager,"_initialize() not called before _openPopup()");const s=await Rb(e,n,r,qp(),i);return T3(e,s,t0())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await Rb(e,n,r,qp(),i);return PO(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Vr(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await y3(e),r=new t3(e);return n.register("authEvent",i=>(Y(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(mm,{type:mm},i=>{var a;const s=(a=i==null?void 0:i[0])==null?void 0:a[mm];s!==void 0&&n(!!s),Mn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=a3(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return zS()||VS()||Zy()}}const I3=C3;var Nb="@firebase/auth",Cb="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D3{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Y(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P3(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function M3(t){ws(new Ni("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:a,authDomain:o}=r.options;Y(a&&!a.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:a,authDomain:o,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:jS(t)},u=new Xk(r,i,s,l);return aO(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),ws(new Ni("auth-internal",e=>{const n=Ms(e.getProvider("auth").getImmediate());return(r=>new D3(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),$n(Nb,Cb,P3(t)),$n(Nb,Cb,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V3=5*60,k3=vS("authIdTokenMaxAge")||V3;let Ib=null;const O3=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>k3)return;const i=n==null?void 0:n.token;Ib!==i&&(Ib=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function L3(t=Yy()){const e=Sf(t,"auth");if(e.isInitialized())return e.getImmediate();const n=sO(t,{popupRedirectResolver:I3,persistence:[jO,CO,e2]}),r=vS("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const a=O3(s.toString());SO(n,a,()=>a(n.currentUser)),AO(n,o=>a(o))}}const i=pS("auth");return i&&oO(n,`http://${i}`),n}function U3(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}Wk({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=Kn("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",U3().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});M3("Browser");var Db=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ti,o2;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(A,w){function R(){}R.prototype=w.prototype,A.D=w.prototype,A.prototype=new R,A.prototype.constructor=A,A.C=function(C,P,V){for(var D=Array(arguments.length-2),Ut=2;Ut<arguments.length;Ut++)D[Ut-2]=arguments[Ut];return w.prototype[P].apply(C,D)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(A,w,R){R||(R=0);var C=Array(16);if(typeof w=="string")for(var P=0;16>P;++P)C[P]=w.charCodeAt(R++)|w.charCodeAt(R++)<<8|w.charCodeAt(R++)<<16|w.charCodeAt(R++)<<24;else for(P=0;16>P;++P)C[P]=w[R++]|w[R++]<<8|w[R++]<<16|w[R++]<<24;w=A.g[0],R=A.g[1],P=A.g[2];var V=A.g[3],D=w+(V^R&(P^V))+C[0]+3614090360&4294967295;w=R+(D<<7&4294967295|D>>>25),D=V+(P^w&(R^P))+C[1]+3905402710&4294967295,V=w+(D<<12&4294967295|D>>>20),D=P+(R^V&(w^R))+C[2]+606105819&4294967295,P=V+(D<<17&4294967295|D>>>15),D=R+(w^P&(V^w))+C[3]+3250441966&4294967295,R=P+(D<<22&4294967295|D>>>10),D=w+(V^R&(P^V))+C[4]+4118548399&4294967295,w=R+(D<<7&4294967295|D>>>25),D=V+(P^w&(R^P))+C[5]+1200080426&4294967295,V=w+(D<<12&4294967295|D>>>20),D=P+(R^V&(w^R))+C[6]+2821735955&4294967295,P=V+(D<<17&4294967295|D>>>15),D=R+(w^P&(V^w))+C[7]+4249261313&4294967295,R=P+(D<<22&4294967295|D>>>10),D=w+(V^R&(P^V))+C[8]+1770035416&4294967295,w=R+(D<<7&4294967295|D>>>25),D=V+(P^w&(R^P))+C[9]+2336552879&4294967295,V=w+(D<<12&4294967295|D>>>20),D=P+(R^V&(w^R))+C[10]+4294925233&4294967295,P=V+(D<<17&4294967295|D>>>15),D=R+(w^P&(V^w))+C[11]+2304563134&4294967295,R=P+(D<<22&4294967295|D>>>10),D=w+(V^R&(P^V))+C[12]+1804603682&4294967295,w=R+(D<<7&4294967295|D>>>25),D=V+(P^w&(R^P))+C[13]+4254626195&4294967295,V=w+(D<<12&4294967295|D>>>20),D=P+(R^V&(w^R))+C[14]+2792965006&4294967295,P=V+(D<<17&4294967295|D>>>15),D=R+(w^P&(V^w))+C[15]+1236535329&4294967295,R=P+(D<<22&4294967295|D>>>10),D=w+(P^V&(R^P))+C[1]+4129170786&4294967295,w=R+(D<<5&4294967295|D>>>27),D=V+(R^P&(w^R))+C[6]+3225465664&4294967295,V=w+(D<<9&4294967295|D>>>23),D=P+(w^R&(V^w))+C[11]+643717713&4294967295,P=V+(D<<14&4294967295|D>>>18),D=R+(V^w&(P^V))+C[0]+3921069994&4294967295,R=P+(D<<20&4294967295|D>>>12),D=w+(P^V&(R^P))+C[5]+3593408605&4294967295,w=R+(D<<5&4294967295|D>>>27),D=V+(R^P&(w^R))+C[10]+38016083&4294967295,V=w+(D<<9&4294967295|D>>>23),D=P+(w^R&(V^w))+C[15]+3634488961&4294967295,P=V+(D<<14&4294967295|D>>>18),D=R+(V^w&(P^V))+C[4]+3889429448&4294967295,R=P+(D<<20&4294967295|D>>>12),D=w+(P^V&(R^P))+C[9]+568446438&4294967295,w=R+(D<<5&4294967295|D>>>27),D=V+(R^P&(w^R))+C[14]+3275163606&4294967295,V=w+(D<<9&4294967295|D>>>23),D=P+(w^R&(V^w))+C[3]+4107603335&4294967295,P=V+(D<<14&4294967295|D>>>18),D=R+(V^w&(P^V))+C[8]+1163531501&4294967295,R=P+(D<<20&4294967295|D>>>12),D=w+(P^V&(R^P))+C[13]+2850285829&4294967295,w=R+(D<<5&4294967295|D>>>27),D=V+(R^P&(w^R))+C[2]+4243563512&4294967295,V=w+(D<<9&4294967295|D>>>23),D=P+(w^R&(V^w))+C[7]+1735328473&4294967295,P=V+(D<<14&4294967295|D>>>18),D=R+(V^w&(P^V))+C[12]+2368359562&4294967295,R=P+(D<<20&4294967295|D>>>12),D=w+(R^P^V)+C[5]+4294588738&4294967295,w=R+(D<<4&4294967295|D>>>28),D=V+(w^R^P)+C[8]+2272392833&4294967295,V=w+(D<<11&4294967295|D>>>21),D=P+(V^w^R)+C[11]+1839030562&4294967295,P=V+(D<<16&4294967295|D>>>16),D=R+(P^V^w)+C[14]+4259657740&4294967295,R=P+(D<<23&4294967295|D>>>9),D=w+(R^P^V)+C[1]+2763975236&4294967295,w=R+(D<<4&4294967295|D>>>28),D=V+(w^R^P)+C[4]+1272893353&4294967295,V=w+(D<<11&4294967295|D>>>21),D=P+(V^w^R)+C[7]+4139469664&4294967295,P=V+(D<<16&4294967295|D>>>16),D=R+(P^V^w)+C[10]+3200236656&4294967295,R=P+(D<<23&4294967295|D>>>9),D=w+(R^P^V)+C[13]+681279174&4294967295,w=R+(D<<4&4294967295|D>>>28),D=V+(w^R^P)+C[0]+3936430074&4294967295,V=w+(D<<11&4294967295|D>>>21),D=P+(V^w^R)+C[3]+3572445317&4294967295,P=V+(D<<16&4294967295|D>>>16),D=R+(P^V^w)+C[6]+76029189&4294967295,R=P+(D<<23&4294967295|D>>>9),D=w+(R^P^V)+C[9]+3654602809&4294967295,w=R+(D<<4&4294967295|D>>>28),D=V+(w^R^P)+C[12]+3873151461&4294967295,V=w+(D<<11&4294967295|D>>>21),D=P+(V^w^R)+C[15]+530742520&4294967295,P=V+(D<<16&4294967295|D>>>16),D=R+(P^V^w)+C[2]+3299628645&4294967295,R=P+(D<<23&4294967295|D>>>9),D=w+(P^(R|~V))+C[0]+4096336452&4294967295,w=R+(D<<6&4294967295|D>>>26),D=V+(R^(w|~P))+C[7]+1126891415&4294967295,V=w+(D<<10&4294967295|D>>>22),D=P+(w^(V|~R))+C[14]+2878612391&4294967295,P=V+(D<<15&4294967295|D>>>17),D=R+(V^(P|~w))+C[5]+4237533241&4294967295,R=P+(D<<21&4294967295|D>>>11),D=w+(P^(R|~V))+C[12]+1700485571&4294967295,w=R+(D<<6&4294967295|D>>>26),D=V+(R^(w|~P))+C[3]+2399980690&4294967295,V=w+(D<<10&4294967295|D>>>22),D=P+(w^(V|~R))+C[10]+4293915773&4294967295,P=V+(D<<15&4294967295|D>>>17),D=R+(V^(P|~w))+C[1]+2240044497&4294967295,R=P+(D<<21&4294967295|D>>>11),D=w+(P^(R|~V))+C[8]+1873313359&4294967295,w=R+(D<<6&4294967295|D>>>26),D=V+(R^(w|~P))+C[15]+4264355552&4294967295,V=w+(D<<10&4294967295|D>>>22),D=P+(w^(V|~R))+C[6]+2734768916&4294967295,P=V+(D<<15&4294967295|D>>>17),D=R+(V^(P|~w))+C[13]+1309151649&4294967295,R=P+(D<<21&4294967295|D>>>11),D=w+(P^(R|~V))+C[4]+4149444226&4294967295,w=R+(D<<6&4294967295|D>>>26),D=V+(R^(w|~P))+C[11]+3174756917&4294967295,V=w+(D<<10&4294967295|D>>>22),D=P+(w^(V|~R))+C[2]+718787259&4294967295,P=V+(D<<15&4294967295|D>>>17),D=R+(V^(P|~w))+C[9]+3951481745&4294967295,A.g[0]=A.g[0]+w&4294967295,A.g[1]=A.g[1]+(P+(D<<21&4294967295|D>>>11))&4294967295,A.g[2]=A.g[2]+P&4294967295,A.g[3]=A.g[3]+V&4294967295}r.prototype.u=function(A,w){w===void 0&&(w=A.length);for(var R=w-this.blockSize,C=this.B,P=this.h,V=0;V<w;){if(P==0)for(;V<=R;)i(this,A,V),V+=this.blockSize;if(typeof A=="string"){for(;V<w;)if(C[P++]=A.charCodeAt(V++),P==this.blockSize){i(this,C),P=0;break}}else for(;V<w;)if(C[P++]=A[V++],P==this.blockSize){i(this,C),P=0;break}}this.h=P,this.o+=w},r.prototype.v=function(){var A=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);A[0]=128;for(var w=1;w<A.length-8;++w)A[w]=0;var R=8*this.o;for(w=A.length-8;w<A.length;++w)A[w]=R&255,R/=256;for(this.u(A),A=Array(16),w=R=0;4>w;++w)for(var C=0;32>C;C+=8)A[R++]=this.g[w]>>>C&255;return A};function s(A,w){var R=o;return Object.prototype.hasOwnProperty.call(R,A)?R[A]:R[A]=w(A)}function a(A,w){this.h=w;for(var R=[],C=!0,P=A.length-1;0<=P;P--){var V=A[P]|0;C&&V==w||(R[P]=V,C=!1)}this.g=R}var o={};function l(A){return-128<=A&&128>A?s(A,function(w){return new a([w|0],0>w?-1:0)}):new a([A|0],0>A?-1:0)}function u(A){if(isNaN(A)||!isFinite(A))return m;if(0>A)return S(u(-A));for(var w=[],R=1,C=0;A>=R;C++)w[C]=A/R|0,R*=4294967296;return new a(w,0)}function f(A,w){if(A.length==0)throw Error("number format error: empty string");if(w=w||10,2>w||36<w)throw Error("radix out of range: "+w);if(A.charAt(0)=="-")return S(f(A.substring(1),w));if(0<=A.indexOf("-"))throw Error('number format error: interior "-" character');for(var R=u(Math.pow(w,8)),C=m,P=0;P<A.length;P+=8){var V=Math.min(8,A.length-P),D=parseInt(A.substring(P,P+V),w);8>V?(V=u(Math.pow(w,V)),C=C.j(V).add(u(D))):(C=C.j(R),C=C.add(u(D)))}return C}var m=l(0),d=l(1),y=l(16777216);t=a.prototype,t.m=function(){if(_(this))return-S(this).m();for(var A=0,w=1,R=0;R<this.g.length;R++){var C=this.i(R);A+=(0<=C?C:4294967296+C)*w,w*=4294967296}return A},t.toString=function(A){if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(x(this))return"0";if(_(this))return"-"+S(this).toString(A);for(var w=u(Math.pow(A,6)),R=this,C="";;){var P=N(R,w).g;R=v(R,P.j(w));var V=((0<R.g.length?R.g[0]:R.h)>>>0).toString(A);if(R=P,x(R))return V+C;for(;6>V.length;)V="0"+V;C=V+C}},t.i=function(A){return 0>A?0:A<this.g.length?this.g[A]:this.h};function x(A){if(A.h!=0)return!1;for(var w=0;w<A.g.length;w++)if(A.g[w]!=0)return!1;return!0}function _(A){return A.h==-1}t.l=function(A){return A=v(this,A),_(A)?-1:x(A)?0:1};function S(A){for(var w=A.g.length,R=[],C=0;C<w;C++)R[C]=~A.g[C];return new a(R,~A.h).add(d)}t.abs=function(){return _(this)?S(this):this},t.add=function(A){for(var w=Math.max(this.g.length,A.g.length),R=[],C=0,P=0;P<=w;P++){var V=C+(this.i(P)&65535)+(A.i(P)&65535),D=(V>>>16)+(this.i(P)>>>16)+(A.i(P)>>>16);C=D>>>16,V&=65535,D&=65535,R[P]=D<<16|V}return new a(R,R[R.length-1]&-2147483648?-1:0)};function v(A,w){return A.add(S(w))}t.j=function(A){if(x(this)||x(A))return m;if(_(this))return _(A)?S(this).j(S(A)):S(S(this).j(A));if(_(A))return S(this.j(S(A)));if(0>this.l(y)&&0>A.l(y))return u(this.m()*A.m());for(var w=this.g.length+A.g.length,R=[],C=0;C<2*w;C++)R[C]=0;for(C=0;C<this.g.length;C++)for(var P=0;P<A.g.length;P++){var V=this.i(C)>>>16,D=this.i(C)&65535,Ut=A.i(P)>>>16,cn=A.i(P)&65535;R[2*C+2*P]+=D*cn,b(R,2*C+2*P),R[2*C+2*P+1]+=V*cn,b(R,2*C+2*P+1),R[2*C+2*P+1]+=D*Ut,b(R,2*C+2*P+1),R[2*C+2*P+2]+=V*Ut,b(R,2*C+2*P+2)}for(C=0;C<w;C++)R[C]=R[2*C+1]<<16|R[2*C];for(C=w;C<2*w;C++)R[C]=0;return new a(R,0)};function b(A,w){for(;(A[w]&65535)!=A[w];)A[w+1]+=A[w]>>>16,A[w]&=65535,w++}function E(A,w){this.g=A,this.h=w}function N(A,w){if(x(w))throw Error("division by zero");if(x(A))return new E(m,m);if(_(A))return w=N(S(A),w),new E(S(w.g),S(w.h));if(_(w))return w=N(A,S(w)),new E(S(w.g),w.h);if(30<A.g.length){if(_(A)||_(w))throw Error("slowDivide_ only works with positive integers.");for(var R=d,C=w;0>=C.l(A);)R=M(R),C=M(C);var P=L(R,1),V=L(C,1);for(C=L(C,2),R=L(R,2);!x(C);){var D=V.add(C);0>=D.l(A)&&(P=P.add(R),V=D),C=L(C,1),R=L(R,1)}return w=v(A,P.j(w)),new E(P,w)}for(P=m;0<=A.l(w);){for(R=Math.max(1,Math.floor(A.m()/w.m())),C=Math.ceil(Math.log(R)/Math.LN2),C=48>=C?1:Math.pow(2,C-48),V=u(R),D=V.j(w);_(D)||0<D.l(A);)R-=C,V=u(R),D=V.j(w);x(V)&&(V=d),P=P.add(V),A=v(A,D)}return new E(P,A)}t.A=function(A){return N(this,A).h},t.and=function(A){for(var w=Math.max(this.g.length,A.g.length),R=[],C=0;C<w;C++)R[C]=this.i(C)&A.i(C);return new a(R,this.h&A.h)},t.or=function(A){for(var w=Math.max(this.g.length,A.g.length),R=[],C=0;C<w;C++)R[C]=this.i(C)|A.i(C);return new a(R,this.h|A.h)},t.xor=function(A){for(var w=Math.max(this.g.length,A.g.length),R=[],C=0;C<w;C++)R[C]=this.i(C)^A.i(C);return new a(R,this.h^A.h)};function M(A){for(var w=A.g.length+1,R=[],C=0;C<w;C++)R[C]=A.i(C)<<1|A.i(C-1)>>>31;return new a(R,A.h)}function L(A,w){var R=w>>5;w%=32;for(var C=A.g.length-R,P=[],V=0;V<C;V++)P[V]=0<w?A.i(V+R)>>>w|A.i(V+R+1)<<32-w:A.i(V+R);return new a(P,A.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,o2=r,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.A,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=u,a.fromString=f,Ti=a}).apply(typeof Db<"u"?Db:typeof self<"u"?self:typeof window<"u"?window:{});var mu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var l2,qo,c2,Fu,Kp,u2,h2,f2;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,p,g){return c==Array.prototype||c==Object.prototype||(c[p]=g.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof mu=="object"&&mu];for(var p=0;p<c.length;++p){var g=c[p];if(g&&g.Math==Math)return g}throw Error("Cannot find global object")}var r=n(this);function i(c,p){if(p)e:{var g=r;c=c.split(".");for(var T=0;T<c.length-1;T++){var k=c[T];if(!(k in g))break e;g=g[k]}c=c[c.length-1],T=g[c],p=p(T),p!=T&&p!=null&&e(g,c,{configurable:!0,writable:!0,value:p})}}function s(c,p){c instanceof String&&(c+="");var g=0,T=!1,k={next:function(){if(!T&&g<c.length){var O=g++;return{value:p(O,c[O]),done:!1}}return T=!0,{done:!0,value:void 0}}};return k[Symbol.iterator]=function(){return k},k}i("Array.prototype.values",function(c){return c||function(){return s(this,function(p,g){return g})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},o=this||self;function l(c){var p=typeof c;return p=p!="object"?p:c?Array.isArray(c)?"array":p:"null",p=="array"||p=="object"&&typeof c.length=="number"}function u(c){var p=typeof c;return p=="object"&&c!=null||p=="function"}function f(c,p,g){return c.call.apply(c.bind,arguments)}function m(c,p,g){if(!c)throw Error();if(2<arguments.length){var T=Array.prototype.slice.call(arguments,2);return function(){var k=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(k,T),c.apply(p,k)}}return function(){return c.apply(p,arguments)}}function d(c,p,g){return d=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?f:m,d.apply(null,arguments)}function y(c,p){var g=Array.prototype.slice.call(arguments,1);return function(){var T=g.slice();return T.push.apply(T,arguments),c.apply(this,T)}}function x(c,p){function g(){}g.prototype=p.prototype,c.aa=p.prototype,c.prototype=new g,c.prototype.constructor=c,c.Qb=function(T,k,O){for(var j=Array(arguments.length-2),Te=2;Te<arguments.length;Te++)j[Te-2]=arguments[Te];return p.prototype[k].apply(T,j)}}function _(c){const p=c.length;if(0<p){const g=Array(p);for(let T=0;T<p;T++)g[T]=c[T];return g}return[]}function S(c,p){for(let g=1;g<arguments.length;g++){const T=arguments[g];if(l(T)){const k=c.length||0,O=T.length||0;c.length=k+O;for(let j=0;j<O;j++)c[k+j]=T[j]}else c.push(T)}}class v{constructor(p,g){this.i=p,this.j=g,this.h=0,this.g=null}get(){let p;return 0<this.h?(this.h--,p=this.g,this.g=p.next,p.next=null):p=this.i(),p}}function b(c){return/^[\s\xa0]*$/.test(c)}function E(){var c=o.navigator;return c&&(c=c.userAgent)?c:""}function N(c){return N[" "](c),c}N[" "]=function(){};var M=E().indexOf("Gecko")!=-1&&!(E().toLowerCase().indexOf("webkit")!=-1&&E().indexOf("Edge")==-1)&&!(E().indexOf("Trident")!=-1||E().indexOf("MSIE")!=-1)&&E().indexOf("Edge")==-1;function L(c,p,g){for(const T in c)p.call(g,c[T],T,c)}function A(c,p){for(const g in c)p.call(void 0,c[g],g,c)}function w(c){const p={};for(const g in c)p[g]=c[g];return p}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function C(c,p){let g,T;for(let k=1;k<arguments.length;k++){T=arguments[k];for(g in T)c[g]=T[g];for(let O=0;O<R.length;O++)g=R[O],Object.prototype.hasOwnProperty.call(T,g)&&(c[g]=T[g])}}function P(c){var p=1;c=c.split(":");const g=[];for(;0<p&&c.length;)g.push(c.shift()),p--;return c.length&&g.push(c.join(":")),g}function V(c){o.setTimeout(()=>{throw c},0)}function D(){var c=fe;let p=null;return c.g&&(p=c.g,c.g=c.g.next,c.g||(c.h=null),p.next=null),p}class Ut{constructor(){this.h=this.g=null}add(p,g){const T=cn.get();T.set(p,g),this.h?this.h.next=T:this.g=T,this.h=T}}var cn=new v(()=>new q,c=>c.reset());class q{constructor(){this.next=this.g=this.h=null}set(p,g){this.h=p,this.g=g,this.next=null}reset(){this.next=this.g=this.h=null}}let G,$=!1,fe=new Ut,_e=()=>{const c=o.Promise.resolve(void 0);G=()=>{c.then(qr)}};var qr=()=>{for(var c;c=D();){try{c.h.call(c.g)}catch(g){V(g)}var p=cn;p.j(c),100>p.h&&(p.h++,c.next=p.g,p.g=c)}$=!1};function Yt(){this.s=this.s,this.C=this.C}Yt.prototype.s=!1,Yt.prototype.ma=function(){this.s||(this.s=!0,this.N())},Yt.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Ye(c,p){this.type=c,this.g=this.target=p,this.defaultPrevented=!1}Ye.prototype.h=function(){this.defaultPrevented=!0};var cr=function(){if(!o.addEventListener||!Object.defineProperty)return!1;var c=!1,p=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const g=()=>{};o.addEventListener("test",g,p),o.removeEventListener("test",g,p)}catch{}return c}();function Un(c,p){if(Ye.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var g=this.type=c.type,T=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=p,p=c.relatedTarget){if(M){e:{try{N(p.nodeName);var k=!0;break e}catch{}k=!1}k||(p=null)}}else g=="mouseover"?p=c.fromElement:g=="mouseout"&&(p=c.toElement);this.relatedTarget=p,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:RC[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Un.aa.h.call(this)}}x(Un,Ye);var RC={2:"touch",3:"pen",4:"mouse"};Un.prototype.h=function(){Un.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Pc="closure_listenable_"+(1e6*Math.random()|0),NC=0;function CC(c,p,g,T,k){this.listener=c,this.proxy=null,this.src=p,this.type=g,this.capture=!!T,this.ha=k,this.key=++NC,this.da=this.fa=!1}function Mc(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Vc(c){this.src=c,this.g={},this.h=0}Vc.prototype.add=function(c,p,g,T,k){var O=c.toString();c=this.g[O],c||(c=this.g[O]=[],this.h++);var j=rd(c,p,T,k);return-1<j?(p=c[j],g||(p.fa=!1)):(p=new CC(p,this.src,O,!!T,k),p.fa=g,c.push(p)),p};function nd(c,p){var g=p.type;if(g in c.g){var T=c.g[g],k=Array.prototype.indexOf.call(T,p,void 0),O;(O=0<=k)&&Array.prototype.splice.call(T,k,1),O&&(Mc(p),c.g[g].length==0&&(delete c.g[g],c.h--))}}function rd(c,p,g,T){for(var k=0;k<c.length;++k){var O=c[k];if(!O.da&&O.listener==p&&O.capture==!!g&&O.ha==T)return k}return-1}var id="closure_lm_"+(1e6*Math.random()|0),sd={};function Tv(c,p,g,T,k){if(Array.isArray(p)){for(var O=0;O<p.length;O++)Tv(c,p[O],g,T,k);return null}return g=Sv(g),c&&c[Pc]?c.K(p,g,u(T)?!!T.capture:!1,k):IC(c,p,g,!1,T,k)}function IC(c,p,g,T,k,O){if(!p)throw Error("Invalid event type");var j=u(k)?!!k.capture:!!k,Te=od(c);if(Te||(c[id]=Te=new Vc(c)),g=Te.add(p,g,T,j,O),g.proxy)return g;if(T=DC(),g.proxy=T,T.src=c,T.listener=g,c.addEventListener)cr||(k=j),k===void 0&&(k=!1),c.addEventListener(p.toString(),T,k);else if(c.attachEvent)c.attachEvent(Av(p.toString()),T);else if(c.addListener&&c.removeListener)c.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return g}function DC(){function c(g){return p.call(c.src,c.listener,g)}const p=PC;return c}function xv(c,p,g,T,k){if(Array.isArray(p))for(var O=0;O<p.length;O++)xv(c,p[O],g,T,k);else T=u(T)?!!T.capture:!!T,g=Sv(g),c&&c[Pc]?(c=c.i,p=String(p).toString(),p in c.g&&(O=c.g[p],g=rd(O,g,T,k),-1<g&&(Mc(O[g]),Array.prototype.splice.call(O,g,1),O.length==0&&(delete c.g[p],c.h--)))):c&&(c=od(c))&&(p=c.g[p.toString()],c=-1,p&&(c=rd(p,g,T,k)),(g=-1<c?p[c]:null)&&ad(g))}function ad(c){if(typeof c!="number"&&c&&!c.da){var p=c.src;if(p&&p[Pc])nd(p.i,c);else{var g=c.type,T=c.proxy;p.removeEventListener?p.removeEventListener(g,T,c.capture):p.detachEvent?p.detachEvent(Av(g),T):p.addListener&&p.removeListener&&p.removeListener(T),(g=od(p))?(nd(g,c),g.h==0&&(g.src=null,p[id]=null)):Mc(c)}}}function Av(c){return c in sd?sd[c]:sd[c]="on"+c}function PC(c,p){if(c.da)c=!0;else{p=new Un(p,this);var g=c.listener,T=c.ha||c.src;c.fa&&ad(c),c=g.call(T,p)}return c}function od(c){return c=c[id],c instanceof Vc?c:null}var ld="__closure_events_fn_"+(1e9*Math.random()>>>0);function Sv(c){return typeof c=="function"?c:(c[ld]||(c[ld]=function(p){return c.handleEvent(p)}),c[ld])}function Et(){Yt.call(this),this.i=new Vc(this),this.M=this,this.F=null}x(Et,Yt),Et.prototype[Pc]=!0,Et.prototype.removeEventListener=function(c,p,g,T){xv(this,c,p,g,T)};function It(c,p){var g,T=c.F;if(T)for(g=[];T;T=T.F)g.push(T);if(c=c.M,T=p.type||p,typeof p=="string")p=new Ye(p,c);else if(p instanceof Ye)p.target=p.target||c;else{var k=p;p=new Ye(T,c),C(p,k)}if(k=!0,g)for(var O=g.length-1;0<=O;O--){var j=p.g=g[O];k=kc(j,T,!0,p)&&k}if(j=p.g=c,k=kc(j,T,!0,p)&&k,k=kc(j,T,!1,p)&&k,g)for(O=0;O<g.length;O++)j=p.g=g[O],k=kc(j,T,!1,p)&&k}Et.prototype.N=function(){if(Et.aa.N.call(this),this.i){var c=this.i,p;for(p in c.g){for(var g=c.g[p],T=0;T<g.length;T++)Mc(g[T]);delete c.g[p],c.h--}}this.F=null},Et.prototype.K=function(c,p,g,T){return this.i.add(String(c),p,!1,g,T)},Et.prototype.L=function(c,p,g,T){return this.i.add(String(c),p,!0,g,T)};function kc(c,p,g,T){if(p=c.i.g[String(p)],!p)return!0;p=p.concat();for(var k=!0,O=0;O<p.length;++O){var j=p[O];if(j&&!j.da&&j.capture==g){var Te=j.listener,ht=j.ha||j.src;j.fa&&nd(c.i,j),k=Te.call(ht,T)!==!1&&k}}return k&&!T.defaultPrevented}function Rv(c,p,g){if(typeof c=="function")g&&(c=d(c,g));else if(c&&typeof c.handleEvent=="function")c=d(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(p)?-1:o.setTimeout(c,p||0)}function Nv(c){c.g=Rv(()=>{c.g=null,c.i&&(c.i=!1,Nv(c))},c.l);const p=c.h;c.h=null,c.m.apply(null,p)}class MC extends Yt{constructor(p,g){super(),this.m=p,this.l=g,this.h=null,this.i=!1,this.g=null}j(p){this.h=arguments,this.g?this.i=!0:Nv(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function mo(c){Yt.call(this),this.h=c,this.g={}}x(mo,Yt);var Cv=[];function Iv(c){L(c.g,function(p,g){this.g.hasOwnProperty(g)&&ad(p)},c),c.g={}}mo.prototype.N=function(){mo.aa.N.call(this),Iv(this)},mo.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var cd=o.JSON.stringify,VC=o.JSON.parse,kC=class{stringify(c){return o.JSON.stringify(c,void 0)}parse(c){return o.JSON.parse(c,void 0)}};function ud(){}ud.prototype.h=null;function Dv(c){return c.h||(c.h=c.i())}function Pv(){}var po={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function hd(){Ye.call(this,"d")}x(hd,Ye);function fd(){Ye.call(this,"c")}x(fd,Ye);var Hi={},Mv=null;function Oc(){return Mv=Mv||new Et}Hi.La="serverreachability";function Vv(c){Ye.call(this,Hi.La,c)}x(Vv,Ye);function go(c){const p=Oc();It(p,new Vv(p))}Hi.STAT_EVENT="statevent";function kv(c,p){Ye.call(this,Hi.STAT_EVENT,c),this.stat=p}x(kv,Ye);function Dt(c){const p=Oc();It(p,new kv(p,c))}Hi.Ma="timingevent";function Ov(c,p){Ye.call(this,Hi.Ma,c),this.size=p}x(Ov,Ye);function yo(c,p){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){c()},p)}function vo(){this.g=!0}vo.prototype.xa=function(){this.g=!1};function OC(c,p,g,T,k,O){c.info(function(){if(c.g)if(O)for(var j="",Te=O.split("&"),ht=0;ht<Te.length;ht++){var de=Te[ht].split("=");if(1<de.length){var _t=de[0];de=de[1];var bt=_t.split("_");j=2<=bt.length&&bt[1]=="type"?j+(_t+"="+de+"&"):j+(_t+"=redacted&")}}else j=null;else j=O;return"XMLHTTP REQ ("+T+") [attempt "+k+"]: "+p+`
`+g+`
`+j})}function LC(c,p,g,T,k,O,j){c.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+k+"]: "+p+`
`+g+`
`+O+" "+j})}function Os(c,p,g,T){c.info(function(){return"XMLHTTP TEXT ("+p+"): "+BC(c,g)+(T?" "+T:"")})}function UC(c,p){c.info(function(){return"TIMEOUT: "+p})}vo.prototype.info=function(){};function BC(c,p){if(!c.g)return p;if(!p)return null;try{var g=JSON.parse(p);if(g){for(c=0;c<g.length;c++)if(Array.isArray(g[c])){var T=g[c];if(!(2>T.length)){var k=T[1];if(Array.isArray(k)&&!(1>k.length)){var O=k[0];if(O!="noop"&&O!="stop"&&O!="close")for(var j=1;j<k.length;j++)k[j]=""}}}}return cd(g)}catch{return p}}var Lc={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Lv={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},dd;function Uc(){}x(Uc,ud),Uc.prototype.g=function(){return new XMLHttpRequest},Uc.prototype.i=function(){return{}},dd=new Uc;function Hr(c,p,g,T){this.j=c,this.i=p,this.l=g,this.R=T||1,this.U=new mo(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Uv}function Uv(){this.i=null,this.g="",this.h=!1}var Bv={},md={};function pd(c,p,g){c.L=1,c.v=Fc(ur(p)),c.m=g,c.P=!0,zv(c,null)}function zv(c,p){c.F=Date.now(),Bc(c),c.A=ur(c.v);var g=c.A,T=c.R;Array.isArray(T)||(T=[String(T)]),eE(g.i,"t",T),c.C=0,g=c.j.J,c.h=new Uv,c.g=vE(c.j,g?p:null,!c.m),0<c.O&&(c.M=new MC(d(c.Y,c,c.g),c.O)),p=c.U,g=c.g,T=c.ca;var k="readystatechange";Array.isArray(k)||(k&&(Cv[0]=k.toString()),k=Cv);for(var O=0;O<k.length;O++){var j=Tv(g,k[O],T||p.handleEvent,!1,p.h||p);if(!j)break;p.g[j.key]=j}p=c.H?w(c.H):{},c.m?(c.u||(c.u="POST"),p["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,p)):(c.u="GET",c.g.ea(c.A,c.u,null,p)),go(),OC(c.i,c.u,c.A,c.l,c.R,c.m)}Hr.prototype.ca=function(c){c=c.target;const p=this.M;p&&hr(c)==3?p.j():this.Y(c)},Hr.prototype.Y=function(c){try{if(c==this.g)e:{const bt=hr(this.g);var p=this.g.Ba();const Bs=this.g.Z();if(!(3>bt)&&(bt!=3||this.g&&(this.h.h||this.g.oa()||oE(this.g)))){this.J||bt!=4||p==7||(p==8||0>=Bs?go(3):go(2)),gd(this);var g=this.g.Z();this.X=g;t:if(jv(this)){var T=oE(this.g);c="";var k=T.length,O=hr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Gi(this),Eo(this);var j="";break t}this.h.i=new o.TextDecoder}for(p=0;p<k;p++)this.h.h=!0,c+=this.h.i.decode(T[p],{stream:!(O&&p==k-1)});T.length=0,this.h.g+=c,this.C=0,j=this.h.g}else j=this.g.oa();if(this.o=g==200,LC(this.i,this.u,this.A,this.l,this.R,bt,g),this.o){if(this.T&&!this.K){t:{if(this.g){var Te,ht=this.g;if((Te=ht.g?ht.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!b(Te)){var de=Te;break t}}de=null}if(g=de)Os(this.i,this.l,g,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,yd(this,g);else{this.o=!1,this.s=3,Dt(12),Gi(this),Eo(this);break e}}if(this.P){g=!0;let An;for(;!this.J&&this.C<j.length;)if(An=zC(this,j),An==md){bt==4&&(this.s=4,Dt(14),g=!1),Os(this.i,this.l,null,"[Incomplete Response]");break}else if(An==Bv){this.s=4,Dt(15),Os(this.i,this.l,j,"[Invalid Chunk]"),g=!1;break}else Os(this.i,this.l,An,null),yd(this,An);if(jv(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),bt!=4||j.length!=0||this.h.h||(this.s=1,Dt(16),g=!1),this.o=this.o&&g,!g)Os(this.i,this.l,j,"[Invalid Chunked Response]"),Gi(this),Eo(this);else if(0<j.length&&!this.W){this.W=!0;var _t=this.j;_t.g==this&&_t.ba&&!_t.M&&(_t.j.info("Great, no buffering proxy detected. Bytes received: "+j.length),Td(_t),_t.M=!0,Dt(11))}}else Os(this.i,this.l,j,null),yd(this,j);bt==4&&Gi(this),this.o&&!this.J&&(bt==4?mE(this.j,this):(this.o=!1,Bc(this)))}else rI(this.g),g==400&&0<j.indexOf("Unknown SID")?(this.s=3,Dt(12)):(this.s=0,Dt(13)),Gi(this),Eo(this)}}}catch{}finally{}};function jv(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function zC(c,p){var g=c.C,T=p.indexOf(`
`,g);return T==-1?md:(g=Number(p.substring(g,T)),isNaN(g)?Bv:(T+=1,T+g>p.length?md:(p=p.slice(T,T+g),c.C=T+g,p)))}Hr.prototype.cancel=function(){this.J=!0,Gi(this)};function Bc(c){c.S=Date.now()+c.I,Fv(c,c.I)}function Fv(c,p){if(c.B!=null)throw Error("WatchDog timer not null");c.B=yo(d(c.ba,c),p)}function gd(c){c.B&&(o.clearTimeout(c.B),c.B=null)}Hr.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(UC(this.i,this.A),this.L!=2&&(go(),Dt(17)),Gi(this),this.s=2,Eo(this)):Fv(this,this.S-c)};function Eo(c){c.j.G==0||c.J||mE(c.j,c)}function Gi(c){gd(c);var p=c.M;p&&typeof p.ma=="function"&&p.ma(),c.M=null,Iv(c.U),c.g&&(p=c.g,c.g=null,p.abort(),p.ma())}function yd(c,p){try{var g=c.j;if(g.G!=0&&(g.g==c||vd(g.h,c))){if(!c.K&&vd(g.h,c)&&g.G==3){try{var T=g.Da.g.parse(p)}catch{T=null}if(Array.isArray(T)&&T.length==3){var k=T;if(k[0]==0){e:if(!g.u){if(g.g)if(g.g.F+3e3<c.F)Yc(g),$c(g);else break e;wd(g),Dt(18)}}else g.za=k[1],0<g.za-g.T&&37500>k[2]&&g.F&&g.v==0&&!g.C&&(g.C=yo(d(g.Za,g),6e3));if(1>=Gv(g.h)&&g.ca){try{g.ca()}catch{}g.ca=void 0}}else Ki(g,11)}else if((c.K||g.g==c)&&Yc(g),!b(p))for(k=g.Da.g.parse(p),p=0;p<k.length;p++){let de=k[p];if(g.T=de[0],de=de[1],g.G==2)if(de[0]=="c"){g.K=de[1],g.ia=de[2];const _t=de[3];_t!=null&&(g.la=_t,g.j.info("VER="+g.la));const bt=de[4];bt!=null&&(g.Aa=bt,g.j.info("SVER="+g.Aa));const Bs=de[5];Bs!=null&&typeof Bs=="number"&&0<Bs&&(T=1.5*Bs,g.L=T,g.j.info("backChannelRequestTimeoutMs_="+T)),T=g;const An=c.g;if(An){const Xc=An.g?An.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Xc){var O=T.h;O.g||Xc.indexOf("spdy")==-1&&Xc.indexOf("quic")==-1&&Xc.indexOf("h2")==-1||(O.j=O.l,O.g=new Set,O.h&&(Ed(O,O.h),O.h=null))}if(T.D){const xd=An.g?An.g.getResponseHeader("X-HTTP-Session-Id"):null;xd&&(T.ya=xd,Re(T.I,T.D,xd))}}g.G=3,g.l&&g.l.ua(),g.ba&&(g.R=Date.now()-c.F,g.j.info("Handshake RTT: "+g.R+"ms")),T=g;var j=c;if(T.qa=yE(T,T.J?T.ia:null,T.W),j.K){$v(T.h,j);var Te=j,ht=T.L;ht&&(Te.I=ht),Te.B&&(gd(Te),Bc(Te)),T.g=j}else fE(T);0<g.i.length&&Kc(g)}else de[0]!="stop"&&de[0]!="close"||Ki(g,7);else g.G==3&&(de[0]=="stop"||de[0]=="close"?de[0]=="stop"?Ki(g,7):bd(g):de[0]!="noop"&&g.l&&g.l.ta(de),g.v=0)}}go(4)}catch{}}var jC=class{constructor(c,p){this.g=c,this.map=p}};function qv(c){this.l=c||10,o.PerformanceNavigationTiming?(c=o.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Hv(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Gv(c){return c.h?1:c.g?c.g.size:0}function vd(c,p){return c.h?c.h==p:c.g?c.g.has(p):!1}function Ed(c,p){c.g?c.g.add(p):c.h=p}function $v(c,p){c.h&&c.h==p?c.h=null:c.g&&c.g.has(p)&&c.g.delete(p)}qv.prototype.cancel=function(){if(this.i=Kv(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Kv(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let p=c.i;for(const g of c.g.values())p=p.concat(g.D);return p}return _(c.i)}function FC(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(l(c)){for(var p=[],g=c.length,T=0;T<g;T++)p.push(c[T]);return p}p=[],g=0;for(T in c)p[g++]=c[T];return p}function qC(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(l(c)||typeof c=="string"){var p=[];c=c.length;for(var g=0;g<c;g++)p.push(g);return p}p=[],g=0;for(const T in c)p[g++]=T;return p}}}function Yv(c,p){if(c.forEach&&typeof c.forEach=="function")c.forEach(p,void 0);else if(l(c)||typeof c=="string")Array.prototype.forEach.call(c,p,void 0);else for(var g=qC(c),T=FC(c),k=T.length,O=0;O<k;O++)p.call(void 0,T[O],g&&g[O],c)}var Qv=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function HC(c,p){if(c){c=c.split("&");for(var g=0;g<c.length;g++){var T=c[g].indexOf("="),k=null;if(0<=T){var O=c[g].substring(0,T);k=c[g].substring(T+1)}else O=c[g];p(O,k?decodeURIComponent(k.replace(/\+/g," ")):"")}}}function $i(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof $i){this.h=c.h,zc(this,c.j),this.o=c.o,this.g=c.g,jc(this,c.s),this.l=c.l;var p=c.i,g=new wo;g.i=p.i,p.g&&(g.g=new Map(p.g),g.h=p.h),Xv(this,g),this.m=c.m}else c&&(p=String(c).match(Qv))?(this.h=!1,zc(this,p[1]||"",!0),this.o=_o(p[2]||""),this.g=_o(p[3]||"",!0),jc(this,p[4]),this.l=_o(p[5]||"",!0),Xv(this,p[6]||"",!0),this.m=_o(p[7]||"")):(this.h=!1,this.i=new wo(null,this.h))}$i.prototype.toString=function(){var c=[],p=this.j;p&&c.push(bo(p,Wv,!0),":");var g=this.g;return(g||p=="file")&&(c.push("//"),(p=this.o)&&c.push(bo(p,Wv,!0),"@"),c.push(encodeURIComponent(String(g)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g=this.s,g!=null&&c.push(":",String(g))),(g=this.l)&&(this.g&&g.charAt(0)!="/"&&c.push("/"),c.push(bo(g,g.charAt(0)=="/"?KC:$C,!0))),(g=this.i.toString())&&c.push("?",g),(g=this.m)&&c.push("#",bo(g,QC)),c.join("")};function ur(c){return new $i(c)}function zc(c,p,g){c.j=g?_o(p,!0):p,c.j&&(c.j=c.j.replace(/:$/,""))}function jc(c,p){if(p){if(p=Number(p),isNaN(p)||0>p)throw Error("Bad port number "+p);c.s=p}else c.s=null}function Xv(c,p,g){p instanceof wo?(c.i=p,XC(c.i,c.h)):(g||(p=bo(p,YC)),c.i=new wo(p,c.h))}function Re(c,p,g){c.i.set(p,g)}function Fc(c){return Re(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function _o(c,p){return c?p?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function bo(c,p,g){return typeof c=="string"?(c=encodeURI(c).replace(p,GC),g&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function GC(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Wv=/[#\/\?@]/g,$C=/[#\?:]/g,KC=/[#\?]/g,YC=/[#\?@]/g,QC=/#/g;function wo(c,p){this.h=this.g=null,this.i=c||null,this.j=!!p}function Gr(c){c.g||(c.g=new Map,c.h=0,c.i&&HC(c.i,function(p,g){c.add(decodeURIComponent(p.replace(/\+/g," ")),g)}))}t=wo.prototype,t.add=function(c,p){Gr(this),this.i=null,c=Ls(this,c);var g=this.g.get(c);return g||this.g.set(c,g=[]),g.push(p),this.h+=1,this};function Zv(c,p){Gr(c),p=Ls(c,p),c.g.has(p)&&(c.i=null,c.h-=c.g.get(p).length,c.g.delete(p))}function Jv(c,p){return Gr(c),p=Ls(c,p),c.g.has(p)}t.forEach=function(c,p){Gr(this),this.g.forEach(function(g,T){g.forEach(function(k){c.call(p,k,T,this)},this)},this)},t.na=function(){Gr(this);const c=Array.from(this.g.values()),p=Array.from(this.g.keys()),g=[];for(let T=0;T<p.length;T++){const k=c[T];for(let O=0;O<k.length;O++)g.push(p[T])}return g},t.V=function(c){Gr(this);let p=[];if(typeof c=="string")Jv(this,c)&&(p=p.concat(this.g.get(Ls(this,c))));else{c=Array.from(this.g.values());for(let g=0;g<c.length;g++)p=p.concat(c[g])}return p},t.set=function(c,p){return Gr(this),this.i=null,c=Ls(this,c),Jv(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[p]),this.h+=1,this},t.get=function(c,p){return c?(c=this.V(c),0<c.length?String(c[0]):p):p};function eE(c,p,g){Zv(c,p),0<g.length&&(c.i=null,c.g.set(Ls(c,p),_(g)),c.h+=g.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],p=Array.from(this.g.keys());for(var g=0;g<p.length;g++){var T=p[g];const O=encodeURIComponent(String(T)),j=this.V(T);for(T=0;T<j.length;T++){var k=O;j[T]!==""&&(k+="="+encodeURIComponent(String(j[T]))),c.push(k)}}return this.i=c.join("&")};function Ls(c,p){return p=String(p),c.j&&(p=p.toLowerCase()),p}function XC(c,p){p&&!c.j&&(Gr(c),c.i=null,c.g.forEach(function(g,T){var k=T.toLowerCase();T!=k&&(Zv(this,T),eE(this,k,g))},c)),c.j=p}function WC(c,p){const g=new vo;if(o.Image){const T=new Image;T.onload=y($r,g,"TestLoadImage: loaded",!0,p,T),T.onerror=y($r,g,"TestLoadImage: error",!1,p,T),T.onabort=y($r,g,"TestLoadImage: abort",!1,p,T),T.ontimeout=y($r,g,"TestLoadImage: timeout",!1,p,T),o.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=c}else p(!1)}function ZC(c,p){const g=new vo,T=new AbortController,k=setTimeout(()=>{T.abort(),$r(g,"TestPingServer: timeout",!1,p)},1e4);fetch(c,{signal:T.signal}).then(O=>{clearTimeout(k),O.ok?$r(g,"TestPingServer: ok",!0,p):$r(g,"TestPingServer: server error",!1,p)}).catch(()=>{clearTimeout(k),$r(g,"TestPingServer: error",!1,p)})}function $r(c,p,g,T,k){try{k&&(k.onload=null,k.onerror=null,k.onabort=null,k.ontimeout=null),T(g)}catch{}}function JC(){this.g=new kC}function eI(c,p,g){const T=g||"";try{Yv(c,function(k,O){let j=k;u(k)&&(j=cd(k)),p.push(T+O+"="+encodeURIComponent(j))})}catch(k){throw p.push(T+"type="+encodeURIComponent("_badmap")),k}}function qc(c){this.l=c.Ub||null,this.j=c.eb||!1}x(qc,ud),qc.prototype.g=function(){return new Hc(this.l,this.j)},qc.prototype.i=function(c){return function(){return c}}({});function Hc(c,p){Et.call(this),this.D=c,this.o=p,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}x(Hc,Et),t=Hc.prototype,t.open=function(c,p){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=p,this.readyState=1,xo(this)},t.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const p={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(p.body=c),(this.D||o).fetch(new Request(this.A,p)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,To(this)),this.readyState=0},t.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,xo(this)),this.g&&(this.readyState=3,xo(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof o.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;tE(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function tE(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}t.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var p=c.value?c.value:new Uint8Array(0);(p=this.v.decode(p,{stream:!c.done}))&&(this.response=this.responseText+=p)}c.done?To(this):xo(this),this.readyState==3&&tE(this)}},t.Ra=function(c){this.g&&(this.response=this.responseText=c,To(this))},t.Qa=function(c){this.g&&(this.response=c,To(this))},t.ga=function(){this.g&&To(this)};function To(c){c.readyState=4,c.l=null,c.j=null,c.v=null,xo(c)}t.setRequestHeader=function(c,p){this.u.append(c,p)},t.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],p=this.h.entries();for(var g=p.next();!g.done;)g=g.value,c.push(g[0]+": "+g[1]),g=p.next();return c.join(`\r
`)};function xo(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Hc.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function nE(c){let p="";return L(c,function(g,T){p+=T,p+=":",p+=g,p+=`\r
`}),p}function _d(c,p,g){e:{for(T in g){var T=!1;break e}T=!0}T||(g=nE(g),typeof c=="string"?g!=null&&encodeURIComponent(String(g)):Re(c,p,g))}function Ue(c){Et.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}x(Ue,Et);var tI=/^https?$/i,nI=["POST","PUT"];t=Ue.prototype,t.Ha=function(c){this.J=c},t.ea=function(c,p,g,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);p=p?p.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():dd.g(),this.v=this.o?Dv(this.o):Dv(dd),this.g.onreadystatechange=d(this.Ea,this);try{this.B=!0,this.g.open(p,String(c),!0),this.B=!1}catch(O){rE(this,O);return}if(c=g||"",g=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var k in T)g.set(k,T[k]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const O of T.keys())g.set(O,T.get(O));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(g.keys()).find(O=>O.toLowerCase()=="content-type"),k=o.FormData&&c instanceof o.FormData,!(0<=Array.prototype.indexOf.call(nI,p,void 0))||T||k||g.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[O,j]of g)this.g.setRequestHeader(O,j);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{aE(this),this.u=!0,this.g.send(c),this.u=!1}catch(O){rE(this,O)}};function rE(c,p){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=p,c.m=5,iE(c),Gc(c)}function iE(c){c.A||(c.A=!0,It(c,"complete"),It(c,"error"))}t.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,It(this,"complete"),It(this,"abort"),Gc(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Gc(this,!0)),Ue.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?sE(this):this.bb())},t.bb=function(){sE(this)};function sE(c){if(c.h&&typeof a<"u"&&(!c.v[1]||hr(c)!=4||c.Z()!=2)){if(c.u&&hr(c)==4)Rv(c.Ea,0,c);else if(It(c,"readystatechange"),hr(c)==4){c.h=!1;try{const j=c.Z();e:switch(j){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var p=!0;break e;default:p=!1}var g;if(!(g=p)){var T;if(T=j===0){var k=String(c.D).match(Qv)[1]||null;!k&&o.self&&o.self.location&&(k=o.self.location.protocol.slice(0,-1)),T=!tI.test(k?k.toLowerCase():"")}g=T}if(g)It(c,"complete"),It(c,"success");else{c.m=6;try{var O=2<hr(c)?c.g.statusText:""}catch{O=""}c.l=O+" ["+c.Z()+"]",iE(c)}}finally{Gc(c)}}}}function Gc(c,p){if(c.g){aE(c);const g=c.g,T=c.v[0]?()=>{}:null;c.g=null,c.v=null,p||It(c,"ready");try{g.onreadystatechange=T}catch{}}}function aE(c){c.I&&(o.clearTimeout(c.I),c.I=null)}t.isActive=function(){return!!this.g};function hr(c){return c.g?c.g.readyState:0}t.Z=function(){try{return 2<hr(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(c){if(this.g){var p=this.g.responseText;return c&&p.indexOf(c)==0&&(p=p.substring(c.length)),VC(p)}};function oE(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function rI(c){const p={};c=(c.g&&2<=hr(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<c.length;T++){if(b(c[T]))continue;var g=P(c[T]);const k=g[0];if(g=g[1],typeof g!="string")continue;g=g.trim();const O=p[k]||[];p[k]=O,O.push(g)}A(p,function(T){return T.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ao(c,p,g){return g&&g.internalChannelParams&&g.internalChannelParams[c]||p}function lE(c){this.Aa=0,this.i=[],this.j=new vo,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ao("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ao("baseRetryDelayMs",5e3,c),this.cb=Ao("retryDelaySeedMs",1e4,c),this.Wa=Ao("forwardChannelMaxRetries",2,c),this.wa=Ao("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new qv(c&&c.concurrentRequestLimit),this.Da=new JC,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=lE.prototype,t.la=8,t.G=1,t.connect=function(c,p,g,T){Dt(0),this.W=c,this.H=p||{},g&&T!==void 0&&(this.H.OSID=g,this.H.OAID=T),this.F=this.X,this.I=yE(this,null,this.W),Kc(this)};function bd(c){if(cE(c),c.G==3){var p=c.U++,g=ur(c.I);if(Re(g,"SID",c.K),Re(g,"RID",p),Re(g,"TYPE","terminate"),So(c,g),p=new Hr(c,c.j,p),p.L=2,p.v=Fc(ur(g)),g=!1,o.navigator&&o.navigator.sendBeacon)try{g=o.navigator.sendBeacon(p.v.toString(),"")}catch{}!g&&o.Image&&(new Image().src=p.v,g=!0),g||(p.g=vE(p.j,null),p.g.ea(p.v)),p.F=Date.now(),Bc(p)}gE(c)}function $c(c){c.g&&(Td(c),c.g.cancel(),c.g=null)}function cE(c){$c(c),c.u&&(o.clearTimeout(c.u),c.u=null),Yc(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&o.clearTimeout(c.s),c.s=null)}function Kc(c){if(!Hv(c.h)&&!c.s){c.s=!0;var p=c.Ga;G||_e(),$||(G(),$=!0),fe.add(p,c),c.B=0}}function iI(c,p){return Gv(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=p.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=yo(d(c.Ga,c,p),pE(c,c.B)),c.B++,!0)}t.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const k=new Hr(this,this.j,c);let O=this.o;if(this.S&&(O?(O=w(O),C(O,this.S)):O=this.S),this.m!==null||this.O||(k.H=O,O=null),this.P)e:{for(var p=0,g=0;g<this.i.length;g++){t:{var T=this.i[g];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break t}T=void 0}if(T===void 0)break;if(p+=T,4096<p){p=g;break e}if(p===4096||g===this.i.length-1){p=g+1;break e}}p=1e3}else p=1e3;p=hE(this,k,p),g=ur(this.I),Re(g,"RID",c),Re(g,"CVER",22),this.D&&Re(g,"X-HTTP-Session-Id",this.D),So(this,g),O&&(this.O?p="headers="+encodeURIComponent(String(nE(O)))+"&"+p:this.m&&_d(g,this.m,O)),Ed(this.h,k),this.Ua&&Re(g,"TYPE","init"),this.P?(Re(g,"$req",p),Re(g,"SID","null"),k.T=!0,pd(k,g,null)):pd(k,g,p),this.G=2}}else this.G==3&&(c?uE(this,c):this.i.length==0||Hv(this.h)||uE(this))};function uE(c,p){var g;p?g=p.l:g=c.U++;const T=ur(c.I);Re(T,"SID",c.K),Re(T,"RID",g),Re(T,"AID",c.T),So(c,T),c.m&&c.o&&_d(T,c.m,c.o),g=new Hr(c,c.j,g,c.B+1),c.m===null&&(g.H=c.o),p&&(c.i=p.D.concat(c.i)),p=hE(c,g,1e3),g.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Ed(c.h,g),pd(g,T,p)}function So(c,p){c.H&&L(c.H,function(g,T){Re(p,T,g)}),c.l&&Yv({},function(g,T){Re(p,T,g)})}function hE(c,p,g){g=Math.min(c.i.length,g);var T=c.l?d(c.l.Na,c.l,c):null;e:{var k=c.i;let O=-1;for(;;){const j=["count="+g];O==-1?0<g?(O=k[0].g,j.push("ofs="+O)):O=0:j.push("ofs="+O);let Te=!0;for(let ht=0;ht<g;ht++){let de=k[ht].g;const _t=k[ht].map;if(de-=O,0>de)O=Math.max(0,k[ht].g-100),Te=!1;else try{eI(_t,j,"req"+de+"_")}catch{T&&T(_t)}}if(Te){T=j.join("&");break e}}}return c=c.i.splice(0,g),p.D=c,T}function fE(c){if(!c.g&&!c.u){c.Y=1;var p=c.Fa;G||_e(),$||(G(),$=!0),fe.add(p,c),c.v=0}}function wd(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=yo(d(c.Fa,c),pE(c,c.v)),c.v++,!0)}t.Fa=function(){if(this.u=null,dE(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=yo(d(this.ab,this),c)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Dt(10),$c(this),dE(this))};function Td(c){c.A!=null&&(o.clearTimeout(c.A),c.A=null)}function dE(c){c.g=new Hr(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var p=ur(c.qa);Re(p,"RID","rpc"),Re(p,"SID",c.K),Re(p,"AID",c.T),Re(p,"CI",c.F?"0":"1"),!c.F&&c.ja&&Re(p,"TO",c.ja),Re(p,"TYPE","xmlhttp"),So(c,p),c.m&&c.o&&_d(p,c.m,c.o),c.L&&(c.g.I=c.L);var g=c.g;c=c.ia,g.L=1,g.v=Fc(ur(p)),g.m=null,g.P=!0,zv(g,c)}t.Za=function(){this.C!=null&&(this.C=null,$c(this),wd(this),Dt(19))};function Yc(c){c.C!=null&&(o.clearTimeout(c.C),c.C=null)}function mE(c,p){var g=null;if(c.g==p){Yc(c),Td(c),c.g=null;var T=2}else if(vd(c.h,p))g=p.D,$v(c.h,p),T=1;else return;if(c.G!=0){if(p.o)if(T==1){g=p.m?p.m.length:0,p=Date.now()-p.F;var k=c.B;T=Oc(),It(T,new Ov(T,g)),Kc(c)}else fE(c);else if(k=p.s,k==3||k==0&&0<p.X||!(T==1&&iI(c,p)||T==2&&wd(c)))switch(g&&0<g.length&&(p=c.h,p.i=p.i.concat(g)),k){case 1:Ki(c,5);break;case 4:Ki(c,10);break;case 3:Ki(c,6);break;default:Ki(c,2)}}}function pE(c,p){let g=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(g*=2),g*p}function Ki(c,p){if(c.j.info("Error code "+p),p==2){var g=d(c.fb,c),T=c.Xa;const k=!T;T=new $i(T||"//www.google.com/images/cleardot.gif"),o.location&&o.location.protocol=="http"||zc(T,"https"),Fc(T),k?WC(T.toString(),g):ZC(T.toString(),g)}else Dt(2);c.G=0,c.l&&c.l.sa(p),gE(c),cE(c)}t.fb=function(c){c?(this.j.info("Successfully pinged google.com"),Dt(2)):(this.j.info("Failed to ping google.com"),Dt(1))};function gE(c){if(c.G=0,c.ka=[],c.l){const p=Kv(c.h);(p.length!=0||c.i.length!=0)&&(S(c.ka,p),S(c.ka,c.i),c.h.i.length=0,_(c.i),c.i.length=0),c.l.ra()}}function yE(c,p,g){var T=g instanceof $i?ur(g):new $i(g);if(T.g!="")p&&(T.g=p+"."+T.g),jc(T,T.s);else{var k=o.location;T=k.protocol,p=p?p+"."+k.hostname:k.hostname,k=+k.port;var O=new $i(null);T&&zc(O,T),p&&(O.g=p),k&&jc(O,k),g&&(O.l=g),T=O}return g=c.D,p=c.ya,g&&p&&Re(T,g,p),Re(T,"VER",c.la),So(c,T),T}function vE(c,p,g){if(p&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return p=c.Ca&&!c.pa?new Ue(new qc({eb:g})):new Ue(c.pa),p.Ha(c.J),p}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function EE(){}t=EE.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Qc(){}Qc.prototype.g=function(c,p){return new Qt(c,p)};function Qt(c,p){Et.call(this),this.g=new lE(p),this.l=c,this.h=p&&p.messageUrlParams||null,c=p&&p.messageHeaders||null,p&&p.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=p&&p.initMessageHeaders||null,p&&p.messageContentType&&(c?c["X-WebChannel-Content-Type"]=p.messageContentType:c={"X-WebChannel-Content-Type":p.messageContentType}),p&&p.va&&(c?c["X-WebChannel-Client-Profile"]=p.va:c={"X-WebChannel-Client-Profile":p.va}),this.g.S=c,(c=p&&p.Sb)&&!b(c)&&(this.g.m=c),this.v=p&&p.supportsCrossDomainXhr||!1,this.u=p&&p.sendRawJson||!1,(p=p&&p.httpSessionIdParam)&&!b(p)&&(this.g.D=p,c=this.h,c!==null&&p in c&&(c=this.h,p in c&&delete c[p])),this.j=new Us(this)}x(Qt,Et),Qt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Qt.prototype.close=function(){bd(this.g)},Qt.prototype.o=function(c){var p=this.g;if(typeof c=="string"){var g={};g.__data__=c,c=g}else this.u&&(g={},g.__data__=cd(c),c=g);p.i.push(new jC(p.Ya++,c)),p.G==3&&Kc(p)},Qt.prototype.N=function(){this.g.l=null,delete this.j,bd(this.g),delete this.g,Qt.aa.N.call(this)};function _E(c){hd.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var p=c.__sm__;if(p){e:{for(const g in p){c=g;break e}c=void 0}(this.i=c)&&(c=this.i,p=p!==null&&c in p?p[c]:void 0),this.data=p}else this.data=c}x(_E,hd);function bE(){fd.call(this),this.status=1}x(bE,fd);function Us(c){this.g=c}x(Us,EE),Us.prototype.ua=function(){It(this.g,"a")},Us.prototype.ta=function(c){It(this.g,new _E(c))},Us.prototype.sa=function(c){It(this.g,new bE)},Us.prototype.ra=function(){It(this.g,"b")},Qc.prototype.createWebChannel=Qc.prototype.g,Qt.prototype.send=Qt.prototype.o,Qt.prototype.open=Qt.prototype.m,Qt.prototype.close=Qt.prototype.close,f2=function(){return new Qc},h2=function(){return Oc()},u2=Hi,Kp={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Lc.NO_ERROR=0,Lc.TIMEOUT=8,Lc.HTTP_ERROR=6,Fu=Lc,Lv.COMPLETE="complete",c2=Lv,Pv.EventType=po,po.OPEN="a",po.CLOSE="b",po.ERROR="c",po.MESSAGE="d",Et.prototype.listen=Et.prototype.K,qo=Pv,Ue.prototype.listenOnce=Ue.prototype.L,Ue.prototype.getLastError=Ue.prototype.Ka,Ue.prototype.getLastErrorCode=Ue.prototype.Ba,Ue.prototype.getStatus=Ue.prototype.Z,Ue.prototype.getResponseJson=Ue.prototype.Oa,Ue.prototype.getResponseText=Ue.prototype.oa,Ue.prototype.send=Ue.prototype.ea,Ue.prototype.setWithCredentials=Ue.prototype.Ha,l2=Ue}).apply(typeof mu<"u"?mu:typeof self<"u"?self:typeof window<"u"?window:{});const Pb="@firebase/firestore",Mb="4.9.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Tt.UNAUTHENTICATED=new Tt(null),Tt.GOOGLE_CREDENTIALS=new Tt("google-credentials-uid"),Tt.FIRST_PARTY=new Tt("first-party-uid"),Tt.MOCK_USER=new Tt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let so="12.2.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const As=new $y("@firebase/firestore");function $s(){return As.logLevel}function H(t,...e){if(As.logLevel<=oe.DEBUG){const n=e.map(r0);As.debug(`Firestore (${so}): ${t}`,...n)}}function kr(t,...e){if(As.logLevel<=oe.ERROR){const n=e.map(r0);As.error(`Firestore (${so}): ${t}`,...n)}}function za(t,...e){if(As.logLevel<=oe.WARN){const n=e.map(r0);As.warn(`Firestore (${so}): ${t}`,...n)}}function r0(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,d2(t,r,n)}function d2(t,e,n){let r=`FIRESTORE (${so}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw kr(r),new Error(r)}function ye(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||d2(e,i,r)}function ee(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class F extends or{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m2{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class B3{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Tt.UNAUTHENTICATED))}shutdown(){}}class z3{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class j3{constructor(e){this.t=e,this.currentUser=Tt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){ye(this.o===void 0,42304);let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new Rr;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Rr,e.enqueueRetryable(()=>i(this.currentUser))};const a=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},o=l=>{H("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit(l=>o(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?o(l):(H("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Rr)}},0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(H("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ye(typeof r.accessToken=="string",31837,{l:r}),new m2(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ye(e===null||typeof e=="string",2055,{h:e}),new Tt(e)}}class F3{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Tt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class q3{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new F3(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(Tt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Vb{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class H3{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,tn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){ye(this.o===void 0,3512);const r=s=>{s.error!=null&&H("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const a=s.token!==this.m;return this.m=s.token,H("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{H("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.V.getImmediate({optional:!0});s?i(s):H("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Vb(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(ye(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Vb(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G3(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i0{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=G3(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%62))}return r}}function le(t,e){return t<e?-1:t>e?1:0}function Yp(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const i=t.charAt(r),s=e.charAt(r);if(i!==s)return pm(i)===pm(s)?le(i,s):pm(i)?1:-1}return le(t.length,e.length)}const $3=55296,K3=57343;function pm(t){const e=t.charCodeAt(0);return e>=$3&&e<=K3}function ja(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kb="__name__";class zn{constructor(e,n,r){n===void 0?n=0:n>e.length&&Q(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Q(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return zn.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof zn?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=zn.compareSegments(e.get(i),n.get(i));if(s!==0)return s}return le(e.length,n.length)}static compareSegments(e,n){const r=zn.isNumericId(e),i=zn.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?zn.extractNumericId(e).compare(zn.extractNumericId(n)):Yp(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ti.fromString(e.substring(4,e.length-2))}}class Ae extends zn{construct(e,n,r){return new Ae(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new F(U.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Ae(n)}static emptyPath(){return new Ae([])}}const Y3=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class gt extends zn{construct(e,n,r){return new gt(e,n,r)}static isValidIdentifier(e){return Y3.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),gt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===kb}static keyField(){return new gt([kb])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new F(U.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let a=!1;for(;i<e.length;){const o=e[i];if(o==="\\"){if(i+1===e.length)throw new F(U.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new F(U.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else o==="`"?(a=!a,i++):o!=="."||a?(r+=o,i++):(s(),i++)}if(s(),a)throw new F(U.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new gt(n)}static emptyPath(){return new gt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K{constructor(e){this.path=e}static fromPath(e){return new K(Ae.fromString(e))}static fromName(e){return new K(Ae.fromString(e).popFirst(5))}static empty(){return new K(Ae.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ae.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ae.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new K(new Ae(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p2(t,e,n){if(!n)throw new F(U.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function Q3(t,e,n,r){if(e===!0&&r===!0)throw new F(U.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Ob(t){if(!K.isDocumentKey(t))throw new F(U.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Lb(t){if(K.isDocumentKey(t))throw new F(U.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function g2(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function If(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Q(12329,{type:typeof t})}function Gt(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new F(U.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=If(t);throw new F(U.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Je(t,e){const n={typeString:t};return e&&(n.value=e),n}function wc(t,e){if(!g2(t))throw new F(U.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const i=e[r].typeString,s="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const a=t[r];if(i&&typeof a!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(s!==void 0&&a!==s.value){n=`Expected '${r}' field to equal '${s.value}'`;break}}if(n)throw new F(U.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ub=-62135596800,Bb=1e6;class Ne{static now(){return Ne.fromMillis(Date.now())}static fromDate(e){return Ne.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*Bb);return new Ne(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new F(U.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new F(U.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<Ub)throw new F(U.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new F(U.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Bb}_compareTo(e){return this.seconds===e.seconds?le(this.nanoseconds,e.nanoseconds):le(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Ne._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(wc(e,Ne._jsonSchema))return new Ne(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Ub;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Ne._jsonSchemaVersion="firestore/timestamp/1.0",Ne._jsonSchema={type:Je("string",Ne._jsonSchemaVersion),seconds:Je("number"),nanoseconds:Je("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J{static fromTimestamp(e){return new J(e)}static min(){return new J(new Ne(0,0))}static max(){return new J(new Ne(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ll=-1;function X3(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=J.fromTimestamp(r===1e9?new Ne(n+1,0):new Ne(n,r));return new Ci(i,K.empty(),e)}function W3(t){return new Ci(t.readTime,t.key,Ll)}class Ci{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Ci(J.min(),K.empty(),Ll)}static max(){return new Ci(J.max(),K.empty(),Ll)}}function Z3(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=K.comparator(t.documentKey,e.documentKey),n!==0?n:le(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J3="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class e5{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ao(t){if(t.code!==U.FAILED_PRECONDITION||t.message!==J3)throw t;H("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Q(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new B((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof B?n:B.resolve(n)}catch(n){return B.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):B.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):B.reject(n)}static resolve(e){return new B((n,r)=>{n(e)})}static reject(e){return new B((n,r)=>{r(e)})}static waitFor(e){return new B((n,r)=>{let i=0,s=0,a=!1;e.forEach(o=>{++i,o.next(()=>{++s,a&&s===i&&n()},l=>r(l))}),a=!0,s===i&&n()})}static or(e){let n=B.resolve(!1);for(const r of e)n=n.next(i=>i?B.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new B((r,i)=>{const s=e.length,a=new Array(s);let o=0;for(let l=0;l<s;l++){const u=l;n(e[u]).next(f=>{a[u]=f,++o,o===s&&r(a)},f=>i(f))}})}static doWhile(e,n){return new B((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function t5(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function oo(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Df{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Df.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s0=-1;function Pf(t){return t==null}function zh(t){return t===0&&1/t==-1/0}function n5(t){return typeof t=="number"&&Number.isInteger(t)&&!zh(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y2="";function r5(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=zb(e)),e=i5(t.get(n),e);return zb(e)}function i5(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const s=t.charAt(i);switch(s){case"\0":n+="";break;case y2:n+="";break;default:n+=s}}return n}function zb(t){return t+y2+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jb(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function zi(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function v2(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Le{constructor(e,n){this.comparator=e,this.root=n||mt.EMPTY}insert(e,n){return new Le(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,mt.BLACK,null,null))}remove(e){return new Le(this.comparator,this.root.remove(e,this.comparator).copy(null,null,mt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new pu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new pu(this.root,e,this.comparator,!1)}getReverseIterator(){return new pu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new pu(this.root,e,this.comparator,!0)}}class pu{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class mt{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??mt.RED,this.left=i??mt.EMPTY,this.right=s??mt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new mt(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return mt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return mt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,mt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,mt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Q(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Q(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Q(27949);return e+(this.isRed()?0:1)}}mt.EMPTY=null,mt.RED=!0,mt.BLACK=!1;mt.EMPTY=new class{constructor(){this.size=0}get key(){throw Q(57766)}get value(){throw Q(16141)}get color(){throw Q(16727)}get left(){throw Q(29726)}get right(){throw Q(36894)}copy(e,n,r,i,s){return this}insert(e,n,r){return new mt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class it{constructor(e){this.comparator=e,this.data=new Le(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Fb(this.data.getIterator())}getIteratorFrom(e){return new Fb(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof it)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new it(this.comparator);return n.data=e,n}}class Fb{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nn{constructor(e){this.fields=e,e.sort(gt.comparator)}static empty(){return new nn([])}unionWith(e){let n=new it(gt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new nn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return ja(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E2 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new E2("Invalid base64 string: "+s):s}}(e);return new vt(n)}static fromUint8Array(e){const n=function(i){let s="";for(let a=0;a<i.length;++a)s+=String.fromCharCode(i[a]);return s}(e);return new vt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return le(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}vt.EMPTY_BYTE_STRING=new vt("");const s5=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ii(t){if(ye(!!t,39018),typeof t=="string"){let e=0;const n=s5.exec(t);if(ye(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:$e(t.seconds),nanos:$e(t.nanos)}}function $e(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Di(t){return typeof t=="string"?vt.fromBase64String(t):vt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _2="server_timestamp",b2="__type__",w2="__previous_value__",T2="__local_write_time__";function a0(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[b2])==null?void 0:r.stringValue)===_2}function Mf(t){const e=t.mapValue.fields[w2];return a0(e)?Mf(e):e}function Ul(t){const e=Ii(t.mapValue.fields[T2].timestampValue);return new Ne(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a5{constructor(e,n,r,i,s,a,o,l,u,f){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=a,this.autoDetectLongPolling=o,this.longPollingOptions=l,this.useFetchStreams=u,this.isUsingEmulator=f}}const jh="(default)";class Bl{constructor(e,n){this.projectId=e,this.database=n||jh}static empty(){return new Bl("","")}get isDefaultDatabase(){return this.database===jh}isEqual(e){return e instanceof Bl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x2="__type__",o5="__max__",gu={mapValue:{}},A2="__vector__",Fh="value";function Pi(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?a0(t)?4:c5(t)?9007199254740991:l5(t)?10:11:Q(28295,{value:t})}function nr(t,e){if(t===e)return!0;const n=Pi(t);if(n!==Pi(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Ul(t).isEqual(Ul(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const a=Ii(i.timestampValue),o=Ii(s.timestampValue);return a.seconds===o.seconds&&a.nanos===o.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return Di(i.bytesValue).isEqual(Di(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return $e(i.geoPointValue.latitude)===$e(s.geoPointValue.latitude)&&$e(i.geoPointValue.longitude)===$e(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return $e(i.integerValue)===$e(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const a=$e(i.doubleValue),o=$e(s.doubleValue);return a===o?zh(a)===zh(o):isNaN(a)&&isNaN(o)}return!1}(t,e);case 9:return ja(t.arrayValue.values||[],e.arrayValue.values||[],nr);case 10:case 11:return function(i,s){const a=i.mapValue.fields||{},o=s.mapValue.fields||{};if(jb(a)!==jb(o))return!1;for(const l in a)if(a.hasOwnProperty(l)&&(o[l]===void 0||!nr(a[l],o[l])))return!1;return!0}(t,e);default:return Q(52216,{left:t})}}function zl(t,e){return(t.values||[]).find(n=>nr(n,e))!==void 0}function Fa(t,e){if(t===e)return 0;const n=Pi(t),r=Pi(e);if(n!==r)return le(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return le(t.booleanValue,e.booleanValue);case 2:return function(s,a){const o=$e(s.integerValue||s.doubleValue),l=$e(a.integerValue||a.doubleValue);return o<l?-1:o>l?1:o===l?0:isNaN(o)?isNaN(l)?0:-1:1}(t,e);case 3:return qb(t.timestampValue,e.timestampValue);case 4:return qb(Ul(t),Ul(e));case 5:return Yp(t.stringValue,e.stringValue);case 6:return function(s,a){const o=Di(s),l=Di(a);return o.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(s,a){const o=s.split("/"),l=a.split("/");for(let u=0;u<o.length&&u<l.length;u++){const f=le(o[u],l[u]);if(f!==0)return f}return le(o.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,a){const o=le($e(s.latitude),$e(a.latitude));return o!==0?o:le($e(s.longitude),$e(a.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return Hb(t.arrayValue,e.arrayValue);case 10:return function(s,a){var d,y,x,_;const o=s.fields||{},l=a.fields||{},u=(d=o[Fh])==null?void 0:d.arrayValue,f=(y=l[Fh])==null?void 0:y.arrayValue,m=le(((x=u==null?void 0:u.values)==null?void 0:x.length)||0,((_=f==null?void 0:f.values)==null?void 0:_.length)||0);return m!==0?m:Hb(u,f)}(t.mapValue,e.mapValue);case 11:return function(s,a){if(s===gu.mapValue&&a===gu.mapValue)return 0;if(s===gu.mapValue)return 1;if(a===gu.mapValue)return-1;const o=s.fields||{},l=Object.keys(o),u=a.fields||{},f=Object.keys(u);l.sort(),f.sort();for(let m=0;m<l.length&&m<f.length;++m){const d=Yp(l[m],f[m]);if(d!==0)return d;const y=Fa(o[l[m]],u[f[m]]);if(y!==0)return y}return le(l.length,f.length)}(t.mapValue,e.mapValue);default:throw Q(23264,{he:n})}}function qb(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return le(t,e);const n=Ii(t),r=Ii(e),i=le(n.seconds,r.seconds);return i!==0?i:le(n.nanos,r.nanos)}function Hb(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=Fa(n[i],r[i]);if(s)return s}return le(n.length,r.length)}function qa(t){return Qp(t)}function Qp(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Ii(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Di(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return K.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=Qp(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const a of r)s?s=!1:i+=",",i+=`${a}:${Qp(n.fields[a])}`;return i+"}"}(t.mapValue):Q(61005,{value:t})}function qu(t){switch(Pi(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Mf(t);return e?16+qu(e):16;case 5:return 2*t.stringValue.length;case 6:return Di(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,s)=>i+qu(s),0)}(t.arrayValue);case 10:case 11:return function(r){let i=0;return zi(r.fields,(s,a)=>{i+=s.length+qu(a)}),i}(t.mapValue);default:throw Q(13486,{value:t})}}function Gb(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Xp(t){return!!t&&"integerValue"in t}function o0(t){return!!t&&"arrayValue"in t}function $b(t){return!!t&&"nullValue"in t}function Kb(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Hu(t){return!!t&&"mapValue"in t}function l5(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[x2])==null?void 0:r.stringValue)===A2}function hl(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return zi(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=hl(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=hl(t.arrayValue.values[n]);return e}return{...t}}function c5(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===o5}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qt{constructor(e){this.value=e}static empty(){return new qt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Hu(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=hl(n)}setAll(e){let n=gt.emptyPath(),r={},i=[];e.forEach((a,o)=>{if(!n.isImmediateParentOf(o)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=o.popLast()}a?r[o.lastSegment()]=hl(a):i.push(o.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());Hu(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return nr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Hu(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){zi(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new qt(hl(this.value))}}function S2(t){const e=[];return zi(t.fields,(n,r)=>{const i=new gt([n]);if(Hu(r)){const s=S2(r.mapValue).fields;if(s.length===0)e.push(i);else for(const a of s)e.push(i.child(a))}else e.push(i)}),new nn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xt{constructor(e,n,r,i,s,a,o){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=a,this.documentState=o}static newInvalidDocument(e){return new xt(e,0,J.min(),J.min(),J.min(),qt.empty(),0)}static newFoundDocument(e,n,r,i){return new xt(e,1,n,J.min(),r,i,0)}static newNoDocument(e,n){return new xt(e,2,n,J.min(),J.min(),qt.empty(),0)}static newUnknownDocument(e,n){return new xt(e,3,n,J.min(),J.min(),qt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(J.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=qt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=qt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=J.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof xt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new xt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qh{constructor(e,n){this.position=e,this.inclusive=n}}function Yb(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],a=t.position[i];if(s.field.isKeyField()?r=K.comparator(K.fromName(a.referenceValue),n.key):r=Fa(a,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function Qb(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!nr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jl{constructor(e,n="asc"){this.field=e,this.dir=n}}function u5(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R2{}class Ze extends R2{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new f5(e,n,r):n==="array-contains"?new p5(e,r):n==="in"?new g5(e,r):n==="not-in"?new y5(e,r):n==="array-contains-any"?new v5(e,r):new Ze(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new d5(e,r):new m5(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Fa(n,this.value)):n!==null&&Pi(this.value)===Pi(n)&&this.matchesComparison(Fa(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Q(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Vn extends R2{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Vn(e,n)}matches(e){return N2(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function N2(t){return t.op==="and"}function C2(t){return h5(t)&&N2(t)}function h5(t){for(const e of t.filters)if(e instanceof Vn)return!1;return!0}function Wp(t){if(t instanceof Ze)return t.field.canonicalString()+t.op.toString()+qa(t.value);if(C2(t))return t.filters.map(e=>Wp(e)).join(",");{const e=t.filters.map(n=>Wp(n)).join(",");return`${t.op}(${e})`}}function I2(t,e){return t instanceof Ze?function(r,i){return i instanceof Ze&&r.op===i.op&&r.field.isEqual(i.field)&&nr(r.value,i.value)}(t,e):t instanceof Vn?function(r,i){return i instanceof Vn&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,a,o)=>s&&I2(a,i.filters[o]),!0):!1}(t,e):void Q(19439)}function D2(t){return t instanceof Ze?function(n){return`${n.field.canonicalString()} ${n.op} ${qa(n.value)}`}(t):t instanceof Vn?function(n){return n.op.toString()+" {"+n.getFilters().map(D2).join(" ,")+"}"}(t):"Filter"}class f5 extends Ze{constructor(e,n,r){super(e,n,r),this.key=K.fromName(r.referenceValue)}matches(e){const n=K.comparator(e.key,this.key);return this.matchesComparison(n)}}class d5 extends Ze{constructor(e,n){super(e,"in",n),this.keys=P2("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class m5 extends Ze{constructor(e,n){super(e,"not-in",n),this.keys=P2("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function P2(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map(r=>K.fromName(r.referenceValue))}class p5 extends Ze{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return o0(n)&&zl(n.arrayValue,this.value)}}class g5 extends Ze{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&zl(this.value.arrayValue,n)}}class y5 extends Ze{constructor(e,n){super(e,"not-in",n)}matches(e){if(zl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!zl(this.value.arrayValue,n)}}class v5 extends Ze{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!o0(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>zl(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E5{constructor(e,n=null,r=[],i=[],s=null,a=null,o=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=a,this.endAt=o,this.Te=null}}function Xb(t,e=null,n=[],r=[],i=null,s=null,a=null){return new E5(t,e,n,r,i,s,a)}function l0(t){const e=ee(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Wp(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),Pf(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>qa(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>qa(r)).join(",")),e.Te=n}return e.Te}function c0(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!u5(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!I2(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Qb(t.startAt,e.startAt)&&Qb(t.endAt,e.endAt)}function Zp(t){return K.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lo{constructor(e,n=null,r=[],i=[],s=null,a="F",o=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=a,this.startAt=o,this.endAt=l,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function _5(t,e,n,r,i,s,a,o){return new lo(t,e,n,r,i,s,a,o)}function Vf(t){return new lo(t)}function Wb(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function M2(t){return t.collectionGroup!==null}function fl(t){const e=ee(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const s of e.explicitOrderBy)e.Ie.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(a){let o=new it(gt.comparator);return a.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(o=o.add(u.field))})}),o})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.Ie.push(new jl(s,r))}),n.has(gt.keyField().canonicalString())||e.Ie.push(new jl(gt.keyField(),r))}return e.Ie}function Qn(t){const e=ee(t);return e.Ee||(e.Ee=b5(e,fl(t))),e.Ee}function b5(t,e){if(t.limitType==="F")return Xb(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new jl(i.field,s)});const n=t.endAt?new qh(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new qh(t.startAt.position,t.startAt.inclusive):null;return Xb(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Jp(t,e){const n=t.filters.concat([e]);return new lo(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function eg(t,e,n){return new lo(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function kf(t,e){return c0(Qn(t),Qn(e))&&t.limitType===e.limitType}function V2(t){return`${l0(Qn(t))}|lt:${t.limitType}`}function Ks(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>D2(i)).join(", ")}]`),Pf(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(a){return`${a.field.canonicalString()} (${a.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>qa(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>qa(i)).join(",")),`Target(${r})`}(Qn(t))}; limitType=${t.limitType})`}function Of(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):K.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of fl(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(a,o,l){const u=Yb(a,o,l);return a.inclusive?u<=0:u<0}(r.startAt,fl(r),i)||r.endAt&&!function(a,o,l){const u=Yb(a,o,l);return a.inclusive?u>=0:u>0}(r.endAt,fl(r),i))}(t,e)}function w5(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function k2(t){return(e,n)=>{let r=!1;for(const i of fl(t)){const s=T5(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function T5(t,e,n){const r=t.field.isKeyField()?K.comparator(e.key,n.key):function(s,a,o){const l=a.data.field(s),u=o.data.field(s);return l!==null&&u!==null?Fa(l,u):Q(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Q(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vs{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){zi(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return v2(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x5=new Le(K.comparator);function Or(){return x5}const O2=new Le(K.comparator);function Ho(...t){let e=O2;for(const n of t)e=e.insert(n.key,n);return e}function L2(t){let e=O2;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function ts(){return dl()}function U2(){return dl()}function dl(){return new Vs(t=>t.toString(),(t,e)=>t.isEqual(e))}const A5=new Le(K.comparator),S5=new it(K.comparator);function ce(...t){let e=S5;for(const n of t)e=e.add(n);return e}const R5=new it(le);function N5(){return R5}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u0(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:zh(e)?"-0":e}}function B2(t){return{integerValue:""+t}}function C5(t,e){return n5(e)?B2(e):u0(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lf{constructor(){this._=void 0}}function I5(t,e,n){return t instanceof Fl?function(i,s){const a={fields:{[b2]:{stringValue:_2},[T2]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&a0(s)&&(s=Mf(s)),s&&(a.fields[w2]=s),{mapValue:a}}(n,e):t instanceof ql?j2(t,e):t instanceof Hl?F2(t,e):function(i,s){const a=z2(i,s),o=Zb(a)+Zb(i.Ae);return Xp(a)&&Xp(i.Ae)?B2(o):u0(i.serializer,o)}(t,e)}function D5(t,e,n){return t instanceof ql?j2(t,e):t instanceof Hl?F2(t,e):n}function z2(t,e){return t instanceof Hh?function(r){return Xp(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class Fl extends Lf{}class ql extends Lf{constructor(e){super(),this.elements=e}}function j2(t,e){const n=q2(e);for(const r of t.elements)n.some(i=>nr(i,r))||n.push(r);return{arrayValue:{values:n}}}class Hl extends Lf{constructor(e){super(),this.elements=e}}function F2(t,e){let n=q2(e);for(const r of t.elements)n=n.filter(i=>!nr(i,r));return{arrayValue:{values:n}}}class Hh extends Lf{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function Zb(t){return $e(t.integerValue||t.doubleValue)}function q2(t){return o0(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P5{constructor(e,n){this.field=e,this.transform=n}}function M5(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof ql&&i instanceof ql||r instanceof Hl&&i instanceof Hl?ja(r.elements,i.elements,nr):r instanceof Hh&&i instanceof Hh?nr(r.Ae,i.Ae):r instanceof Fl&&i instanceof Fl}(t.transform,e.transform)}class V5{constructor(e,n){this.version=e,this.transformResults=n}}class _n{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new _n}static exists(e){return new _n(void 0,e)}static updateTime(e){return new _n(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Gu(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Uf{}function H2(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new h0(t.key,_n.none()):new Tc(t.key,t.data,_n.none());{const n=t.data,r=qt.empty();let i=new it(gt.comparator);for(let s of e.fields)if(!i.has(s)){let a=n.field(s);a===null&&s.length>1&&(s=s.popLast(),a=n.field(s)),a===null?r.delete(s):r.set(s,a),i=i.add(s)}return new ji(t.key,r,new nn(i.toArray()),_n.none())}}function k5(t,e,n){t instanceof Tc?function(i,s,a){const o=i.value.clone(),l=e1(i.fieldTransforms,s,a.transformResults);o.setAll(l),s.convertToFoundDocument(a.version,o).setHasCommittedMutations()}(t,e,n):t instanceof ji?function(i,s,a){if(!Gu(i.precondition,s))return void s.convertToUnknownDocument(a.version);const o=e1(i.fieldTransforms,s,a.transformResults),l=s.data;l.setAll(G2(i)),l.setAll(o),s.convertToFoundDocument(a.version,l).setHasCommittedMutations()}(t,e,n):function(i,s,a){s.convertToNoDocument(a.version).setHasCommittedMutations()}(0,e,n)}function ml(t,e,n,r){return t instanceof Tc?function(s,a,o,l){if(!Gu(s.precondition,a))return o;const u=s.value.clone(),f=t1(s.fieldTransforms,l,a);return u.setAll(f),a.convertToFoundDocument(a.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof ji?function(s,a,o,l){if(!Gu(s.precondition,a))return o;const u=t1(s.fieldTransforms,l,a),f=a.data;return f.setAll(G2(s)),f.setAll(u),a.convertToFoundDocument(a.version,f).setHasLocalMutations(),o===null?null:o.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(m=>m.field))}(t,e,n,r):function(s,a,o){return Gu(s.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):o}(t,e,n)}function O5(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=z2(r.transform,i||null);s!=null&&(n===null&&(n=qt.empty()),n.set(r.field,s))}return n||null}function Jb(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&ja(r,i,(s,a)=>M5(s,a))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Tc extends Uf{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class ji extends Uf{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function G2(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function e1(t,e,n){const r=new Map;ye(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let i=0;i<n.length;i++){const s=t[i],a=s.transform,o=e.data.field(s.field);r.set(s.field,D5(a,o,n[i]))}return r}function t1(t,e,n){const r=new Map;for(const i of t){const s=i.transform,a=n.data.field(i.field);r.set(i.field,I5(s,a,e))}return r}class h0 extends Uf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class L5 extends Uf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U5{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&k5(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=ml(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=ml(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=U2();return this.mutations.forEach(i=>{const s=e.get(i.key),a=s.overlayedDocument;let o=this.applyToLocalView(a,s.mutatedFields);o=n.has(i.key)?null:o;const l=H2(a,o);l!==null&&r.set(i.key,l),a.isValidDocument()||a.convertToNoDocument(J.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ce())}isEqual(e){return this.batchId===e.batchId&&ja(this.mutations,e.mutations,(n,r)=>Jb(n,r))&&ja(this.baseMutations,e.baseMutations,(n,r)=>Jb(n,r))}}class f0{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){ye(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let i=function(){return A5}();const s=e.mutations;for(let a=0;a<s.length;a++)i=i.insert(s[a].key,r[a].version);return new f0(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B5{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z5{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Qe,ue;function j5(t){switch(t){case U.OK:return Q(64938);case U.CANCELLED:case U.UNKNOWN:case U.DEADLINE_EXCEEDED:case U.RESOURCE_EXHAUSTED:case U.INTERNAL:case U.UNAVAILABLE:case U.UNAUTHENTICATED:return!1;case U.INVALID_ARGUMENT:case U.NOT_FOUND:case U.ALREADY_EXISTS:case U.PERMISSION_DENIED:case U.FAILED_PRECONDITION:case U.ABORTED:case U.OUT_OF_RANGE:case U.UNIMPLEMENTED:case U.DATA_LOSS:return!0;default:return Q(15467,{code:t})}}function $2(t){if(t===void 0)return kr("GRPC error has no .code"),U.UNKNOWN;switch(t){case Qe.OK:return U.OK;case Qe.CANCELLED:return U.CANCELLED;case Qe.UNKNOWN:return U.UNKNOWN;case Qe.DEADLINE_EXCEEDED:return U.DEADLINE_EXCEEDED;case Qe.RESOURCE_EXHAUSTED:return U.RESOURCE_EXHAUSTED;case Qe.INTERNAL:return U.INTERNAL;case Qe.UNAVAILABLE:return U.UNAVAILABLE;case Qe.UNAUTHENTICATED:return U.UNAUTHENTICATED;case Qe.INVALID_ARGUMENT:return U.INVALID_ARGUMENT;case Qe.NOT_FOUND:return U.NOT_FOUND;case Qe.ALREADY_EXISTS:return U.ALREADY_EXISTS;case Qe.PERMISSION_DENIED:return U.PERMISSION_DENIED;case Qe.FAILED_PRECONDITION:return U.FAILED_PRECONDITION;case Qe.ABORTED:return U.ABORTED;case Qe.OUT_OF_RANGE:return U.OUT_OF_RANGE;case Qe.UNIMPLEMENTED:return U.UNIMPLEMENTED;case Qe.DATA_LOSS:return U.DATA_LOSS;default:return Q(39323,{code:t})}}(ue=Qe||(Qe={}))[ue.OK=0]="OK",ue[ue.CANCELLED=1]="CANCELLED",ue[ue.UNKNOWN=2]="UNKNOWN",ue[ue.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ue[ue.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ue[ue.NOT_FOUND=5]="NOT_FOUND",ue[ue.ALREADY_EXISTS=6]="ALREADY_EXISTS",ue[ue.PERMISSION_DENIED=7]="PERMISSION_DENIED",ue[ue.UNAUTHENTICATED=16]="UNAUTHENTICATED",ue[ue.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ue[ue.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ue[ue.ABORTED=10]="ABORTED",ue[ue.OUT_OF_RANGE=11]="OUT_OF_RANGE",ue[ue.UNIMPLEMENTED=12]="UNIMPLEMENTED",ue[ue.INTERNAL=13]="INTERNAL",ue[ue.UNAVAILABLE=14]="UNAVAILABLE",ue[ue.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F5(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q5=new Ti([4294967295,4294967295],0);function n1(t){const e=F5().encode(t),n=new o2;return n.update(e),new Uint8Array(n.digest())}function r1(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Ti([n,r],0),new Ti([i,s],0)]}class d0{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Go(`Invalid padding: ${n}`);if(r<0)throw new Go(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Go(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Go(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Ti.fromNumber(this.ge)}ye(e,n,r){let i=e.add(n.multiply(Ti.fromNumber(r)));return i.compare(q5)===1&&(i=new Ti([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=n1(e),[r,i]=r1(n);for(let s=0;s<this.hashCount;s++){const a=this.ye(r,i,s);if(!this.we(a))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),a=new d0(s,i,n);return r.forEach(o=>a.insert(o)),a}insert(e){if(this.ge===0)return;const n=n1(e),[r,i]=r1(n);for(let s=0;s<this.hashCount;s++){const a=this.ye(r,i,s);this.Se(a)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Go extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bf{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,xc.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Bf(J.min(),i,new Le(le),Or(),ce())}}class xc{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new xc(r,n,ce(),ce(),ce())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $u{constructor(e,n,r,i){this.be=e,this.removedTargetIds=n,this.key=r,this.De=i}}class K2{constructor(e,n){this.targetId=e,this.Ce=n}}class Y2{constructor(e,n,r=vt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class i1{constructor(){this.ve=0,this.Fe=s1(),this.Me=vt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=ce(),n=ce(),r=ce();return this.Fe.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Q(38017,{changeType:s})}}),new xc(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=s1()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,ye(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class H5{constructor(e){this.Ge=e,this.ze=new Map,this.je=Or(),this.Je=yu(),this.He=yu(),this.Ye=new Le(le)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:Q(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach((r,i)=>{this.rt(i)&&n(i)})}st(e){const n=e.targetId,r=e.Ce.count,i=this.ot(n);if(i){const s=i.target;if(Zp(s))if(r===0){const a=new K(s.path);this.et(n,a,xt.newNoDocument(a,J.min()))}else ye(r===1,20013,{expectedCount:r});else{const a=this._t(n);if(a!==r){const o=this.ut(e),l=o?this.ct(o,e,a):1;if(l!==0){this.it(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,u)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let a,o;try{a=Di(r).toUint8Array()}catch(l){if(l instanceof E2)return za("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{o=new d0(a,i,s)}catch(l){return za(l instanceof Go?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return o.ge===0?null:o}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const a=this.Ge.ht(),o=`projects/${a.projectId}/databases/${a.database}/documents/${s.path.canonicalString()}`;e.mightContain(o)||(this.et(n,s,null),i++)}),i}Tt(e){const n=new Map;this.ze.forEach((s,a)=>{const o=this.ot(a);if(o){if(s.current&&Zp(o.target)){const l=new K(o.target.path);this.It(l).has(a)||this.Et(a,l)||this.et(a,l,xt.newNoDocument(l,e))}s.Be&&(n.set(a,s.ke()),s.qe())}});let r=ce();this.He.forEach((s,a)=>{let o=!0;a.forEachWhile(l=>{const u=this.ot(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(o=!1,!1)}),o&&(r=r.add(s))}),this.je.forEach((s,a)=>a.setReadTime(e));const i=new Bf(e,n,this.Ye,this.je,r);return this.je=Or(),this.Je=yu(),this.He=yu(),this.Ye=new Le(le),i}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,n)?i.Qe(n,1):i.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new i1,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new it(le),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new it(le),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||H("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new i1),this.Ge.getRemoteKeysForTarget(e).forEach(n=>{this.et(e,n,null)})}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function yu(){return new Le(K.comparator)}function s1(){return new Le(K.comparator)}const G5={asc:"ASCENDING",desc:"DESCENDING"},$5={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},K5={and:"AND",or:"OR"};class Y5{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function tg(t,e){return t.useProto3Json||Pf(e)?e:{value:e}}function Gh(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Q2(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Q5(t,e){return Gh(t,e.toTimestamp())}function Xn(t){return ye(!!t,49232),J.fromTimestamp(function(n){const r=Ii(n);return new Ne(r.seconds,r.nanos)}(t))}function m0(t,e){return ng(t,e).canonicalString()}function ng(t,e){const n=function(i){return new Ae(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function X2(t){const e=Ae.fromString(t);return ye(tR(e),10190,{key:e.toString()}),e}function rg(t,e){return m0(t.databaseId,e.path)}function gm(t,e){const n=X2(e);if(n.get(1)!==t.databaseId.projectId)throw new F(U.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new F(U.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new K(Z2(n))}function W2(t,e){return m0(t.databaseId,e)}function X5(t){const e=X2(t);return e.length===4?Ae.emptyPath():Z2(e)}function ig(t){return new Ae(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Z2(t){return ye(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function a1(t,e,n){return{name:rg(t,e),fields:n.value.mapValue.fields}}function W5(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:Q(39313,{state:u})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(u,f){return u.useProto3Json?(ye(f===void 0||typeof f=="string",58123),vt.fromBase64String(f||"")):(ye(f===void 0||f instanceof Buffer||f instanceof Uint8Array,16193),vt.fromUint8Array(f||new Uint8Array))}(t,e.targetChange.resumeToken),a=e.targetChange.cause,o=a&&function(u){const f=u.code===void 0?U.UNKNOWN:$2(u.code);return new F(f,u.message||"")}(a);n=new Y2(r,i,s,o||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=gm(t,r.document.name),s=Xn(r.document.updateTime),a=r.document.createTime?Xn(r.document.createTime):J.min(),o=new qt({mapValue:{fields:r.document.fields}}),l=xt.newFoundDocument(i,s,a,o),u=r.targetIds||[],f=r.removedTargetIds||[];n=new $u(u,f,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=gm(t,r.document),s=r.readTime?Xn(r.readTime):J.min(),a=xt.newNoDocument(i,s),o=r.removedTargetIds||[];n=new $u([],o,a.key,a)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=gm(t,r.document),s=r.removedTargetIds||[];n=new $u([],s,i,null)}else{if(!("filter"in e))return Q(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,a=new z5(i,s),o=r.targetId;n=new K2(o,a)}}return n}function Z5(t,e){let n;if(e instanceof Tc)n={update:a1(t,e.key,e.value)};else if(e instanceof h0)n={delete:rg(t,e.key)};else if(e instanceof ji)n={update:a1(t,e.key,e.data),updateMask:oL(e.fieldMask)};else{if(!(e instanceof L5))return Q(16599,{Vt:e.type});n={verify:rg(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,a){const o=a.transform;if(o instanceof Fl)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof ql)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof Hl)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof Hh)return{fieldPath:a.field.canonicalString(),increment:o.Ae};throw Q(20930,{transform:a.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:Q5(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:Q(27497)}(t,e.precondition)),n}function J5(t,e){return t&&t.length>0?(ye(e!==void 0,14353),t.map(n=>function(i,s){let a=i.updateTime?Xn(i.updateTime):Xn(s);return a.isEqual(J.min())&&(a=Xn(s)),new V5(a,i.transformResults||[])}(n,e))):[]}function eL(t,e){return{documents:[W2(t,e.path)]}}function tL(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=W2(t,i);const s=function(u){if(u.length!==0)return eR(Vn.create(u,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const a=function(u){if(u.length!==0)return u.map(f=>function(d){return{field:Ys(d.field),direction:iL(d.dir)}}(f))}(e.orderBy);a&&(n.structuredQuery.orderBy=a);const o=tg(t,e.limit);return o!==null&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{ft:n,parent:i}}function nL(t){let e=X5(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){ye(r===1,65062);const f=n.from[0];f.allDescendants?i=f.collectionId:e=e.child(f.collectionId)}let s=[];n.where&&(s=function(m){const d=J2(m);return d instanceof Vn&&C2(d)?d.getFilters():[d]}(n.where));let a=[];n.orderBy&&(a=function(m){return m.map(d=>function(x){return new jl(Qs(x.field),function(S){switch(S){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(x.direction))}(d))}(n.orderBy));let o=null;n.limit&&(o=function(m){let d;return d=typeof m=="object"?m.value:m,Pf(d)?null:d}(n.limit));let l=null;n.startAt&&(l=function(m){const d=!!m.before,y=m.values||[];return new qh(y,d)}(n.startAt));let u=null;return n.endAt&&(u=function(m){const d=!m.before,y=m.values||[];return new qh(y,d)}(n.endAt)),_5(e,i,a,s,o,"F",l,u)}function rL(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Q(28987,{purpose:i})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function J2(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Qs(n.unaryFilter.field);return Ze.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Qs(n.unaryFilter.field);return Ze.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Qs(n.unaryFilter.field);return Ze.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=Qs(n.unaryFilter.field);return Ze.create(a,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Q(61313);default:return Q(60726)}}(t):t.fieldFilter!==void 0?function(n){return Ze.create(Qs(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Q(58110);default:return Q(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Vn.create(n.compositeFilter.filters.map(r=>J2(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Q(1026)}}(n.compositeFilter.op))}(t):Q(30097,{filter:t})}function iL(t){return G5[t]}function sL(t){return $5[t]}function aL(t){return K5[t]}function Ys(t){return{fieldPath:t.canonicalString()}}function Qs(t){return gt.fromServerFormat(t.fieldPath)}function eR(t){return t instanceof Ze?function(n){if(n.op==="=="){if(Kb(n.value))return{unaryFilter:{field:Ys(n.field),op:"IS_NAN"}};if($b(n.value))return{unaryFilter:{field:Ys(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Kb(n.value))return{unaryFilter:{field:Ys(n.field),op:"IS_NOT_NAN"}};if($b(n.value))return{unaryFilter:{field:Ys(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ys(n.field),op:sL(n.op),value:n.value}}}(t):t instanceof Vn?function(n){const r=n.getFilters().map(i=>eR(i));return r.length===1?r[0]:{compositeFilter:{op:aL(n.op),filters:r}}}(t):Q(54877,{filter:t})}function oL(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function tR(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fi{constructor(e,n,r,i,s=J.min(),a=J.min(),o=vt.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=o,this.expectedCount=l}withSequenceNumber(e){return new fi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new fi(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new fi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new fi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lL{constructor(e){this.yt=e}}function cL(t){const e=nL({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?eg(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uL{constructor(){this.Cn=new hL}addToCollectionParentIndex(e,n){return this.Cn.add(n),B.resolve()}getCollectionParents(e,n){return B.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return B.resolve()}deleteFieldIndex(e,n){return B.resolve()}deleteAllFieldIndexes(e){return B.resolve()}createTargetIndexes(e,n){return B.resolve()}getDocumentsMatchingTarget(e,n){return B.resolve(null)}getIndexType(e,n){return B.resolve(0)}getFieldIndexes(e,n){return B.resolve([])}getNextCollectionGroupToUpdate(e){return B.resolve(null)}getMinOffset(e,n){return B.resolve(Ci.min())}getMinOffsetFromCollectionGroup(e,n){return B.resolve(Ci.min())}updateCollectionGroup(e,n,r){return B.resolve()}updateIndexEntries(e,n){return B.resolve()}}class hL{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new it(Ae.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new it(Ae.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o1={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},nR=41943040;class Ft{static withCacheSize(e){return new Ft(e,Ft.DEFAULT_COLLECTION_PERCENTILE,Ft.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ft.DEFAULT_COLLECTION_PERCENTILE=10,Ft.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ft.DEFAULT=new Ft(nR,Ft.DEFAULT_COLLECTION_PERCENTILE,Ft.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ft.DISABLED=new Ft(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ha{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Ha(0)}static cr(){return new Ha(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l1="LruGarbageCollector",fL=1048576;function c1([t,e],[n,r]){const i=le(t,n);return i===0?le(e,r):i}class dL{constructor(e){this.Ir=e,this.buffer=new it(c1),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();c1(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class mL{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){H(l1,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){oo(n)?H(l1,"Ignoring IndexedDB error during garbage collection: ",n):await ao(n)}await this.Vr(3e5)})}}class pL{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return B.resolve(Df.ce);const r=new dL(n);return this.mr.forEachTarget(e,i=>r.Ar(i.sequenceNumber)).next(()=>this.mr.pr(e,i=>r.Ar(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(H("LruGarbageCollector","Garbage collection skipped; disabled"),B.resolve(o1)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(H("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),o1):this.yr(e,n))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,i,s,a,o,l,u;const f=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(m=>(m>this.params.maximumSequenceNumbersToCollect?(H("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${m}`),i=this.params.maximumSequenceNumbersToCollect):i=m,a=Date.now(),this.nthSequenceNumber(e,i))).next(m=>(r=m,o=Date.now(),this.removeTargets(e,r,n))).next(m=>(s=m,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(m=>(u=Date.now(),$s()<=oe.DEBUG&&H("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${a-f}ms
	Determined least recently used ${i} in `+(o-a)+`ms
	Removed ${s} targets in `+(l-o)+`ms
	Removed ${m} documents in `+(u-l)+`ms
Total Duration: ${u-f}ms`),B.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:m})))}}function gL(t,e){return new pL(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yL{constructor(){this.changes=new Vs(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,xt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?B.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vL{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EL{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&ml(r.mutation,i,nn.empty(),Ne.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,ce()).next(()=>r))}getLocalViewOfDocuments(e,n,r=ce()){const i=ts();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let a=Ho();return s.forEach((o,l)=>{a=a.insert(o,l.overlayedDocument)}),a}))}getOverlayedDocuments(e,n){const r=ts();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,ce()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((a,o)=>{n.set(a,o)})})}computeViews(e,n,r,i){let s=Or();const a=dl(),o=function(){return dl()}();return n.forEach((l,u)=>{const f=r.get(u.key);i.has(u.key)&&(f===void 0||f.mutation instanceof ji)?s=s.insert(u.key,u):f!==void 0?(a.set(u.key,f.mutation.getFieldMask()),ml(f.mutation,u,f.mutation.getFieldMask(),Ne.now())):a.set(u.key,nn.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((u,f)=>a.set(u,f)),n.forEach((u,f)=>o.set(u,new vL(f,a.get(u)??null))),o))}recalculateAndSaveOverlays(e,n){const r=dl();let i=new Le((a,o)=>a-o),s=ce();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(a=>{for(const o of a)o.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let f=r.get(l)||nn.empty();f=o.applyToLocalView(u,f),r.set(l,f);const m=(i.get(o.batchId)||ce()).add(l);i=i.insert(o.batchId,m)})}).next(()=>{const a=[],o=i.getReverseIterator();for(;o.hasNext();){const l=o.getNext(),u=l.key,f=l.value,m=U2();f.forEach(d=>{if(!s.has(d)){const y=H2(n.get(d),r.get(d));y!==null&&m.set(d,y),s=s.add(d)}}),a.push(this.documentOverlayCache.saveOverlays(e,u,m))}return B.waitFor(a)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(a){return K.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):M2(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const a=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):B.resolve(ts());let o=Ll,l=s;return a.next(u=>B.forEach(u,(f,m)=>(o<m.largestBatchId&&(o=m.largestBatchId),s.get(f)?B.resolve():this.remoteDocumentCache.getEntry(e,f).next(d=>{l=l.insert(f,d)}))).next(()=>this.populateOverlays(e,u,s)).next(()=>this.computeViews(e,l,u,ce())).next(f=>({batchId:o,changes:L2(f)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new K(n)).next(r=>{let i=Ho();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let a=Ho();return this.indexManager.getCollectionParents(e,s).next(o=>B.forEach(o,l=>{const u=function(m,d){return new lo(d,null,m.explicitOrderBy.slice(),m.filters.slice(),m.limit,m.limitType,m.startAt,m.endAt)}(n,l.child(s));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(f=>{f.forEach((m,d)=>{a=a.insert(m,d)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(a=>(s=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(a=>{s.forEach((l,u)=>{const f=u.getKey();a.get(f)===null&&(a=a.insert(f,xt.newInvalidDocument(f)))});let o=Ho();return a.forEach((l,u)=>{const f=s.get(l);f!==void 0&&ml(f.mutation,u,nn.empty(),Ne.now()),Of(n,u)&&(o=o.insert(l,u))}),o})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _L{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return B.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Xn(i.createTime)}}(n)),B.resolve()}getNamedQuery(e,n){return B.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,function(i){return{name:i.name,query:cL(i.bundledQuery),readTime:Xn(i.readTime)}}(n)),B.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bL{constructor(){this.overlays=new Le(K.comparator),this.qr=new Map}getOverlay(e,n){return B.resolve(this.overlays.get(n))}getOverlays(e,n){const r=ts();return B.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.St(e,n,s)}),B.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.qr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.qr.delete(r)),B.resolve()}getOverlaysForCollection(e,n,r){const i=ts(),s=n.length+1,a=new K(n.child("")),o=this.overlays.getIteratorFrom(a);for(;o.hasNext();){const l=o.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return B.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Le((u,f)=>u-f);const a=this.overlays.getIterator();for(;a.hasNext();){const u=a.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let f=s.get(u.largestBatchId);f===null&&(f=ts(),s=s.insert(u.largestBatchId,f)),f.set(u.getKey(),u)}}const o=ts(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,f)=>o.set(u,f)),!(o.size()>=i)););return B.resolve(o)}St(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const a=this.qr.get(i.largestBatchId).delete(r.key);this.qr.set(i.largestBatchId,a)}this.overlays=this.overlays.insert(r.key,new B5(n,r));let s=this.qr.get(n);s===void 0&&(s=ce(),this.qr.set(n,s)),this.qr.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wL{constructor(){this.sessionToken=vt.EMPTY_BYTE_STRING}getSessionToken(e){return B.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,B.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p0{constructor(){this.Qr=new it(at.$r),this.Ur=new it(at.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new at(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Gr(new at(e,n))}zr(e,n){e.forEach(r=>this.removeReference(r,n))}jr(e){const n=new K(new Ae([])),r=new at(n,e),i=new at(n,e+1),s=[];return this.Ur.forEachInRange([r,i],a=>{this.Gr(a),s.push(a.key)}),s}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new K(new Ae([])),r=new at(n,e),i=new at(n,e+1);let s=ce();return this.Ur.forEachInRange([r,i],a=>{s=s.add(a.key)}),s}containsKey(e){const n=new at(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class at{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return K.comparator(e.key,n.key)||le(e.Yr,n.Yr)}static Kr(e,n){return le(e.Yr,n.Yr)||K.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TL{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new it(at.$r)}checkEmpty(e){return B.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new U5(s,n,r,i);this.mutationQueue.push(a);for(const o of i)this.Zr=this.Zr.add(new at(o.key,s)),this.indexManager.addToCollectionParentIndex(e,o.key.path.popLast());return B.resolve(a)}lookupMutationBatch(e,n){return B.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.ei(r),s=i<0?0:i;return B.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return B.resolve(this.mutationQueue.length===0?s0:this.tr-1)}getAllMutationBatches(e){return B.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new at(n,0),i=new at(n,Number.POSITIVE_INFINITY),s=[];return this.Zr.forEachInRange([r,i],a=>{const o=this.Xr(a.Yr);s.push(o)}),B.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new it(le);return n.forEach(i=>{const s=new at(i,0),a=new at(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([s,a],o=>{r=r.add(o.Yr)})}),B.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;K.isDocumentKey(s)||(s=s.child(""));const a=new at(new K(s),0);let o=new it(le);return this.Zr.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(o=o.add(l.Yr)),!0)},a),B.resolve(this.ti(o))}ti(e){const n=[];return e.forEach(r=>{const i=this.Xr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){ye(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return B.forEach(n.mutations,i=>{const s=new at(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Zr=r})}ir(e){}containsKey(e,n){const r=new at(n,0),i=this.Zr.firstAfterOrEqual(r);return B.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,B.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xL{constructor(e){this.ri=e,this.docs=function(){return new Le(K.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,a=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:a}),this.size+=a-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return B.resolve(r?r.document.mutableCopy():xt.newInvalidDocument(n))}getEntries(e,n){let r=Or();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():xt.newInvalidDocument(i))}),B.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=Or();const a=n.path,o=new K(a.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(o);for(;l.hasNext();){const{key:u,value:{document:f}}=l.getNext();if(!a.isPrefixOf(u.path))break;u.path.length>a.length+1||Z3(W3(f),r)<=0||(i.has(f.key)||Of(n,f))&&(s=s.insert(f.key,f.mutableCopy()))}return B.resolve(s)}getAllFromCollectionGroup(e,n,r,i){Q(9500)}ii(e,n){return B.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new AL(this)}getSize(e){return B.resolve(this.size)}}class AL extends yL{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Nr.addEntry(e,i)):this.Nr.removeEntry(r)}),B.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SL{constructor(e){this.persistence=e,this.si=new Vs(n=>l0(n),c0),this.lastRemoteSnapshotVersion=J.min(),this.highestTargetId=0,this.oi=0,this._i=new p0,this.targetCount=0,this.ai=Ha.ur()}forEachTarget(e,n){return this.si.forEach((r,i)=>n(i)),B.resolve()}getLastRemoteSnapshotVersion(e){return B.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return B.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),B.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),B.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new Ha(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,B.resolve()}updateTargetData(e,n){return this.Pr(n),B.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,B.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.si.forEach((a,o)=>{o.sequenceNumber<=n&&r.get(o.targetId)===null&&(this.si.delete(a),s.push(this.removeMatchingKeysForTargetId(e,o.targetId)),i++)}),B.waitFor(s).next(()=>i)}getTargetCount(e){return B.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return B.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),B.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(a=>{s.push(i.markPotentiallyOrphaned(e,a))}),B.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),B.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return B.resolve(r)}containsKey(e,n){return B.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rR{constructor(e,n){this.ui={},this.overlays={},this.ci=new Df(0),this.li=!1,this.li=!0,this.hi=new wL,this.referenceDelegate=e(this),this.Pi=new SL(this),this.indexManager=new uL,this.remoteDocumentCache=function(i){return new xL(i)}(r=>this.referenceDelegate.Ti(r)),this.serializer=new lL(n),this.Ii=new _L(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new bL,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new TL(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){H("MemoryPersistence","Starting transaction:",e);const i=new RL(this.ci.next());return this.referenceDelegate.Ei(),r(i).next(s=>this.referenceDelegate.di(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Ai(e,n){return B.or(Object.values(this.ui).map(r=>()=>r.containsKey(e,n)))}}class RL extends e5{constructor(e){super(),this.currentSequenceNumber=e}}class g0{constructor(e){this.persistence=e,this.Ri=new p0,this.Vi=null}static mi(e){return new g0(e)}get fi(){if(this.Vi)return this.Vi;throw Q(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),B.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),B.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),B.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach(i=>this.fi.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.fi.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return B.forEach(this.fi,r=>{const i=K.fromPath(r);return this.gi(e,i).next(s=>{s||n.removeEntry(i,J.min())})}).next(()=>(this.Vi=null,n.apply(e)))}updateLimboDocument(e,n){return this.gi(e,n).next(r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())})}Ti(e){return 0}gi(e,n){return B.or([()=>B.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class $h{constructor(e,n){this.persistence=e,this.pi=new Vs(r=>r5(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=gL(this,n)}static mi(e,n){return new $h(e,n)}Ei(){}di(e){return B.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}wr(e){let n=0;return this.pr(e,r=>{n++}).next(()=>n)}pr(e,n){return B.forEach(this.pi,(r,i)=>this.br(e,r,i).next(s=>s?B.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),s=i.newChangeBuffer();return i.ii(e,a=>this.br(e,a,n).next(o=>{o||(r++,s.removeEntry(a,J.min()))})).next(()=>s.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),B.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),B.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),B.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),B.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=qu(e.data.value)),n}br(e,n,r){return B.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.pi.get(n);return B.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y0{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=i}static As(e,n){let r=ce(),i=ce();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new y0(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NL{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CL{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return iV()?8:t5(Ct())>0?6:4}()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.ys(e,n).next(a=>{s.result=a}).next(()=>{if(!s.result)return this.ws(e,n,i,r).next(a=>{s.result=a})}).next(()=>{if(s.result)return;const a=new NL;return this.Ss(e,n,a).next(o=>{if(s.result=o,this.Vs)return this.bs(e,n,a,o.size)})}).next(()=>s.result)}bs(e,n,r,i){return r.documentReadCount<this.fs?($s()<=oe.DEBUG&&H("QueryEngine","SDK will not create cache indexes for query:",Ks(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),B.resolve()):($s()<=oe.DEBUG&&H("QueryEngine","Query:",Ks(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.gs*i?($s()<=oe.DEBUG&&H("QueryEngine","The SDK decides to create cache indexes for query:",Ks(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Qn(n))):B.resolve())}ys(e,n){if(Wb(n))return B.resolve(null);let r=Qn(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=eg(n,null,"F"),r=Qn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const a=ce(...s);return this.ps.getDocuments(e,a).next(o=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.Ds(n,o);return this.Cs(n,u,a,l.readTime)?this.ys(e,eg(n,null,"F")):this.vs(e,u,n,l)}))})))}ws(e,n,r,i){return Wb(n)||i.isEqual(J.min())?B.resolve(null):this.ps.getDocuments(e,r).next(s=>{const a=this.Ds(n,s);return this.Cs(n,a,r,i)?B.resolve(null):($s()<=oe.DEBUG&&H("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Ks(n)),this.vs(e,a,n,X3(i,Ll)).next(o=>o))})}Ds(e,n){let r=new it(k2(e));return n.forEach((i,s)=>{Of(e,s)&&(r=r.add(s))}),r}Cs(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Ss(e,n,r){return $s()<=oe.DEBUG&&H("QueryEngine","Using full collection scan to execute query:",Ks(n)),this.ps.getDocumentsMatchingQuery(e,n,Ci.min(),r)}vs(e,n,r,i){return this.ps.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(a=>{s=s.insert(a.key,a)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v0="LocalStore",IL=3e8;class DL{constructor(e,n,r,i){this.persistence=e,this.Fs=n,this.serializer=i,this.Ms=new Le(le),this.xs=new Vs(s=>l0(s),c0),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new EL(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ms))}}function PL(t,e,n,r){return new DL(t,e,n,r)}async function iR(t,e){const n=ee(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.Bs(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const a=[],o=[];let l=ce();for(const u of i){a.push(u.batchId);for(const f of u.mutations)l=l.add(f.key)}for(const u of s){o.push(u.batchId);for(const f of u.mutations)l=l.add(f.key)}return n.localDocuments.getDocuments(r,l).next(u=>({Ls:u,removedBatchIds:a,addedBatchIds:o}))})})}function ML(t,e){const n=ee(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.Ns.newChangeBuffer({trackRemovals:!0});return function(o,l,u,f){const m=u.batch,d=m.keys();let y=B.resolve();return d.forEach(x=>{y=y.next(()=>f.getEntry(l,x)).next(_=>{const S=u.docVersions.get(x);ye(S!==null,48541),_.version.compareTo(S)<0&&(m.applyToRemoteDocument(_,u),_.isValidDocument()&&(_.setReadTime(u.commitVersion),f.addEntry(_)))})}),y.next(()=>o.mutationQueue.removeMutationBatch(l,m))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(o){let l=ce();for(let u=0;u<o.mutationResults.length;++u)o.mutationResults[u].transformResults.length>0&&(l=l.add(o.batch.mutations[u].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function sR(t){const e=ee(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Pi.getLastRemoteSnapshotVersion(n))}function VL(t,e){const n=ee(t),r=e.snapshotVersion;let i=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const a=n.Ns.newChangeBuffer({trackRemovals:!0});i=n.Ms;const o=[];e.targetChanges.forEach((f,m)=>{const d=i.get(m);if(!d)return;o.push(n.Pi.removeMatchingKeys(s,f.removedDocuments,m).next(()=>n.Pi.addMatchingKeys(s,f.addedDocuments,m)));let y=d.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(m)!==null?y=y.withResumeToken(vt.EMPTY_BYTE_STRING,J.min()).withLastLimboFreeSnapshotVersion(J.min()):f.resumeToken.approximateByteSize()>0&&(y=y.withResumeToken(f.resumeToken,r)),i=i.insert(m,y),function(_,S,v){return _.resumeToken.approximateByteSize()===0||S.snapshotVersion.toMicroseconds()-_.snapshotVersion.toMicroseconds()>=IL?!0:v.addedDocuments.size+v.modifiedDocuments.size+v.removedDocuments.size>0}(d,y,f)&&o.push(n.Pi.updateTargetData(s,y))});let l=Or(),u=ce();if(e.documentUpdates.forEach(f=>{e.resolvedLimboDocuments.has(f)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(s,f))}),o.push(kL(s,a,e.documentUpdates).next(f=>{l=f.ks,u=f.qs})),!r.isEqual(J.min())){const f=n.Pi.getLastRemoteSnapshotVersion(s).next(m=>n.Pi.setTargetsMetadata(s,s.currentSequenceNumber,r));o.push(f)}return B.waitFor(o).next(()=>a.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,u)).next(()=>l)}).then(s=>(n.Ms=i,s))}function kL(t,e,n){let r=ce(),i=ce();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let a=Or();return n.forEach((o,l)=>{const u=s.get(o);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(o)),l.isNoDocument()&&l.version.isEqual(J.min())?(e.removeEntry(o,l.readTime),a=a.insert(o,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),a=a.insert(o,l)):H(v0,"Ignoring outdated watch update for ",o,". Current version:",u.version," Watch version:",l.version)}),{ks:a,qs:i}})}function OL(t,e){const n=ee(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=s0),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function LL(t,e){const n=ee(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Pi.getTargetData(r,e).next(s=>s?(i=s,B.resolve(i)):n.Pi.allocateTargetId(r).next(a=>(i=new fi(e,a,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Ms.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r})}async function sg(t,e,n){const r=ee(t),i=r.Ms.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,a=>r.persistence.referenceDelegate.removeTarget(a,i))}catch(a){if(!oo(a))throw a;H(v0,`Failed to update sequence numbers for target ${e}: ${a}`)}r.Ms=r.Ms.remove(e),r.xs.delete(i.target)}function u1(t,e,n){const r=ee(t);let i=J.min(),s=ce();return r.persistence.runTransaction("Execute query","readwrite",a=>function(l,u,f){const m=ee(l),d=m.xs.get(f);return d!==void 0?B.resolve(m.Ms.get(d)):m.Pi.getTargetData(u,f)}(r,a,Qn(e)).next(o=>{if(o)return i=o.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(a,o.targetId).next(l=>{s=l})}).next(()=>r.Fs.getDocumentsMatchingQuery(a,e,n?i:J.min(),n?s:ce())).next(o=>(UL(r,w5(e),o),{documents:o,Qs:s})))}function UL(t,e,n){let r=t.Os.get(e)||J.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.Os.set(e,r)}class h1{constructor(){this.activeTargetIds=N5()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class BL{constructor(){this.Mo=new h1,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new h1,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zL{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f1="ConnectivityMonitor";class d1{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){H(f1,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){H(f1,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vu=null;function ag(){return vu===null?vu=function(){return 268435456+Math.round(2147483648*Math.random())}():vu++,"0x"+vu.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ym="RestConnection",jL={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class FL{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${i}`,this.Wo=this.databaseId.database===jh?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Go(e,n,r,i,s){const a=ag(),o=this.zo(e,n.toUriEncodedString());H(ym,`Sending RPC '${e}' ${a}:`,o,r);const l={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(l,i,s);const{host:u}=new URL(o),f=Ds(u);return this.Jo(e,o,l,r,f).then(m=>(H(ym,`Received RPC '${e}' ${a}: `,m),m),m=>{throw za(ym,`RPC '${e}' ${a} failed with error: `,m,"url: ",o,"request:",r),m})}Ho(e,n,r,i,s,a){return this.Go(e,n,r,i,s)}jo(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+so}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}zo(e,n){const r=jL[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qL{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wt="WebChannelConnection";class HL extends FL{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,i,s){const a=ag();return new Promise((o,l)=>{const u=new l2;u.setWithCredentials(!0),u.listenOnce(c2.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case Fu.NO_ERROR:const m=u.getResponseJson();H(wt,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(m)),o(m);break;case Fu.TIMEOUT:H(wt,`RPC '${e}' ${a} timed out`),l(new F(U.DEADLINE_EXCEEDED,"Request time out"));break;case Fu.HTTP_ERROR:const d=u.getStatus();if(H(wt,`RPC '${e}' ${a} failed with status:`,d,"response text:",u.getResponseText()),d>0){let y=u.getResponseJson();Array.isArray(y)&&(y=y[0]);const x=y==null?void 0:y.error;if(x&&x.status&&x.message){const _=function(v){const b=v.toLowerCase().replace(/_/g,"-");return Object.values(U).indexOf(b)>=0?b:U.UNKNOWN}(x.status);l(new F(_,x.message))}else l(new F(U.UNKNOWN,"Server responded with status "+u.getStatus()))}else l(new F(U.UNAVAILABLE,"Connection failed."));break;default:Q(9055,{l_:e,streamId:a,h_:u.getLastErrorCode(),P_:u.getLastError()})}}finally{H(wt,`RPC '${e}' ${a} completed.`)}});const f=JSON.stringify(i);H(wt,`RPC '${e}' ${a} sending request:`,i),u.send(n,"POST",f,r,15)})}T_(e,n,r){const i=ag(),s=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=f2(),o=h2(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.jo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const f=s.join("");H(wt,`Creating RPC '${e}' stream ${i}: ${f}`,l);const m=a.createWebChannel(f,l);this.I_(m);let d=!1,y=!1;const x=new qL({Yo:S=>{y?H(wt,`Not sending because RPC '${e}' stream ${i} is closed:`,S):(d||(H(wt,`Opening RPC '${e}' stream ${i} transport.`),m.open(),d=!0),H(wt,`RPC '${e}' stream ${i} sending:`,S),m.send(S))},Zo:()=>m.close()}),_=(S,v,b)=>{S.listen(v,E=>{try{b(E)}catch(N){setTimeout(()=>{throw N},0)}})};return _(m,qo.EventType.OPEN,()=>{y||(H(wt,`RPC '${e}' stream ${i} transport opened.`),x.o_())}),_(m,qo.EventType.CLOSE,()=>{y||(y=!0,H(wt,`RPC '${e}' stream ${i} transport closed`),x.a_(),this.E_(m))}),_(m,qo.EventType.ERROR,S=>{y||(y=!0,za(wt,`RPC '${e}' stream ${i} transport errored. Name:`,S.name,"Message:",S.message),x.a_(new F(U.UNAVAILABLE,"The operation could not be completed")))}),_(m,qo.EventType.MESSAGE,S=>{var v;if(!y){const b=S.data[0];ye(!!b,16349);const E=b,N=(E==null?void 0:E.error)||((v=E[0])==null?void 0:v.error);if(N){H(wt,`RPC '${e}' stream ${i} received error:`,N);const M=N.status;let L=function(R){const C=Qe[R];if(C!==void 0)return $2(C)}(M),A=N.message;L===void 0&&(L=U.INTERNAL,A="Unknown error status: "+M+" with message "+N.message),y=!0,x.a_(new F(L,A)),m.close()}else H(wt,`RPC '${e}' stream ${i} received:`,b),x.u_(b)}}),_(o,u2.STAT_EVENT,S=>{S.stat===Kp.PROXY?H(wt,`RPC '${e}' stream ${i} detected buffering proxy`):S.stat===Kp.NOPROXY&&H(wt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{x.__()},0),x}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(n=>n===e)}}function vm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zf(t){return new Y5(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aR{constructor(e,n,r=1e3,i=1.5,s=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=i,this.R_=s,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,n-r);i>0&&H("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m1="PersistentStream";class oR{constructor(e,n,r,i,s,a,o,l){this.Mi=e,this.S_=r,this.b_=i,this.connection=s,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=o,this.listener=l,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new aR(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===U.RESOURCE_EXHAUSTED?(kr(n.toString()),kr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===U.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.D_===n&&this.G_(r,i)},r=>{e(()=>{const i=new F(U.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)})})}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo(()=>{r(()=>this.listener.Xo())}),this.stream.t_(()=>{r(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(i=>{r(()=>this.z_(i))}),this.stream.onMessage(i=>{r(()=>++this.F_==1?this.J_(i):this.onNext(i))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return H(m1,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget(()=>this.D_===e?n():(H(m1,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class GL extends oR{constructor(e,n,r,i,s,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,a),this.serializer=s}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=W5(this.serializer,e),r=function(s){if(!("targetChange"in s))return J.min();const a=s.targetChange;return a.targetIds&&a.targetIds.length?J.min():a.readTime?Xn(a.readTime):J.min()}(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=ig(this.serializer),n.addTarget=function(s,a){let o;const l=a.target;if(o=Zp(l)?{documents:eL(s,l)}:{query:tL(s,l).ft},o.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){o.resumeToken=Q2(s,a.resumeToken);const u=tg(s,a.expectedCount);u!==null&&(o.expectedCount=u)}else if(a.snapshotVersion.compareTo(J.min())>0){o.readTime=Gh(s,a.snapshotVersion.toTimestamp());const u=tg(s,a.expectedCount);u!==null&&(o.expectedCount=u)}return o}(this.serializer,e);const r=rL(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=ig(this.serializer),n.removeTarget=e,this.q_(n)}}class $L extends oR{constructor(e,n,r,i,s,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,a),this.serializer=s}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return ye(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,ye(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){ye(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=J5(e.writeResults,e.commitTime),r=Xn(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=ig(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>Z5(this.serializer,r))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KL{}class YL extends KL{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new F(U.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Go(e,ng(n,r),i,s,a)).catch(s=>{throw s.name==="FirebaseError"?(s.code===U.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new F(U.UNKNOWN,s.toString())})}Ho(e,n,r,i,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,o])=>this.connection.Ho(e,ng(n,r),i,a,o,s)).catch(a=>{throw a.name==="FirebaseError"?(a.code===U.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new F(U.UNKNOWN,a.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class QL{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(kr(n),this.aa=!1):H("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ss="RemoteStore";class XL{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=s,this.Aa.Oo(a=>{r.enqueueAndForget(async()=>{ks(this)&&(H(Ss,"Restarting streams for network reachability change."),await async function(l){const u=ee(l);u.Ea.add(4),await Ac(u),u.Ra.set("Unknown"),u.Ea.delete(4),await jf(u)}(this))})}),this.Ra=new QL(r,i)}}async function jf(t){if(ks(t))for(const e of t.da)await e(!0)}async function Ac(t){for(const e of t.da)await e(!1)}function lR(t,e){const n=ee(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),w0(n)?b0(n):co(n).O_()&&_0(n,e))}function E0(t,e){const n=ee(t),r=co(n);n.Ia.delete(e),r.O_()&&cR(n,e),n.Ia.size===0&&(r.O_()?r.L_():ks(n)&&n.Ra.set("Unknown"))}function _0(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(J.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}co(t).Y_(e)}function cR(t,e){t.Va.Ue(e),co(t).Z_(e)}function b0(t){t.Va=new H5({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),co(t).start(),t.Ra.ua()}function w0(t){return ks(t)&&!co(t).x_()&&t.Ia.size>0}function ks(t){return ee(t).Ea.size===0}function uR(t){t.Va=void 0}async function WL(t){t.Ra.set("Online")}async function ZL(t){t.Ia.forEach((e,n)=>{_0(t,e)})}async function JL(t,e){uR(t),w0(t)?(t.Ra.ha(e),b0(t)):t.Ra.set("Unknown")}async function e9(t,e,n){if(t.Ra.set("Online"),e instanceof Y2&&e.state===2&&e.cause)try{await async function(i,s){const a=s.cause;for(const o of s.targetIds)i.Ia.has(o)&&(await i.remoteSyncer.rejectListen(o,a),i.Ia.delete(o),i.Va.removeTarget(o))}(t,e)}catch(r){H(Ss,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Kh(t,r)}else if(e instanceof $u?t.Va.Ze(e):e instanceof K2?t.Va.st(e):t.Va.tt(e),!n.isEqual(J.min()))try{const r=await sR(t.localStore);n.compareTo(r)>=0&&await function(s,a){const o=s.Va.Tt(a);return o.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const f=s.Ia.get(u);f&&s.Ia.set(u,f.withResumeToken(l.resumeToken,a))}}),o.targetMismatches.forEach((l,u)=>{const f=s.Ia.get(l);if(!f)return;s.Ia.set(l,f.withResumeToken(vt.EMPTY_BYTE_STRING,f.snapshotVersion)),cR(s,l);const m=new fi(f.target,l,u,f.sequenceNumber);_0(s,m)}),s.remoteSyncer.applyRemoteEvent(o)}(t,n)}catch(r){H(Ss,"Failed to raise snapshot:",r),await Kh(t,r)}}async function Kh(t,e,n){if(!oo(e))throw e;t.Ea.add(1),await Ac(t),t.Ra.set("Offline"),n||(n=()=>sR(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{H(Ss,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await jf(t)})}function hR(t,e){return e().catch(n=>Kh(t,n,e))}async function Ff(t){const e=ee(t),n=Mi(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:s0;for(;t9(e);)try{const i=await OL(e.localStore,r);if(i===null){e.Ta.length===0&&n.L_();break}r=i.batchId,n9(e,i)}catch(i){await Kh(e,i)}fR(e)&&dR(e)}function t9(t){return ks(t)&&t.Ta.length<10}function n9(t,e){t.Ta.push(e);const n=Mi(t);n.O_()&&n.X_&&n.ea(e.mutations)}function fR(t){return ks(t)&&!Mi(t).x_()&&t.Ta.length>0}function dR(t){Mi(t).start()}async function r9(t){Mi(t).ra()}async function i9(t){const e=Mi(t);for(const n of t.Ta)e.ea(n.mutations)}async function s9(t,e,n){const r=t.Ta.shift(),i=f0.from(r,e,n);await hR(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Ff(t)}async function a9(t,e){e&&Mi(t).X_&&await async function(r,i){if(function(a){return j5(a)&&a!==U.ABORTED}(i.code)){const s=r.Ta.shift();Mi(r).B_(),await hR(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await Ff(r)}}(t,e),fR(t)&&dR(t)}async function p1(t,e){const n=ee(t);n.asyncQueue.verifyOperationInProgress(),H(Ss,"RemoteStore received new credentials");const r=ks(n);n.Ea.add(3),await Ac(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await jf(n)}async function o9(t,e){const n=ee(t);e?(n.Ea.delete(2),await jf(n)):e||(n.Ea.add(2),await Ac(n),n.Ra.set("Unknown"))}function co(t){return t.ma||(t.ma=function(n,r,i){const s=ee(n);return s.sa(),new GL(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Xo:WL.bind(null,t),t_:ZL.bind(null,t),r_:JL.bind(null,t),H_:e9.bind(null,t)}),t.da.push(async e=>{e?(t.ma.B_(),w0(t)?b0(t):t.Ra.set("Unknown")):(await t.ma.stop(),uR(t))})),t.ma}function Mi(t){return t.fa||(t.fa=function(n,r,i){const s=ee(n);return s.sa(),new $L(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:r9.bind(null,t),r_:a9.bind(null,t),ta:i9.bind(null,t),na:s9.bind(null,t)}),t.da.push(async e=>{e?(t.fa.B_(),await Ff(t)):(await t.fa.stop(),t.Ta.length>0&&(H(Ss,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))})),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T0{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Rr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const a=Date.now()+r,o=new T0(e,n,a,i,s);return o.start(r),o}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new F(U.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function x0(t,e){if(kr("AsyncQueue",`${e}: ${t}`),oo(t))return new F(U.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aa{static emptySet(e){return new Aa(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||K.comparator(n.key,r.key):(n,r)=>K.comparator(n.key,r.key),this.keyedMap=Ho(),this.sortedSet=new Le(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Aa)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Aa;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g1{constructor(){this.ga=new Le(K.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Q(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal((n,r)=>{e.push(r)}),e}}class Ga{constructor(e,n,r,i,s,a,o,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=a,this.syncStateChanged=o,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,s){const a=[];return n.forEach(o=>{a.push({type:0,doc:o})}),new Ga(e,n,Aa.emptySet(n),a,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&kf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l9{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class c9{constructor(){this.queries=y1(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const i=ee(n),s=i.queries;i.queries=y1(),s.forEach((a,o)=>{for(const l of o.Sa)l.onError(r)})})(this,new F(U.ABORTED,"Firestore shutting down"))}}function y1(){return new Vs(t=>V2(t),kf)}async function A0(t,e){const n=ee(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.ba()&&e.Da()&&(r=2):(s=new l9,r=e.Da()?0:1);try{switch(r){case 0:s.wa=await n.onListen(i,!0);break;case 1:s.wa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(a){const o=x0(a,`Initialization of query '${Ks(e.query)}' failed`);return void e.onError(o)}n.queries.set(i,s),s.Sa.push(e),e.va(n.onlineState),s.wa&&e.Fa(s.wa)&&R0(n)}async function S0(t,e){const n=ee(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const a=s.Sa.indexOf(e);a>=0&&(s.Sa.splice(a,1),s.Sa.length===0?i=e.Da()?0:1:!s.ba()&&e.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function u9(t,e){const n=ee(t);let r=!1;for(const i of e){const s=i.query,a=n.queries.get(s);if(a){for(const o of a.Sa)o.Fa(i)&&(r=!0);a.wa=i}}r&&R0(n)}function h9(t,e,n){const r=ee(t),i=r.queries.get(e);if(i)for(const s of i.Sa)s.onError(n);r.queries.delete(e)}function R0(t){t.Ca.forEach(e=>{e.next()})}var og,v1;(v1=og||(og={})).Ma="default",v1.Cache="cache";class N0{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Ga(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Ga.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==og.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mR{constructor(e){this.key=e}}class pR{constructor(e){this.key=e}}class f9{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=ce(),this.mutatedKeys=ce(),this.eu=k2(e),this.tu=new Aa(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new g1,i=n?n.tu:this.tu;let s=n?n.mutatedKeys:this.mutatedKeys,a=i,o=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((f,m)=>{const d=i.get(f),y=Of(this.query,m)?m:null,x=!!d&&this.mutatedKeys.has(d.key),_=!!y&&(y.hasLocalMutations||this.mutatedKeys.has(y.key)&&y.hasCommittedMutations);let S=!1;d&&y?d.data.isEqual(y.data)?x!==_&&(r.track({type:3,doc:y}),S=!0):this.su(d,y)||(r.track({type:2,doc:y}),S=!0,(l&&this.eu(y,l)>0||u&&this.eu(y,u)<0)&&(o=!0)):!d&&y?(r.track({type:0,doc:y}),S=!0):d&&!y&&(r.track({type:1,doc:d}),S=!0,(l||u)&&(o=!0)),S&&(y?(a=a.add(y),s=_?s.add(f):s.delete(f)):(a=a.delete(f),s=s.delete(f)))}),this.query.limit!==null)for(;a.size>this.query.limit;){const f=this.query.limitType==="F"?a.last():a.first();a=a.delete(f.key),s=s.delete(f.key),r.track({type:1,doc:f})}return{tu:a,iu:r,Cs:o,mutatedKeys:s}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const a=e.iu.ya();a.sort((f,m)=>function(y,x){const _=S=>{switch(S){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Q(20277,{Rt:S})}};return _(y)-_(x)}(f.type,m.type)||this.eu(f.doc,m.doc)),this.ou(r),i=i??!1;const o=n&&!i?this._u():[],l=this.Xa.size===0&&this.current&&!i?1:0,u=l!==this.Za;return this.Za=l,a.length!==0||u?{snapshot:new Ga(this.query,e.tu,s,a,e.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:o}:{au:o}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new g1,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(n=>this.Ya=this.Ya.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ya=this.Ya.delete(n)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=ce(),this.tu.forEach(r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))});const n=[];return e.forEach(r=>{this.Xa.has(r)||n.push(new pR(r))}),this.Xa.forEach(r=>{e.has(r)||n.push(new mR(r))}),n}cu(e){this.Ya=e.Qs,this.Xa=ce();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Ga.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const C0="SyncEngine";class d9{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class m9{constructor(e){this.key=e,this.hu=!1}}class p9{constructor(e,n,r,i,s,a){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=a,this.Pu={},this.Tu=new Vs(o=>V2(o),kf),this.Iu=new Map,this.Eu=new Set,this.du=new Le(K.comparator),this.Au=new Map,this.Ru=new p0,this.Vu={},this.mu=new Map,this.fu=Ha.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function g9(t,e,n=!0){const r=bR(t);let i;const s=r.Tu.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.lu()):i=await gR(r,e,n,!0),i}async function y9(t,e){const n=bR(t);await gR(n,e,!0,!1)}async function gR(t,e,n,r){const i=await LL(t.localStore,Qn(e)),s=i.targetId,a=t.sharedClientState.addLocalQueryTarget(s,n);let o;return r&&(o=await v9(t,e,s,a==="current",i.resumeToken)),t.isPrimaryClient&&n&&lR(t.remoteStore,i),o}async function v9(t,e,n,r,i){t.pu=(m,d,y)=>async function(_,S,v,b){let E=S.view.ru(v);E.Cs&&(E=await u1(_.localStore,S.query,!1).then(({documents:A})=>S.view.ru(A,E)));const N=b&&b.targetChanges.get(S.targetId),M=b&&b.targetMismatches.get(S.targetId)!=null,L=S.view.applyChanges(E,_.isPrimaryClient,N,M);return _1(_,S.targetId,L.au),L.snapshot}(t,m,d,y);const s=await u1(t.localStore,e,!0),a=new f9(e,s.Qs),o=a.ru(s.documents),l=xc.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=a.applyChanges(o,t.isPrimaryClient,l);_1(t,n,u.au);const f=new d9(e,n,a);return t.Tu.set(e,f),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),u.snapshot}async function E9(t,e,n){const r=ee(t),i=r.Tu.get(e),s=r.Iu.get(i.targetId);if(s.length>1)return r.Iu.set(i.targetId,s.filter(a=>!kf(a,e))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await sg(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&E0(r.remoteStore,i.targetId),lg(r,i.targetId)}).catch(ao)):(lg(r,i.targetId),await sg(r.localStore,i.targetId,!0))}async function _9(t,e){const n=ee(t),r=n.Tu.get(e),i=n.Iu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),E0(n.remoteStore,r.targetId))}async function b9(t,e,n){const r=N9(t);try{const i=await function(a,o){const l=ee(a),u=Ne.now(),f=o.reduce((y,x)=>y.add(x.key),ce());let m,d;return l.persistence.runTransaction("Locally write mutations","readwrite",y=>{let x=Or(),_=ce();return l.Ns.getEntries(y,f).next(S=>{x=S,x.forEach((v,b)=>{b.isValidDocument()||(_=_.add(v))})}).next(()=>l.localDocuments.getOverlayedDocuments(y,x)).next(S=>{m=S;const v=[];for(const b of o){const E=O5(b,m.get(b.key).overlayedDocument);E!=null&&v.push(new ji(b.key,E,S2(E.value.mapValue),_n.exists(!0)))}return l.mutationQueue.addMutationBatch(y,u,v,o)}).next(S=>{d=S;const v=S.applyToLocalDocumentSet(m,_);return l.documentOverlayCache.saveOverlays(y,S.batchId,v)})}).then(()=>({batchId:d.batchId,changes:L2(m)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(a,o,l){let u=a.Vu[a.currentUser.toKey()];u||(u=new Le(le)),u=u.insert(o,l),a.Vu[a.currentUser.toKey()]=u}(r,i.batchId,n),await Sc(r,i.changes),await Ff(r.remoteStore)}catch(i){const s=x0(i,"Failed to persist write");n.reject(s)}}async function yR(t,e){const n=ee(t);try{const r=await VL(n.localStore,e);e.targetChanges.forEach((i,s)=>{const a=n.Au.get(s);a&&(ye(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?a.hu=!0:i.modifiedDocuments.size>0?ye(a.hu,14607):i.removedDocuments.size>0&&(ye(a.hu,42227),a.hu=!1))}),await Sc(n,r,e)}catch(r){await ao(r)}}function E1(t,e,n){const r=ee(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Tu.forEach((s,a)=>{const o=a.view.va(e);o.snapshot&&i.push(o.snapshot)}),function(a,o){const l=ee(a);l.onlineState=o;let u=!1;l.queries.forEach((f,m)=>{for(const d of m.Sa)d.va(o)&&(u=!0)}),u&&R0(l)}(r.eventManager,e),i.length&&r.Pu.H_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function w9(t,e,n){const r=ee(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Au.get(e),s=i&&i.key;if(s){let a=new Le(K.comparator);a=a.insert(s,xt.newNoDocument(s,J.min()));const o=ce().add(s),l=new Bf(J.min(),new Map,new Le(le),a,o);await yR(r,l),r.du=r.du.remove(s),r.Au.delete(e),I0(r)}else await sg(r.localStore,e,!1).then(()=>lg(r,e,n)).catch(ao)}async function T9(t,e){const n=ee(t),r=e.batch.batchId;try{const i=await ML(n.localStore,e);ER(n,r,null),vR(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Sc(n,i)}catch(i){await ao(i)}}async function x9(t,e,n){const r=ee(t);try{const i=await function(a,o){const l=ee(a);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let f;return l.mutationQueue.lookupMutationBatch(u,o).next(m=>(ye(m!==null,37113),f=m.keys(),l.mutationQueue.removeMutationBatch(u,m))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,f,o)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,f)).next(()=>l.localDocuments.getDocuments(u,f))})}(r.localStore,e);ER(r,e,n),vR(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Sc(r,i)}catch(i){await ao(i)}}function vR(t,e){(t.mu.get(e)||[]).forEach(n=>{n.resolve()}),t.mu.delete(e)}function ER(t,e,n){const r=ee(t);let i=r.Vu[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Vu[r.currentUser.toKey()]=i}}function lg(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach(r=>{t.Ru.containsKey(r)||_R(t,r)})}function _R(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(E0(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),I0(t))}function _1(t,e,n){for(const r of n)r instanceof mR?(t.Ru.addReference(r.key,e),A9(t,r)):r instanceof pR?(H(C0,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||_R(t,r.key)):Q(19791,{wu:r})}function A9(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(H(C0,"New document in limbo: "+n),t.Eu.add(r),I0(t))}function I0(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new K(Ae.fromString(e)),r=t.fu.next();t.Au.set(r,new m9(n)),t.du=t.du.insert(n,r),lR(t.remoteStore,new fi(Qn(Vf(n.path)),r,"TargetPurposeLimboResolution",Df.ce))}}async function Sc(t,e,n){const r=ee(t),i=[],s=[],a=[];r.Tu.isEmpty()||(r.Tu.forEach((o,l)=>{a.push(r.pu(l,e,n).then(u=>{var f;if((u||n)&&r.isPrimaryClient){const m=u?!u.fromCache:(f=n==null?void 0:n.targetChanges.get(l.targetId))==null?void 0:f.current;r.sharedClientState.updateQueryState(l.targetId,m?"current":"not-current")}if(u){i.push(u);const m=y0.As(l.targetId,u);s.push(m)}}))}),await Promise.all(a),r.Pu.H_(i),await async function(l,u){const f=ee(l);try{await f.persistence.runTransaction("notifyLocalViewChanges","readwrite",m=>B.forEach(u,d=>B.forEach(d.Es,y=>f.persistence.referenceDelegate.addReference(m,d.targetId,y)).next(()=>B.forEach(d.ds,y=>f.persistence.referenceDelegate.removeReference(m,d.targetId,y)))))}catch(m){if(!oo(m))throw m;H(v0,"Failed to update sequence numbers: "+m)}for(const m of u){const d=m.targetId;if(!m.fromCache){const y=f.Ms.get(d),x=y.snapshotVersion,_=y.withLastLimboFreeSnapshotVersion(x);f.Ms=f.Ms.insert(d,_)}}}(r.localStore,s))}async function S9(t,e){const n=ee(t);if(!n.currentUser.isEqual(e)){H(C0,"User change. New user:",e.toKey());const r=await iR(n.localStore,e);n.currentUser=e,function(s,a){s.mu.forEach(o=>{o.forEach(l=>{l.reject(new F(U.CANCELLED,a))})}),s.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Sc(n,r.Ls)}}function R9(t,e){const n=ee(t),r=n.Au.get(e);if(r&&r.hu)return ce().add(r.key);{let i=ce();const s=n.Iu.get(e);if(!s)return i;for(const a of s){const o=n.Tu.get(a);i=i.unionWith(o.view.nu)}return i}}function bR(t){const e=ee(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=yR.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=R9.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=w9.bind(null,e),e.Pu.H_=u9.bind(null,e.eventManager),e.Pu.yu=h9.bind(null,e.eventManager),e}function N9(t){const e=ee(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=T9.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=x9.bind(null,e),e}class Yh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=zf(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return PL(this.persistence,new CL,e.initialUser,this.serializer)}Cu(e){return new rR(g0.mi,this.serializer)}Du(e){return new BL}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Yh.provider={build:()=>new Yh};class C9 extends Yh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){ye(this.persistence.referenceDelegate instanceof $h,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new mL(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Ft.withCacheSize(this.cacheSizeBytes):Ft.DEFAULT;return new rR(r=>$h.mi(r,n),this.serializer)}}class cg{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>E1(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=S9.bind(null,this.syncEngine),await o9(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new c9}()}createDatastore(e){const n=zf(e.databaseInfo.databaseId),r=function(s){return new HL(s)}(e.databaseInfo);return function(s,a,o,l){return new YL(s,a,o,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,a,o){return new XL(r,i,s,a,o)}(this.localStore,this.datastore,e.asyncQueue,n=>E1(this.syncEngine,n,0),function(){return d1.v()?new d1:new zL}())}createSyncEngine(e,n){return function(i,s,a,o,l,u,f){const m=new p9(i,s,a,o,l,u);return f&&(m.gu=!0),m}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const s=ee(i);H(Ss,"RemoteStore shutting down."),s.Ea.add(5),await Ac(s),s.Aa.shutdown(),s.Ra.set("Unknown")}(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}cg.provider={build:()=>new cg};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D0{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):kr("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vi="FirestoreClient";class I9{constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Tt.UNAUTHENTICATED,this.clientId=i0.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,async a=>{H(Vi,"Received user=",a.uid),await this.authCredentialListener(a),this.user=a}),this.appCheckCredentials.start(r,a=>(H(Vi,"Received new app check token=",a),this.appCheckCredentialListener(a,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Rr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=x0(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Em(t,e){t.asyncQueue.verifyOperationInProgress(),H(Vi,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await iR(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function b1(t,e){t.asyncQueue.verifyOperationInProgress();const n=await D9(t);H(Vi,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>p1(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>p1(e.remoteStore,i)),t._onlineComponents=e}async function D9(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){H(Vi,"Using user provided OfflineComponentProvider");try{await Em(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===U.FAILED_PRECONDITION||i.code===U.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;za("Error using user provided cache. Falling back to memory cache: "+n),await Em(t,new Yh)}}else H(Vi,"Using default OfflineComponentProvider"),await Em(t,new C9(void 0));return t._offlineComponents}async function wR(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(H(Vi,"Using user provided OnlineComponentProvider"),await b1(t,t._uninitializedComponentsProvider._online)):(H(Vi,"Using default OnlineComponentProvider"),await b1(t,new cg))),t._onlineComponents}function P9(t){return wR(t).then(e=>e.syncEngine)}async function Qh(t){const e=await wR(t),n=e.eventManager;return n.onListen=g9.bind(null,e.syncEngine),n.onUnlisten=E9.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=y9.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=_9.bind(null,e.syncEngine),n}function M9(t,e,n={}){const r=new Rr;return t.asyncQueue.enqueueAndForget(async()=>function(s,a,o,l,u){const f=new D0({next:d=>{f.Nu(),a.enqueueAndForget(()=>S0(s,m));const y=d.docs.has(o);!y&&d.fromCache?u.reject(new F(U.UNAVAILABLE,"Failed to get document because the client is offline.")):y&&d.fromCache&&l&&l.source==="server"?u.reject(new F(U.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(d)},error:d=>u.reject(d)}),m=new N0(Vf(o.path),f,{includeMetadataChanges:!0,qa:!0});return A0(s,m)}(await Qh(t),t.asyncQueue,e,n,r)),r.promise}function V9(t,e,n={}){const r=new Rr;return t.asyncQueue.enqueueAndForget(async()=>function(s,a,o,l,u){const f=new D0({next:d=>{f.Nu(),a.enqueueAndForget(()=>S0(s,m)),d.fromCache&&l.source==="server"?u.reject(new F(U.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(d)},error:d=>u.reject(d)}),m=new N0(o,f,{includeMetadataChanges:!0,qa:!0});return A0(s,m)}(await Qh(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TR(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w1=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xR="firestore.googleapis.com",T1=!0;class x1{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new F(U.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=xR,this.ssl=T1}else this.host=e.host,this.ssl=e.ssl??T1;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=nR;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<fL)throw new F(U.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Q3("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=TR(e.experimentalLongPollingOptions??{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new F(U.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new F(U.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new F(U.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class qf{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new x1({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new F(U.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new F(U.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new x1(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new B3;switch(r.type){case"firstParty":return new q3(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new F(U.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=w1.get(n);r&&(H("ComponentProvider","Removing Datastore"),w1.delete(n),r.terminate())}(this),Promise.resolve()}}function k9(t,e,n,r={}){var u;t=Gt(t,qf);const i=Ds(e),s=t._getSettings(),a={...s,emulatorOptions:t._getEmulatorOptions()},o=`${e}:${n}`;i&&(Hy(`https://${o}`),Gy("Firestore",!0)),s.host!==xR&&s.host!==o&&za("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const l={...s,host:o,ssl:i,emulatorOptions:r};if(!bs(l,a)&&(t._setSettings(l),r.mockUserToken)){let f,m;if(typeof r.mockUserToken=="string")f=r.mockUserToken,m=Tt.MOCK_USER;else{f=ES(r.mockUserToken,(u=t._app)==null?void 0:u.options.projectId);const d=r.mockUserToken.sub||r.mockUserToken.user_id;if(!d)throw new F(U.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");m=new Tt(d)}t._authCredentials=new z3(new m2(f,m))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fi{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Fi(this.firestore,e,this._query)}}class Fe{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new xi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Fe(this.firestore,e,this._key)}toJSON(){return{type:Fe._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(wc(n,Fe._jsonSchema))return new Fe(e,r||null,new K(Ae.fromString(n.referencePath)))}}Fe._jsonSchemaVersion="firestore/documentReference/1.0",Fe._jsonSchema={type:Je("string",Fe._jsonSchemaVersion),referencePath:Je("string")};class xi extends Fi{constructor(e,n,r){super(e,n,Vf(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Fe(this.firestore,null,new K(e))}withConverter(e){return new xi(this.firestore,e,this._path)}}function kt(t,e,...n){if(t=Ke(t),p2("collection","path",e),t instanceof qf){const r=Ae.fromString(e,...n);return Lb(r),new xi(t,null,r)}{if(!(t instanceof Fe||t instanceof xi))throw new F(U.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ae.fromString(e,...n));return Lb(r),new xi(t.firestore,null,r)}}function Nt(t,e,...n){if(t=Ke(t),arguments.length===1&&(e=i0.newId()),p2("doc","path",e),t instanceof qf){const r=Ae.fromString(e,...n);return Ob(r),new Fe(t,null,new K(r))}{if(!(t instanceof Fe||t instanceof xi))throw new F(U.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ae.fromString(e,...n));return Ob(r),new Fe(t.firestore,t instanceof xi?t.converter:null,new K(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A1="AsyncQueue";class S1{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new aR(this,"async_queue_retry"),this._c=()=>{const r=vm();r&&H(A1,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=vm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=vm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new Rr;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!oo(e))throw e;H(A1,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(r=>{throw this.nc=r,this.rc=!1,kr("INTERNAL UNHANDLED ERROR: ",R1(r)),r}).then(r=>(this.rc=!1,r))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const i=T0.createAndSchedule(this,e,n,r,s=>this.hc(s));return this.tc.push(i),i}uc(){this.nc&&Q(47125,{Pc:R1(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function R1(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N1(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const s of r)if(s in i&&typeof i[s]=="function")return!0;return!1}(t,["next","error","complete"])}class Lr extends qf{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new S1,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new S1(e),this._firestoreClient=void 0,await e}}}function O9(t,e){const n=typeof t=="object"?t:Yy(),r=typeof t=="string"?t:jh,i=Sf(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=gS("firestore");s&&k9(i,...s)}return i}function Hf(t){if(t._terminated)throw new F(U.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||L9(t),t._firestoreClient}function L9(t){var r,i,s;const e=t._freezeSettings(),n=function(o,l,u,f){return new a5(o,l,u,f.host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,TR(f.experimentalLongPollingOptions),f.useFetchStreams,f.isUsingEmulator)}(t._databaseId,((r=t._app)==null?void 0:r.options.appId)||"",t._persistenceKey,e);t._componentsProvider||(i=e.localCache)!=null&&i._offlineComponentProvider&&((s=e.localCache)!=null&&s._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new I9(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&function(o){const l=o==null?void 0:o._online.build();return{_offline:o==null?void 0:o._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new vn(vt.fromBase64String(e))}catch(n){throw new F(U.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new vn(vt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:vn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(wc(e,vn._jsonSchema))return vn.fromBase64String(e.bytes)}}vn._jsonSchemaVersion="firestore/bytes/1.0",vn._jsonSchema={type:Je("string",vn._jsonSchemaVersion),bytes:Je("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gf{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new F(U.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new gt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $f{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wn{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new F(U.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new F(U.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return le(this._lat,e._lat)||le(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Wn._jsonSchemaVersion}}static fromJSON(e){if(wc(e,Wn._jsonSchema))return new Wn(e.latitude,e.longitude)}}Wn._jsonSchemaVersion="firestore/geoPoint/1.0",Wn._jsonSchema={type:Je("string",Wn._jsonSchemaVersion),latitude:Je("number"),longitude:Je("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zn{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}toJSON(){return{type:Zn._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(wc(e,Zn._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new Zn(e.vectorValues);throw new F(U.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Zn._jsonSchemaVersion="firestore/vectorValue/1.0",Zn._jsonSchema={type:Je("string",Zn._jsonSchemaVersion),vectorValues:Je("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U9=/^__.*__$/;class B9{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new ji(e,this.data,this.fieldMask,n,this.fieldTransforms):new Tc(e,this.data,n,this.fieldTransforms)}}class AR{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new ji(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function SR(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Q(40011,{Ac:t})}}class P0{constructor(e,n,r,i,s,a){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Rc(),this.fieldTransforms=s||[],this.fieldMask=a||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new P0({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var i;const n=(i=this.path)==null?void 0:i.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){var i;const n=(i=this.path)==null?void 0:i.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Xh(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(SR(this.Ac)&&U9.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class z9{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||zf(e)}Cc(e,n,r,i=!1){return new P0({Ac:e,methodName:n,Dc:r,path:gt.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Kf(t){const e=t._freezeSettings(),n=zf(t._databaseId);return new z9(t._databaseId,!!e.ignoreUndefinedProperties,n)}function RR(t,e,n,r,i,s={}){const a=t.Cc(s.merge||s.mergeFields?2:0,e,n,i);V0("Data must be an object, but it was:",a,r);const o=NR(r,a);let l,u;if(s.merge)l=new nn(a.fieldMask),u=a.fieldTransforms;else if(s.mergeFields){const f=[];for(const m of s.mergeFields){const d=ug(e,m,n);if(!a.contains(d))throw new F(U.INVALID_ARGUMENT,`Field '${d}' is specified in your field mask but missing from your input data.`);IR(f,d)||f.push(d)}l=new nn(f),u=a.fieldTransforms.filter(m=>l.covers(m.field))}else l=null,u=a.fieldTransforms;return new B9(new qt(o),l,u)}class Yf extends $f{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Yf}}class M0 extends $f{_toFieldTransform(e){return new P5(e.path,new Fl)}isEqual(e){return e instanceof M0}}function j9(t,e,n,r){const i=t.Cc(1,e,n);V0("Data must be an object, but it was:",i,r);const s=[],a=qt.empty();zi(r,(l,u)=>{const f=k0(e,l,n);u=Ke(u);const m=i.yc(f);if(u instanceof Yf)s.push(f);else{const d=Rc(u,m);d!=null&&(s.push(f),a.set(f,d))}});const o=new nn(s);return new AR(a,o,i.fieldTransforms)}function F9(t,e,n,r,i,s){const a=t.Cc(1,e,n),o=[ug(e,r,n)],l=[i];if(s.length%2!=0)throw new F(U.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let d=0;d<s.length;d+=2)o.push(ug(e,s[d])),l.push(s[d+1]);const u=[],f=qt.empty();for(let d=o.length-1;d>=0;--d)if(!IR(u,o[d])){const y=o[d];let x=l[d];x=Ke(x);const _=a.yc(y);if(x instanceof Yf)u.push(y);else{const S=Rc(x,_);S!=null&&(u.push(y),f.set(y,S))}}const m=new nn(u);return new AR(f,m,a.fieldTransforms)}function q9(t,e,n,r=!1){return Rc(n,t.Cc(r?4:3,e))}function Rc(t,e){if(CR(t=Ke(t)))return V0("Unsupported field value:",e,t),NR(t,e);if(t instanceof $f)return function(r,i){if(!SR(i.Ac))throw i.Sc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Sc(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(r,i){const s=[];let a=0;for(const o of r){let l=Rc(o,i.wc(a));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),a++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=Ke(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return C5(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=Ne.fromDate(r);return{timestampValue:Gh(i.serializer,s)}}if(r instanceof Ne){const s=new Ne(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Gh(i.serializer,s)}}if(r instanceof Wn)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof vn)return{bytesValue:Q2(i.serializer,r._byteString)};if(r instanceof Fe){const s=i.databaseId,a=r.firestore._databaseId;if(!a.isEqual(s))throw i.Sc(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:m0(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Zn)return function(a,o){return{mapValue:{fields:{[x2]:{stringValue:A2},[Fh]:{arrayValue:{values:a.toArray().map(u=>{if(typeof u!="number")throw o.Sc("VectorValues must only contain numeric values.");return u0(o.serializer,u)})}}}}}}(r,i);throw i.Sc(`Unsupported field value: ${If(r)}`)}(t,e)}function NR(t,e){const n={};return v2(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):zi(t,(r,i)=>{const s=Rc(i,e.mc(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function CR(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Ne||t instanceof Wn||t instanceof vn||t instanceof Fe||t instanceof $f||t instanceof Zn)}function V0(t,e,n){if(!CR(n)||!g2(n)){const r=If(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function ug(t,e,n){if((e=Ke(e))instanceof Gf)return e._internalPath;if(typeof e=="string")return k0(t,e);throw Xh("Field path arguments must be of type string or ",t,!1,void 0,n)}const H9=new RegExp("[~\\*/\\[\\]]");function k0(t,e,n){if(e.search(H9)>=0)throw Xh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Gf(...e.split("."))._internalPath}catch{throw Xh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Xh(t,e,n,r,i){const s=r&&!r.isEmpty(),a=i!==void 0;let o=`Function ${e}() called with invalid data`;n&&(o+=" (via `toFirestore()`)"),o+=". ";let l="";return(s||a)&&(l+=" (found",s&&(l+=` in field ${r}`),a&&(l+=` in document ${i}`),l+=")"),new F(U.INVALID_ARGUMENT,o+t+l)}function IR(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DR{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Fe(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new G9(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(O0("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class G9 extends DR{data(){return super.data()}}function O0(t,e){return typeof e=="string"?k0(t,e):e instanceof Gf?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PR(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new F(U.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class L0{}class MR extends L0{}function $9(t,e,...n){let r=[];e instanceof L0&&r.push(e),r=r.concat(n),function(s){const a=s.filter(l=>l instanceof B0).length,o=s.filter(l=>l instanceof U0).length;if(a>1||a>0&&o>0)throw new F(U.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class U0 extends MR{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new U0(e,n,r)}_apply(e){const n=this._parse(e);return VR(e._query,n),new Fi(e.firestore,e.converter,Jp(e._query,n))}_parse(e){const n=Kf(e.firestore);return function(s,a,o,l,u,f,m){let d;if(u.isKeyField()){if(f==="array-contains"||f==="array-contains-any")throw new F(U.INVALID_ARGUMENT,`Invalid Query. You can't perform '${f}' queries on documentId().`);if(f==="in"||f==="not-in"){I1(m,f);const x=[];for(const _ of m)x.push(C1(l,s,_));d={arrayValue:{values:x}}}else d=C1(l,s,m)}else f!=="in"&&f!=="not-in"&&f!=="array-contains-any"||I1(m,f),d=q9(o,a,m,f==="in"||f==="not-in");return Ze.create(u,f,d)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class B0 extends L0{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new B0(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Vn.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let a=i;const o=s.getFlattenedFilters();for(const l of o)VR(a,l),a=Jp(a,l)}(e._query,n),new Fi(e.firestore,e.converter,Jp(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class z0 extends MR{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new z0(e,n)}_apply(e){const n=function(i,s,a){if(i.startAt!==null)throw new F(U.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new F(U.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new jl(s,a)}(e._query,this._field,this._direction);return new Fi(e.firestore,e.converter,function(i,s){const a=i.explicitOrderBy.concat([s]);return new lo(i.path,i.collectionGroup,a,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}}function K9(t,e="asc"){const n=e,r=O0("orderBy",t);return z0._create(r,n)}function C1(t,e,n){if(typeof(n=Ke(n))=="string"){if(n==="")throw new F(U.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!M2(e)&&n.indexOf("/")!==-1)throw new F(U.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Ae.fromString(n));if(!K.isDocumentKey(r))throw new F(U.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Gb(t,new K(r))}if(n instanceof Fe)return Gb(t,n._key);throw new F(U.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${If(n)}.`)}function I1(t,e){if(!Array.isArray(t)||t.length===0)throw new F(U.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function VR(t,e){const n=function(i,s){for(const a of i)for(const o of a.getFlattenedFilters())if(s.indexOf(o.op)>=0)return o.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new F(U.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new F(U.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class Y9{convertValue(e,n="none"){switch(Pi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return $e(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Di(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Q(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return zi(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertVectorValue(e){var r,i,s;const n=(s=(i=(r=e.fields)==null?void 0:r[Fh].arrayValue)==null?void 0:i.values)==null?void 0:s.map(a=>$e(a.doubleValue));return new Zn(n)}convertGeoPoint(e){return new Wn($e(e.latitude),$e(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Mf(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Ul(e));default:return null}}convertTimestamp(e){const n=Ii(e);return new Ne(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Ae.fromString(e);ye(tR(r),9688,{name:e});const i=new Bl(r.get(1),r.get(3)),s=new K(r.popFirst(5));return i.isEqual(n)||kr(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kR(t,e,n){let r;return r=t?t.toFirestore(e):e,r}class $o{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class hs extends DR{constructor(e,n,r,i,s,a){super(e,n,r,i,a),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Ku(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(O0("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new F(U.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=hs._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}hs._jsonSchemaVersion="firestore/documentSnapshot/1.0",hs._jsonSchema={type:Je("string",hs._jsonSchemaVersion),bundleSource:Je("string","DocumentSnapshot"),bundleName:Je("string"),bundle:Je("string")};class Ku extends hs{data(e={}){return super.data(e)}}class fs{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new $o(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Ku(this._firestore,this._userDataWriter,r.key,r,new $o(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new F(U.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let a=0;return i._snapshot.docChanges.map(o=>{const l=new Ku(i._firestore,i._userDataWriter,o.doc.key,o.doc,new $o(i._snapshot.mutatedKeys.has(o.doc.key),i._snapshot.fromCache),i.query.converter);return o.doc,{type:"added",doc:l,oldIndex:-1,newIndex:a++}})}{let a=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(o=>s||o.type!==3).map(o=>{const l=new Ku(i._firestore,i._userDataWriter,o.doc.key,o.doc,new $o(i._snapshot.mutatedKeys.has(o.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,f=-1;return o.type!==0&&(u=a.indexOf(o.doc.key),a=a.delete(o.doc.key)),o.type!==1&&(a=a.add(o.doc),f=a.indexOf(o.doc.key)),{type:Q9(o.type),doc:l,oldIndex:u,newIndex:f}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new F(U.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=fs._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=i0.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],i=[];return this.docs.forEach(s=>{s._document!==null&&(n.push(s._document),r.push(this._userDataWriter.convertObjectMap(s._document.data.value.mapValue.fields,"previous")),i.push(s.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function Q9(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Q(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OR(t){t=Gt(t,Fe);const e=Gt(t.firestore,Lr);return M9(Hf(e),t._key).then(n=>LR(e,t,n))}fs._jsonSchemaVersion="firestore/querySnapshot/1.0",fs._jsonSchema={type:Je("string",fs._jsonSchemaVersion),bundleSource:Je("string","QuerySnapshot"),bundleName:Je("string"),bundle:Je("string")};class j0 extends Y9{constructor(e){super(),this.firestore=e}convertBytes(e){return new vn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Fe(this.firestore,null,n)}}function X9(t){t=Gt(t,Fi);const e=Gt(t.firestore,Lr),n=Hf(e),r=new j0(e);return PR(t._query),V9(n,t._query).then(i=>new fs(e,r,t,i))}function W9(t,e,n){t=Gt(t,Fe);const r=Gt(t.firestore,Lr),i=kR(t.converter,e);return Wf(r,[RR(Kf(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,_n.none())])}function ds(t,e,n,...r){t=Gt(t,Fe);const i=Gt(t.firestore,Lr),s=Kf(i);let a;return a=typeof(e=Ke(e))=="string"||e instanceof Gf?F9(s,"updateDoc",t._key,e,n,r):j9(s,"updateDoc",t._key,e),Wf(i,[a.toMutation(t._key,_n.exists(!0))])}function Qf(t){return Wf(Gt(t.firestore,Lr),[new h0(t._key,_n.none())])}function Xf(t,e){const n=Gt(t.firestore,Lr),r=Nt(t),i=kR(t.converter,e);return Wf(n,[RR(Kf(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,_n.exists(!1))]).then(()=>r)}function Cn(t,...e){var l,u,f;t=Ke(t);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||N1(e[r])||(n=e[r++]);const i={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(N1(e[r])){const m=e[r];e[r]=(l=m.next)==null?void 0:l.bind(m),e[r+1]=(u=m.error)==null?void 0:u.bind(m),e[r+2]=(f=m.complete)==null?void 0:f.bind(m)}let s,a,o;if(t instanceof Fe)a=Gt(t.firestore,Lr),o=Vf(t._key.path),s={next:m=>{e[r]&&e[r](LR(a,t,m))},error:e[r+1],complete:e[r+2]};else{const m=Gt(t,Fi);a=Gt(m.firestore,Lr),o=m._query;const d=new j0(a);s={next:y=>{e[r]&&e[r](new fs(a,d,m,y))},error:e[r+1],complete:e[r+2]},PR(t._query)}return function(d,y,x,_){const S=new D0(_),v=new N0(y,S,x);return d.asyncQueue.enqueueAndForget(async()=>A0(await Qh(d),v)),()=>{S.Nu(),d.asyncQueue.enqueueAndForget(async()=>S0(await Qh(d),v))}}(Hf(a),o,i,s)}function Wf(t,e){return function(r,i){const s=new Rr;return r.asyncQueue.enqueueAndForget(async()=>b9(await P9(r),i,s)),s.promise}(Hf(t),e)}function LR(t,e,n){const r=n.docs.get(e._key),i=new j0(t);return new hs(t,i,e._key,r,new $o(n.hasPendingWrites,n.fromCache),e.converter)}function UR(){return new M0("serverTimestamp")}(function(e,n=!0){(function(i){so=i})(Ps),ws(new Ni("firestore",(r,{instanceIdentifier:i,options:s})=>{const a=r.getProvider("app").getImmediate(),o=new Lr(new j3(r.getProvider("auth-internal")),new H3(a,r.getProvider("app-check-internal")),function(u,f){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new F(U.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Bl(u.options.projectId,f)}(a,i),a);return s={useFetchStreams:n,...s},o._setSettings(s),o},"PUBLIC").setMultipleInstances(!0)),$n(Pb,Mb,e),$n(Pb,Mb,"esm2020")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BR="firebasestorage.googleapis.com",Z9="storageBucket",J9=2*60*1e3,eU=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lr extends or{constructor(e,n,r=0){super(_m(e),`Firebase Storage: ${n} (${_m(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,lr.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return _m(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var rr;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(rr||(rr={}));function _m(t){return"storage/"+t}function tU(){const t="An unknown error occurred, please check the error payload for server response.";return new lr(rr.UNKNOWN,t)}function nU(){return new lr(rr.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function rU(){return new lr(rr.CANCELED,"User canceled the upload/download.")}function iU(t){return new lr(rr.INVALID_URL,"Invalid URL '"+t+"'.")}function sU(t){return new lr(rr.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function D1(t){return new lr(rr.INVALID_ARGUMENT,t)}function zR(){return new lr(rr.APP_DELETED,"The Firebase app was deleted.")}function aU(t){return new lr(rr.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class In{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=In.makeFromUrl(e,n)}catch{return new In(e,"")}if(r.path==="")return r;throw sU(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function s(N){N.path.charAt(N.path.length-1)==="/"&&(N.path_=N.path_.slice(0,-1))}const a="(/(.*))?$",o=new RegExp("^gs://"+i+a,"i"),l={bucket:1,path:3};function u(N){N.path_=decodeURIComponent(N.path)}const f="v[A-Za-z0-9_]+",m=n.replace(/[.]/g,"\\."),d="(/([^?#]*).*)?$",y=new RegExp(`^https?://${m}/${f}/b/${i}/o${d}`,"i"),x={bucket:1,path:3},_=n===BR?"(?:storage.googleapis.com|storage.cloud.google.com)":n,S="([^?#]*)",v=new RegExp(`^https?://${_}/${i}/${S}`,"i"),E=[{regex:o,indices:l,postModify:s},{regex:y,indices:x,postModify:u},{regex:v,indices:{bucket:1,path:2},postModify:u}];for(let N=0;N<E.length;N++){const M=E[N],L=M.regex.exec(e);if(L){const A=L[M.indices.bucket];let w=L[M.indices.path];w||(w=""),r=new In(A,w),M.postModify(r);break}}if(r==null)throw iU(e);return r}}class oU{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lU(t,e,n){let r=1,i=null,s=null,a=!1,o=0;function l(){return o===2}let u=!1;function f(...S){u||(u=!0,e.apply(null,S))}function m(S){i=setTimeout(()=>{i=null,t(y,l())},S)}function d(){s&&clearTimeout(s)}function y(S,...v){if(u){d();return}if(S){d(),f.call(null,S,...v);return}if(l()||a){d(),f.call(null,S,...v);return}r<64&&(r*=2);let E;o===1?(o=2,E=0):E=(r+Math.random())*1e3,m(E)}let x=!1;function _(S){x||(x=!0,d(),!u&&(i!==null?(S||(o=2),clearTimeout(i),m(0)):S||(o=1)))}return m(0),s=setTimeout(()=>{a=!0,_(!0)},n),_}function cU(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uU(t){return t!==void 0}function P1(t,e,n,r){if(r<e)throw D1(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw D1(`Invalid value for '${t}'. Expected ${n} or less.`)}function hU(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}var Wh;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Wh||(Wh={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fU(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,s=e.indexOf(t)!==-1;return n||i||s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dU{constructor(e,n,r,i,s,a,o,l,u,f,m,d=!0,y=!1){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=a,this.callback_=o,this.errorCallback_=l,this.timeout_=u,this.progressCallback_=f,this.connectionFactory_=m,this.retry=d,this.isUsingEmulator=y,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((x,_)=>{this.resolve_=x,this.reject_=_,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new Eu(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const a=o=>{const l=o.loaded,u=o.lengthComputable?o.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,u)};this.progressCallback_!==null&&s.addUploadProgressListener(a),s.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(a),this.pendingConnection_=null;const o=s.getErrorCode()===Wh.NO_ERROR,l=s.getStatus();if(!o||fU(l,this.additionalRetryCodes_)&&this.retry){const f=s.getErrorCode()===Wh.ABORT;r(!1,new Eu(!1,null,f));return}const u=this.successCodes_.indexOf(l)!==-1;r(!0,new Eu(u,s))})},n=(r,i)=>{const s=this.resolve_,a=this.reject_,o=i.connection;if(i.wasSuccessCode)try{const l=this.callback_(o,o.getResponse());uU(l)?s(l):s()}catch(l){a(l)}else if(o!==null){const l=tU();l.serverResponse=o.getErrorText(),this.errorCallback_?a(this.errorCallback_(o,l)):a(l)}else if(i.canceled){const l=this.appDelete_?zR():rU();a(l)}else{const l=nU();a(l)}};this.canceled_?n(!1,new Eu(!1,null,!0)):this.backoffId_=lU(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&cU(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Eu{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function mU(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function pU(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function gU(t,e){e&&(t["X-Firebase-GMPID"]=e)}function yU(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function vU(t,e,n,r,i,s,a=!0,o=!1){const l=hU(t.urlParams),u=t.url+l,f=Object.assign({},t.headers);return gU(f,e),mU(f,n),pU(f,s),yU(f,r),new dU(u,t.method,f,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,a,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EU(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function _U(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zh{constructor(e,n){this._service=e,n instanceof In?this._location=n:this._location=In.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Zh(e,n)}get root(){const e=new In(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return _U(this._location.path)}get storage(){return this._service}get parent(){const e=EU(this._location.path);if(e===null)return null;const n=new In(this._location.bucket,e);return new Zh(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw aU(e)}}function M1(t,e){const n=e==null?void 0:e[Z9];return n==null?null:In.makeFromBucketSpec(n,t)}function bU(t,e,n,r={}){t.host=`${e}:${n}`;const i=Ds(e);i&&(Hy(`https://${t.host}/b`),Gy("Storage",!0)),t._isUsingEmulator=!0,t._protocol=i?"https":"http";const{mockUserToken:s}=r;s&&(t._overrideAuthToken=typeof s=="string"?s:ES(s,t.app.options.projectId))}class wU{constructor(e,n,r,i,s,a=!1){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._isUsingEmulator=a,this._bucket=null,this._host=BR,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=J9,this._maxUploadRetryTime=eU,this._requests=new Set,i!=null?this._bucket=In.makeFromBucketSpec(i,this._host):this._bucket=M1(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=In.makeFromBucketSpec(this._url,e):this._bucket=M1(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){P1("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){P1("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(tn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Zh(this,e)}_makeRequest(e,n,r,i,s=!0){if(this._deleted)return new oU(zR());{const a=vU(e,this._appId,r,i,n,this._firebaseVersion,s,this._isUsingEmulator);return this._requests.add(a),a.getPromise().then(()=>this._requests.delete(a),()=>this._requests.delete(a)),a}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const V1="@firebase/storage",k1="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jR="storage";function TU(t=Yy(),e){t=Ke(t);const r=Sf(t,jR).getImmediate({identifier:e}),i=gS("storage");return i&&xU(r,...i),r}function xU(t,e,n,r={}){bU(t,e,n,r)}function AU(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new wU(n,r,i,e,Ps)}function SU(){ws(new Ni(jR,AU,"PUBLIC").setMultipleInstances(!0)),$n(V1,k1,""),$n(V1,k1,"esm2020")}SU();const RU={apiKey:"AIzaSyAeW-QKo-oDNkZO1OW-djBS9Tw38_Io45I",authDomain:"luxerental-60505.firebaseapp.com",projectId:"luxerental-60505",storageBucket:"luxerental-60505.appspot.com",messagingSenderId:"725285475499",appId:"1:725285475499:web:692b2ae744be1982eb13ee",measurementId:"G-1XKKTE8LNN"},F0=wS(RU),Ur=L3(F0),ge=O9(F0);TU(F0);const FR=I.createContext(void 0),NU=t=>{if(t.status!=="Accepted"||!t.rentalEndDate)return{fineAmount:0,fineStatus:"none"};const e=new Date,n=new Date(t.rentalEndDate),r=new Date(n.getTime()+4*60*60*1e3);if(e<=r)return{fineAmount:0,fineStatus:"none"};const i=Math.floor((e.getTime()-n.getTime())/(1e3*60*60*24));let s=0;return i===1||i===2?s=i*1e3:i>2&&i<=14?s=2e3*i:i>14&&(s=t.productPrice),{fineAmount:s,fineStatus:s>0?"unpaid":"none"}},CU=({children:t})=>{const[e,n]=I.useState([]);I.useEffect(()=>{const a=$9(kt(ge,"orders"),K9("createdAt","desc")),o=Cn(a,async l=>{const u=[];for(const f of l.docs){const m=f.data(),d=NU(m);if((d.fineAmount||d.fineStatus!=="none")&&(m.fineAmount!==d.fineAmount||m.fineStatus!==d.fineStatus)){const y=Nt(ge,"orders",f.id);await ds(y,{fineAmount:d.fineAmount,fineStatus:d.fineStatus})}u.push({...m,id:f.id,fineAmount:d.fineAmount,fineStatus:d.fineStatus})}n(u)});return()=>o()},[]);const r=async a=>{try{await Xf(kt(ge,"orders"),{...a,status:"Pending",fineAmount:0,fineStatus:"none",createdAt:Date.now(),timestamp:UR()})}catch(o){console.error("❌ Error adding order:",o)}},i=async(a,o)=>{try{const l=Nt(ge,"orders",a);await ds(l,{status:o})}catch(l){console.error("❌ Error updating status:",l)}},s=async(a,o,l)=>{try{const u=Nt(ge,"orders",a);await ds(u,{fineStatus:o,fineProof:l})}catch(u){console.error("❌ Error updating fine status:",u)}};return h.createElement(FR.Provider,{value:{orders:e,addOrder:r,updateOrderStatus:i,updateFineStatus:s}},t)},q0=()=>{const t=I.useContext(FR);if(!t)throw new Error("useOrders must be used inside OrderProvider");return t},IU=()=>{const[t,e]=I.useState(!1),[n,r]=I.useState(null),[i,s]=I.useState(!1),[a,o]=I.useState(!1),[l,u]=I.useState([]),f=I.useRef(null),m=xn(),d=ar(),{orders:y}=q0(),x=["Home","Shop","About","Policies","Contact","Blog"];I.useEffect(()=>{const N=QS(Ur,M=>{r(M)});return()=>N()},[]),I.useEffect(()=>{const N=M=>{f.current&&!f.current.contains(M.target)&&(s(!1),o(!1))};return document.addEventListener("mousedown",N),()=>document.removeEventListener("mousedown",N)},[]),I.useEffect(()=>{if(!n)return;y.filter(M=>M.userId===n.uid).forEach(M=>{let L="",A;M.status==="Accepted"?L=`✅ Your order "${M.productTitle}" was Accepted`:M.status==="Rejected"?L=`❌ Your order "${M.productTitle}" was Rejected`:M.status==="Returned"?L=`📦 Your return for "${M.productTitle}" has been Confirmed`:M.status==="ReturnRejected"?(L=`⚠️ Your return request for "${M.productTitle}" was Rejected. Please confirm within 1 day, otherwise full payment will be charged.`,A=Date.now()+24*60*60*1e3):M.status==="Pending"&&(L=`⏳ Your order "${M.productTitle}" is Pending`),L&&u(w=>w.some(R=>R.message===L)?w:[...w,{message:L,read:!1,deadline:A}])})},[y,n]),I.useEffect(()=>{const N=setInterval(()=>{u(M=>M.map(L=>L.deadline?L.deadline-Date.now()<=0?{...L,message:"⚠️ Deadline passed. Full payment will be charged.",deadline:void 0}:{...L}:L))},1e3);return()=>clearInterval(N)},[]);const _=l.filter(N=>!N.read).length,S=()=>{o(!a),a||u(N=>N.map(M=>({...M,read:!0})))},v=async()=>{await XS(Ur),d("/login")},b=N=>{if(!N)return"";const M=N-Date.now();if(M<=0)return"";const L=Math.floor(M/(1e3*60*60)),A=Math.floor(M%(1e3*60*60)/(1e3*60)),w=Math.floor(M%(1e3*60)/1e3);return`⏳ ${L}h ${A}m ${w}s left`},E=()=>{var N;return m.pathname==="/login"?h.createElement(ie,{to:"/signup",className:"bg-blue-700 text-white px-5 py-2 rounded-full font-medium shadow-md hover:bg-blue-800 transition-all duration-300 hover:scale-105"},"Sign Up"):m.pathname==="/signup"?h.createElement(ie,{to:"/login",className:"bg-blue-700 text-white px-5 py-2 rounded-full font-medium shadow-md hover:bg-blue-800 transition-all duration-300 hover:scale-105"},"Login"):n?h.createElement("div",{className:"relative flex items-center gap-4",ref:f},h.createElement("div",{className:"relative"},h.createElement("button",{onClick:S,className:"p-2 rounded-full hover:bg-gray-100 transition"},h.createElement(M4,{className:"h-6 w-6 text-gray-700"}),_>0&&h.createElement("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs font-bold w-5 h-5 flex items-center justify-center rounded-full"},_)),a&&h.createElement("div",{className:"absolute right-0 mt-2 w-80 bg-white border border-gray-200 rounded-lg shadow-lg z-50"},l.length===0?h.createElement("p",{className:"p-4 text-gray-500 text-sm text-center"},"No new notifications"):h.createElement("ul",{className:"max-h-64 overflow-y-auto"},l.map((M,L)=>h.createElement("li",{key:L,className:`p-3 text-sm border-b last:border-none ${M.read?"text-gray-500":"font-medium text-gray-800"} hover:bg-gray-50`},h.createElement("div",null,M.message),M.deadline&&h.createElement("div",{className:"text-xs text-red-500 mt-1"},b(M.deadline))))))),h.createElement("button",{onClick:()=>s(!i),className:"flex items-center space-x-2 focus:outline-none"},h.createElement("div",{className:"w-8 h-8 bg-blue-600 rounded-full flex items-center justify-center text-white font-bold text-2xl"},((N=n.displayName)==null?void 0:N.charAt(0).toUpperCase())||"U"),h.createElement("span",{className:"text-sm font-medium text-gray-800"},n.displayName||"Profile")),i&&h.createElement("div",{className:"absolute right-0 mt-12 w-40 bg-white border border-gray-200 rounded-lg shadow-lg z-50"},h.createElement("button",{onClick:()=>{d("/profile"),s(!1)},className:"w-full text-left px-4 py-2 hover:bg-gray-100 text-sm text-gray-700"},"View Profile"),h.createElement("button",{onClick:v,className:"w-full text-left px-4 py-2 hover:bg-gray-100 text-sm text-red-600 flex items-center space-x-2"},h.createElement(iS,{className:"h-4 w-4"}),h.createElement("span",null,"Logout")))):h.createElement(ie,{to:"/login",className:"bg-blue-700 text-white px-5 py-2 rounded-full font-medium shadow-md hover:bg-blue-800 transition-all duration-300 hover:scale-105"},"Login")};return h.createElement("nav",{className:"bg-white/90 backdrop-blur-md shadow-md fixed w-full z-50 border-b border-gray-200"},h.createElement("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},h.createElement("div",{className:"flex justify-between items-center h-16"},h.createElement(ie,{to:"/",className:"flex items-center space-x-2 group"},h.createElement(rS,{className:"h-8 w-8 text-blue-600 group-hover:text-purple-600 transition-colors duration-300"}),h.createElement("span",{className:"text-2xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent tracking-tight"},"LuxeRental")),h.createElement("div",{className:"hidden md:block"},h.createElement("div",{className:"ml-10 flex items-center space-x-8"},x.map(N=>h.createElement(Vp,{key:N,to:`/${N.toLowerCase()==="home"?"":N.toLowerCase()}`,className:({isActive:M})=>`relative font-medium transition-colors duration-200 group ${M?"text-blue-700":"text-gray-700 hover:text-blue-700"}`},N,h.createElement("span",{className:"absolute left-0 -bottom-1 w-0 h-0.5 bg-blue-700 transition-all group-hover:w-full"}))))),h.createElement("div",{className:"hidden md:flex items-center space-x-5"},h.createElement(ie,{to:"/wishlist"},h.createElement(Dh,{className:"h-6 w-6 text-gray-600 hover:text-red-500 cursor-pointer transition-colors duration-200"})),E()),h.createElement("div",{className:"md:hidden"},h.createElement("button",{onClick:()=>e(!t),className:"text-gray-700 hover:text-blue-700"},t?h.createElement(hS,{className:"h-7 w-7"}):h.createElement(d6,{className:"h-7 w-7"})))),t&&h.createElement("div",{className:"md:hidden"},h.createElement("div",{className:"px-3 pt-3 pb-6 space-y-2 bg-white/95 shadow-lg rounded-b-xl border-t border-gray-200"},x.map(N=>h.createElement(Vp,{key:N,to:`/${N.toLowerCase()==="home"?"":N.toLowerCase()}`,className:({isActive:M})=>`block px-3 py-2 rounded-lg font-medium transition-colors duration-200 ${M?"text-blue-700 bg-blue-50":"text-gray-700 hover:text-blue-700"}`,onClick:()=>e(!1)},N)),h.createElement(ie,{to:"/wishlist",className:"flex items-center space-x-2 px-3 py-2 rounded-lg font-medium text-gray-700 hover:text-red-500 transition-colors",onClick:()=>e(!1)},h.createElement(Dh,{className:"h-5 w-5"}),h.createElement("span",null,"Wishlist")),h.createElement("div",{onClick:()=>e(!1)},E())))))},DU=()=>h.createElement("footer",{className:"bg-gray-900 text-white"},h.createElement("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12"},h.createElement("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8"},h.createElement("div",{className:"col-span-1 md:col-span-2"},h.createElement(ie,{to:"/",className:"flex items-center space-x-2 mb-4"},h.createElement(rS,{className:"h-8 w-8 text-blue-600 group-hover:text-purple-600 transition-colors duration-300"}),h.createElement("span",{className:"text-2xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent"},"LuxeRental")),h.createElement("p",{className:"text-gray-300 mb-6 max-w-md"},"Rent designer outfits for your special events. Look your best without spending a fortune on wedding and event wear."),h.createElement("div",{className:"flex space-x-4"},h.createElement(r6,{className:"h-6 w-6 text-gray-300 hover:text-white cursor-pointer transition-colors duration-200"}),h.createElement(W4,{className:"h-6 w-6 text-gray-300 hover:text-white cursor-pointer transition-colors duration-200"}),h.createElement(L6,{className:"h-6 w-6 text-gray-300 hover:text-white cursor-pointer transition-colors duration-200"}))),h.createElement("div",null,h.createElement("h3",{className:"text-lg font-semibold mb-4"},"Quick Links"),h.createElement("ul",{className:"space-y-2"},h.createElement("li",null,h.createElement(ie,{to:"/shop",className:"text-gray-300 hover:text-white transition-colors duration-200"},"Browse Collection")),h.createElement("li",null,h.createElement(ie,{to:"/about",className:"text-gray-300 hover:text-white transition-colors duration-200"},"About Us")),h.createElement("li",null,h.createElement(ie,{to:"/policies",className:"text-gray-300 hover:text-white transition-colors duration-200"},"Rental Policy")),h.createElement("li",null,h.createElement(ie,{to:"/contact",className:"text-gray-300 hover:text-white transition-colors duration-200"},"Contact Us")))),h.createElement("div",null,h.createElement("h3",{className:"text-lg font-semibold mb-4"},"Contact Us"),h.createElement("div",{className:"space-y-2"},h.createElement("div",{className:"flex items-center space-x-2"},h.createElement(_s,{className:"h-5 w-5 text-amber-600"}),h.createElement("span",{className:"text-gray-300"},"luxerental08@gmail.com")),h.createElement("div",{className:"flex items-center space-x-2"},h.createElement(jy,{className:"h-5 w-5 text-amber-600"}),h.createElement("span",{className:"text-gray-300"},"+923010822243"))))),h.createElement("div",{className:"border-t border-gray-800 mt-8 pt-8 text-center"},h.createElement("p",{className:"text-gray-300"},"© 2025 LuxeRental. All rights reserved. Making luxury fashion accessible to everyone.")))),Pt=({children:t,requireAdmin:e=!1})=>{const[n,r]=I.useState(null),[i,s]=I.useState(!0);return I.useEffect(()=>{const a=QS(Ur,o=>{r(o),s(!1)});return()=>a()},[]),i?h.createElement("p",null,"Loading..."):n?e&&n.email!=="luxerental12@gmail.com"?h.createElement(W_,{to:"/"}):h.createElement(h.Fragment,null,t):h.createElement(W_,{to:"/login"})},qR=I.createContext(),HR=({children:t})=>{const[e,n]=I.useState(()=>{const s=localStorage.getItem("wishlist");return s?JSON.parse(s):[]});I.useEffect(()=>{localStorage.setItem("wishlist",JSON.stringify(e))},[e]);const r=s=>{n(a=>a.find(l=>l.id===s.id)?a:[...a,s])},i=s=>{n(a=>a.filter(o=>o.id!==s))};return h.createElement(qR.Provider,{value:{wishlist:e,addToWishlist:r,removeFromWishlist:i}},t)},H0=()=>I.useContext(qR),PU=I.createContext(void 0),GR=({children:t})=>{const[e,n]=I.useState([]);I.useEffect(()=>{const s=Cn(kt(ge,"products"),a=>{n(a.docs.map(o=>({id:o.id,...o.data()})))});return()=>s()},[]);const r=async s=>{await Xf(kt(ge,"products"),s)},i=async s=>{await Qf(Nt(ge,"products",s))};return h.createElement(PU.Provider,{value:{products:e,addProduct:r,removeProduct:i}},t)};var $R={exports:{}},Zf={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var MU=Symbol.for("react.transitional.element"),VU=Symbol.for("react.fragment");function KR(t,e,n){var r=null;if(n!==void 0&&(r=""+n),e.key!==void 0&&(r=""+e.key),"key"in e){n={};for(var i in e)i!=="key"&&(n[i]=e[i])}else n=e;return e=n.ref,{$$typeof:MU,type:t,key:r,ref:e!==void 0?e:null,props:n}}Zf.Fragment=VU;Zf.jsx=KR;Zf.jsxs=KR;$R.exports=Zf;var hg=$R.exports;const YR=I.createContext({});function kU(t){const e=I.useRef(null);return e.current===null&&(e.current=t()),e.current}const G0=typeof window<"u",OU=G0?I.useLayoutEffect:I.useEffect,$0=I.createContext(null);function K0(t,e){t.indexOf(e)===-1&&t.push(e)}function Y0(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const Br=(t,e,n)=>n>e?e:n<t?t:n;let Q0=()=>{};const zr={},QR=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function XR(t){return typeof t=="object"&&t!==null}const WR=t=>/^0[^.\s]+$/u.test(t);function X0(t){let e;return()=>(e===void 0&&(e=t()),e)}const bn=t=>t,LU=(t,e)=>n=>e(t(n)),Nc=(...t)=>t.reduce(LU),Gl=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r};class W0{constructor(){this.subscriptions=[]}add(e){return K0(this.subscriptions,e),()=>Y0(this.subscriptions,e)}notify(e,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,n,r);else for(let s=0;s<i;s++){const a=this.subscriptions[s];a&&a(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Jn=t=>t*1e3,er=t=>t/1e3;function ZR(t,e){return e?t*(1e3/e):0}const JR=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,UU=1e-7,BU=12;function zU(t,e,n,r,i){let s,a,o=0;do a=e+(n-e)/2,s=JR(a,r,i)-t,s>0?n=a:e=a;while(Math.abs(s)>UU&&++o<BU);return a}function Cc(t,e,n,r){if(t===e&&n===r)return bn;const i=s=>zU(s,0,1,t,n);return s=>s===0||s===1?s:JR(i(s),e,r)}const eN=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,tN=t=>e=>1-t(1-e),nN=Cc(.33,1.53,.69,.99),Z0=tN(nN),rN=eN(Z0),iN=t=>(t*=2)<1?.5*Z0(t):.5*(2-Math.pow(2,-10*(t-1))),J0=t=>1-Math.sin(Math.acos(t)),sN=tN(J0),aN=eN(J0),jU=Cc(.42,0,1,1),FU=Cc(0,0,.58,1),oN=Cc(.42,0,.58,1),qU=t=>Array.isArray(t)&&typeof t[0]!="number",lN=t=>Array.isArray(t)&&typeof t[0]=="number",HU={linear:bn,easeIn:jU,easeInOut:oN,easeOut:FU,circIn:J0,circInOut:aN,circOut:sN,backIn:Z0,backInOut:rN,backOut:nN,anticipate:iN},GU=t=>typeof t=="string",O1=t=>{if(lN(t)){Q0(t.length===4);const[e,n,r,i]=t;return Cc(e,n,r,i)}else if(GU(t))return HU[t];return t},_u=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function $U(t,e){let n=new Set,r=new Set,i=!1,s=!1;const a=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1};function l(f){a.has(f)&&(u.schedule(f),t()),f(o)}const u={schedule:(f,m=!1,d=!1)=>{const x=d&&i?n:r;return m&&a.add(f),x.has(f)||x.add(f),f},cancel:f=>{r.delete(f),a.delete(f)},process:f=>{if(o=f,i){s=!0;return}i=!0,[n,r]=[r,n],n.forEach(l),n.clear(),i=!1,s&&(s=!1,u.process(f))}};return u}const KU=40;function cN(t,e){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=()=>n=!0,a=_u.reduce((E,N)=>(E[N]=$U(s),E),{}),{setup:o,read:l,resolveKeyframes:u,preUpdate:f,update:m,preRender:d,render:y,postRender:x}=a,_=()=>{const E=zr.useManualTiming?i.timestamp:performance.now();n=!1,zr.useManualTiming||(i.delta=r?1e3/60:Math.max(Math.min(E-i.timestamp,KU),1)),i.timestamp=E,i.isProcessing=!0,o.process(i),l.process(i),u.process(i),f.process(i),m.process(i),d.process(i),y.process(i),x.process(i),i.isProcessing=!1,n&&e&&(r=!1,t(_))},S=()=>{n=!0,r=!0,i.isProcessing||t(_)};return{schedule:_u.reduce((E,N)=>{const M=a[N];return E[N]=(L,A=!1,w=!1)=>(n||S(),M.schedule(L,A,w)),E},{}),cancel:E=>{for(let N=0;N<_u.length;N++)a[_u[N]].cancel(E)},state:i,steps:a}}const{schedule:Me,cancel:ki,state:ft,steps:bm}=cN(typeof requestAnimationFrame<"u"?requestAnimationFrame:bn,!0);let Yu;function YU(){Yu=void 0}const Ht={now:()=>(Yu===void 0&&Ht.set(ft.isProcessing||zr.useManualTiming?ft.timestamp:performance.now()),Yu),set:t=>{Yu=t,queueMicrotask(YU)}},uN=t=>e=>typeof e=="string"&&e.startsWith(t),ev=uN("--"),QU=uN("var(--"),tv=t=>QU(t)?XU.test(t.split("/*")[0].trim()):!1,XU=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,uo={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},$l={...uo,transform:t=>Br(0,1,t)},bu={...uo,default:1},pl=t=>Math.round(t*1e5)/1e5,nv=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function WU(t){return t==null}const ZU=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,rv=(t,e)=>n=>!!(typeof n=="string"&&ZU.test(n)&&n.startsWith(t)||e&&!WU(n)&&Object.prototype.hasOwnProperty.call(n,e)),hN=(t,e,n)=>r=>{if(typeof r!="string")return r;const[i,s,a,o]=r.match(nv);return{[t]:parseFloat(i),[e]:parseFloat(s),[n]:parseFloat(a),alpha:o!==void 0?parseFloat(o):1}},JU=t=>Br(0,255,t),wm={...uo,transform:t=>Math.round(JU(t))},ns={test:rv("rgb","red"),parse:hN("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+wm.transform(t)+", "+wm.transform(e)+", "+wm.transform(n)+", "+pl($l.transform(r))+")"};function e7(t){let e="",n="",r="",i="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),i=t.substring(4,5),e+=e,n+=n,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const fg={test:rv("#"),parse:e7,transform:ns.transform},Ic=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Wr=Ic("deg"),tr=Ic("%"),X=Ic("px"),t7=Ic("vh"),n7=Ic("vw"),L1={...tr,parse:t=>tr.parse(t)/100,transform:t=>tr.transform(t*100)},ca={test:rv("hsl","hue"),parse:hN("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+tr.transform(pl(e))+", "+tr.transform(pl(n))+", "+pl($l.transform(r))+")"},Xe={test:t=>ns.test(t)||fg.test(t)||ca.test(t),parse:t=>ns.test(t)?ns.parse(t):ca.test(t)?ca.parse(t):fg.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?ns.transform(t):ca.transform(t),getAnimatableNone:t=>{const e=Xe.parse(t);return e.alpha=0,Xe.transform(e)}},r7=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function i7(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(nv))==null?void 0:e.length)||0)+(((n=t.match(r7))==null?void 0:n.length)||0)>0}const fN="number",dN="color",s7="var",a7="var(",U1="${}",o7=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Kl(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},i=[];let s=0;const o=e.replace(o7,l=>(Xe.test(l)?(r.color.push(s),i.push(dN),n.push(Xe.parse(l))):l.startsWith(a7)?(r.var.push(s),i.push(s7),n.push(l)):(r.number.push(s),i.push(fN),n.push(parseFloat(l))),++s,U1)).split(U1);return{values:n,split:o,indexes:r,types:i}}function mN(t){return Kl(t).values}function pN(t){const{split:e,types:n}=Kl(t),r=e.length;return i=>{let s="";for(let a=0;a<r;a++)if(s+=e[a],i[a]!==void 0){const o=n[a];o===fN?s+=pl(i[a]):o===dN?s+=Xe.transform(i[a]):s+=i[a]}return s}}const l7=t=>typeof t=="number"?0:Xe.test(t)?Xe.getAnimatableNone(t):t;function c7(t){const e=mN(t);return pN(t)(e.map(l7))}const Oi={test:i7,parse:mN,createTransformer:pN,getAnimatableNone:c7};function Tm(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function u7({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let i=0,s=0,a=0;if(!e)i=s=a=n;else{const o=n<.5?n*(1+e):n+e-n*e,l=2*n-o;i=Tm(l,o,t+1/3),s=Tm(l,o,t),a=Tm(l,o,t-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(a*255),alpha:r}}function Jh(t,e){return n=>n>0?e:t}const Oe=(t,e,n)=>t+(e-t)*n,xm=(t,e,n)=>{const r=t*t,i=n*(e*e-r)+r;return i<0?0:Math.sqrt(i)},h7=[fg,ns,ca],f7=t=>h7.find(e=>e.test(t));function B1(t){const e=f7(t);if(!e)return!1;let n=e.parse(t);return e===ca&&(n=u7(n)),n}const z1=(t,e)=>{const n=B1(t),r=B1(e);if(!n||!r)return Jh(t,e);const i={...n};return s=>(i.red=xm(n.red,r.red,s),i.green=xm(n.green,r.green,s),i.blue=xm(n.blue,r.blue,s),i.alpha=Oe(n.alpha,r.alpha,s),ns.transform(i))},dg=new Set(["none","hidden"]);function d7(t,e){return dg.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function m7(t,e){return n=>Oe(t,e,n)}function iv(t){return typeof t=="number"?m7:typeof t=="string"?tv(t)?Jh:Xe.test(t)?z1:y7:Array.isArray(t)?gN:typeof t=="object"?Xe.test(t)?z1:p7:Jh}function gN(t,e){const n=[...t],r=n.length,i=t.map((s,a)=>iv(s)(s,e[a]));return s=>{for(let a=0;a<r;a++)n[a]=i[a](s);return n}}function p7(t,e){const n={...t,...e},r={};for(const i in n)t[i]!==void 0&&e[i]!==void 0&&(r[i]=iv(t[i])(t[i],e[i]));return i=>{for(const s in r)n[s]=r[s](i);return n}}function g7(t,e){const n=[],r={color:0,var:0,number:0};for(let i=0;i<e.values.length;i++){const s=e.types[i],a=t.indexes[s][r[s]],o=t.values[a]??0;n[i]=o,r[s]++}return n}const y7=(t,e)=>{const n=Oi.createTransformer(e),r=Kl(t),i=Kl(e);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?dg.has(t)&&!i.values.length||dg.has(e)&&!r.values.length?d7(t,e):Nc(gN(g7(r,i),i.values),n):Jh(t,e)};function yN(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?Oe(t,e,n):iv(t)(t,e)}const v7=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>Me.update(e,n),stop:()=>ki(e),now:()=>ft.isProcessing?ft.timestamp:Ht.now()}},vN=(t,e,n=10)=>{let r="";const i=Math.max(Math.round(e/n),2);for(let s=0;s<i;s++)r+=Math.round(t(s/(i-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},ef=2e4;function sv(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<ef;)e+=n,r=t.next(e);return e>=ef?1/0:e}function E7(t,e=100,n){const r=n({...t,keyframes:[0,e]}),i=Math.min(sv(r),ef);return{type:"keyframes",ease:s=>r.next(i*s).value/e,duration:er(i)}}const _7=5;function EN(t,e,n){const r=Math.max(e-_7,0);return ZR(n-t(r),e-r)}const Be={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Am=.001;function b7({duration:t=Be.duration,bounce:e=Be.bounce,velocity:n=Be.velocity,mass:r=Be.mass}){let i,s,a=1-e;a=Br(Be.minDamping,Be.maxDamping,a),t=Br(Be.minDuration,Be.maxDuration,er(t)),a<1?(i=u=>{const f=u*a,m=f*t,d=f-n,y=mg(u,a),x=Math.exp(-m);return Am-d/y*x},s=u=>{const m=u*a*t,d=m*n+n,y=Math.pow(a,2)*Math.pow(u,2)*t,x=Math.exp(-m),_=mg(Math.pow(u,2),a);return(-i(u)+Am>0?-1:1)*((d-y)*x)/_}):(i=u=>{const f=Math.exp(-u*t),m=(u-n)*t+1;return-Am+f*m},s=u=>{const f=Math.exp(-u*t),m=(n-u)*(t*t);return f*m});const o=5/t,l=T7(i,s,o);if(t=Jn(t),isNaN(l))return{stiffness:Be.stiffness,damping:Be.damping,duration:t};{const u=Math.pow(l,2)*r;return{stiffness:u,damping:a*2*Math.sqrt(r*u),duration:t}}}const w7=12;function T7(t,e,n){let r=n;for(let i=1;i<w7;i++)r=r-t(r)/e(r);return r}function mg(t,e){return t*Math.sqrt(1-e*e)}const x7=["duration","bounce"],A7=["stiffness","damping","mass"];function j1(t,e){return e.some(n=>t[n]!==void 0)}function S7(t){let e={velocity:Be.velocity,stiffness:Be.stiffness,damping:Be.damping,mass:Be.mass,isResolvedFromDuration:!1,...t};if(!j1(t,A7)&&j1(t,x7))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),i=r*r,s=2*Br(.05,1,1-(t.bounce||0))*Math.sqrt(i);e={...e,mass:Be.mass,stiffness:i,damping:s}}else{const n=b7(t);e={...e,...n,mass:Be.mass},e.isResolvedFromDuration=!0}return e}function tf(t=Be.visualDuration,e=Be.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:i}=n;const s=n.keyframes[0],a=n.keyframes[n.keyframes.length-1],o={done:!1,value:s},{stiffness:l,damping:u,mass:f,duration:m,velocity:d,isResolvedFromDuration:y}=S7({...n,velocity:-er(n.velocity||0)}),x=d||0,_=u/(2*Math.sqrt(l*f)),S=a-s,v=er(Math.sqrt(l/f)),b=Math.abs(S)<5;r||(r=b?Be.restSpeed.granular:Be.restSpeed.default),i||(i=b?Be.restDelta.granular:Be.restDelta.default);let E;if(_<1){const M=mg(v,_);E=L=>{const A=Math.exp(-_*v*L);return a-A*((x+_*v*S)/M*Math.sin(M*L)+S*Math.cos(M*L))}}else if(_===1)E=M=>a-Math.exp(-v*M)*(S+(x+v*S)*M);else{const M=v*Math.sqrt(_*_-1);E=L=>{const A=Math.exp(-_*v*L),w=Math.min(M*L,300);return a-A*((x+_*v*S)*Math.sinh(w)+M*S*Math.cosh(w))/M}}const N={calculatedDuration:y&&m||null,next:M=>{const L=E(M);if(y)o.done=M>=m;else{let A=M===0?x:0;_<1&&(A=M===0?Jn(x):EN(E,M,L));const w=Math.abs(A)<=r,R=Math.abs(a-L)<=i;o.done=w&&R}return o.value=o.done?a:L,o},toString:()=>{const M=Math.min(sv(N),ef),L=vN(A=>N.next(M*A).value,M,30);return M+"ms "+L},toTransition:()=>{}};return N}tf.applyToOptions=t=>{const e=E7(t,100,tf);return t.ease=e.ease,t.duration=Jn(e.duration),t.type="keyframes",t};function pg({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:a,min:o,max:l,restDelta:u=.5,restSpeed:f}){const m=t[0],d={done:!1,value:m},y=w=>o!==void 0&&w<o||l!==void 0&&w>l,x=w=>o===void 0?l:l===void 0||Math.abs(o-w)<Math.abs(l-w)?o:l;let _=n*e;const S=m+_,v=a===void 0?S:a(S);v!==S&&(_=v-m);const b=w=>-_*Math.exp(-w/r),E=w=>v+b(w),N=w=>{const R=b(w),C=E(w);d.done=Math.abs(R)<=u,d.value=d.done?v:C};let M,L;const A=w=>{y(d.value)&&(M=w,L=tf({keyframes:[d.value,x(d.value)],velocity:EN(E,w,d.value),damping:i,stiffness:s,restDelta:u,restSpeed:f}))};return A(0),{calculatedDuration:null,next:w=>{let R=!1;return!L&&M===void 0&&(R=!0,N(w),A(w)),M!==void 0&&w>=M?L.next(w-M):(!R&&N(w),d)}}}function R7(t,e,n){const r=[],i=n||zr.mix||yN,s=t.length-1;for(let a=0;a<s;a++){let o=i(t[a],t[a+1]);if(e){const l=Array.isArray(e)?e[a]||bn:e;o=Nc(l,o)}r.push(o)}return r}function N7(t,e,{clamp:n=!0,ease:r,mixer:i}={}){const s=t.length;if(Q0(s===e.length),s===1)return()=>e[0];if(s===2&&e[0]===e[1])return()=>e[1];const a=t[0]===t[1];t[0]>t[s-1]&&(t=[...t].reverse(),e=[...e].reverse());const o=R7(e,r,i),l=o.length,u=f=>{if(a&&f<t[0])return e[0];let m=0;if(l>1)for(;m<t.length-2&&!(f<t[m+1]);m++);const d=Gl(t[m],t[m+1],f);return o[m](d)};return n?f=>u(Br(t[0],t[s-1],f)):u}function C7(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const i=Gl(0,e,r);t.push(Oe(n,1,i))}}function I7(t){const e=[0];return C7(e,t.length-1),e}function D7(t,e){return t.map(n=>n*e)}function P7(t,e){return t.map(()=>e||oN).splice(0,t.length-1)}function gl({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const i=qU(r)?r.map(O1):O1(r),s={done:!1,value:e[0]},a=D7(n&&n.length===e.length?n:I7(e),t),o=N7(a,e,{ease:Array.isArray(i)?i:P7(e,i)});return{calculatedDuration:t,next:l=>(s.value=o(l),s.done=l>=t,s)}}const M7=t=>t!==null;function av(t,{repeat:e,repeatType:n="loop"},r,i=1){const s=t.filter(M7),o=i<0||e&&n!=="loop"&&e%2===1?0:s.length-1;return!o||r===void 0?s[o]:r}const V7={decay:pg,inertia:pg,tween:gl,keyframes:gl,spring:tf};function _N(t){typeof t.type=="string"&&(t.type=V7[t.type])}class ov{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const k7=t=>t/100;class lv extends ov{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var r,i;const{motionValue:n}=this.options;n&&n.updatedAt!==Ht.now()&&this.tick(Ht.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(i=(r=this.options).onStop)==null||i.call(r))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;_N(e);const{type:n=gl,repeat:r=0,repeatDelay:i=0,repeatType:s,velocity:a=0}=e;let{keyframes:o}=e;const l=n||gl;l!==gl&&typeof o[0]!="number"&&(this.mixKeyframes=Nc(k7,yN(o[0],o[1])),o=[0,100]);const u=l({...e,keyframes:o});s==="mirror"&&(this.mirroredGenerator=l({...e,keyframes:[...o].reverse(),velocity:-a})),u.calculatedDuration===null&&(u.calculatedDuration=sv(u));const{calculatedDuration:f}=u;this.calculatedDuration=f,this.resolvedDuration=f+i,this.totalDuration=this.resolvedDuration*(r+1)-i,this.generator=u}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:r,totalDuration:i,mixKeyframes:s,mirroredGenerator:a,resolvedDuration:o,calculatedDuration:l}=this;if(this.startTime===null)return r.next(0);const{delay:u=0,keyframes:f,repeat:m,repeatType:d,repeatDelay:y,type:x,onUpdate:_,finalKeyframe:S}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-i/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const v=this.currentTime-u*(this.playbackSpeed>=0?1:-1),b=this.playbackSpeed>=0?v<0:v>i;this.currentTime=Math.max(v,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=i);let E=this.currentTime,N=r;if(m){const w=Math.min(this.currentTime,i)/o;let R=Math.floor(w),C=w%1;!C&&w>=1&&(C=1),C===1&&R--,R=Math.min(R,m+1),!!(R%2)&&(d==="reverse"?(C=1-C,y&&(C-=y/o)):d==="mirror"&&(N=a)),E=Br(0,1,C)*o}const M=b?{done:!1,value:f[0]}:N.next(E);s&&(M.value=s(M.value));let{done:L}=M;!b&&l!==null&&(L=this.playbackSpeed>=0?this.currentTime>=i:this.currentTime<=0);const A=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&L);return A&&x!==pg&&(M.value=av(f,this.options,S,this.speed)),_&&_(M.value),A&&this.finish(),M}then(e,n){return this.finished.then(e,n)}get duration(){return er(this.calculatedDuration)}get time(){return er(this.currentTime)}set time(e){var n;e=Jn(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Ht.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=er(this.currentTime))}play(){var i,s;if(this.isStopped)return;const{driver:e=v7,startTime:n}=this.options;this.driver||(this.driver=e(a=>this.tick(a))),(s=(i=this.options).onPlay)==null||s.call(i);const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Ht.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(e=this.options).onComplete)==null||n.call(e)}cancel(){var e,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(e=this.options).onCancel)==null||n.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),e.observe(this)}}function O7(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const rs=t=>t*180/Math.PI,gg=t=>{const e=rs(Math.atan2(t[1],t[0]));return yg(e)},L7={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:gg,rotateZ:gg,skewX:t=>rs(Math.atan(t[1])),skewY:t=>rs(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},yg=t=>(t=t%360,t<0&&(t+=360),t),F1=gg,q1=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),H1=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),U7={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:q1,scaleY:H1,scale:t=>(q1(t)+H1(t))/2,rotateX:t=>yg(rs(Math.atan2(t[6],t[5]))),rotateY:t=>yg(rs(Math.atan2(-t[2],t[0]))),rotateZ:F1,rotate:F1,skewX:t=>rs(Math.atan(t[4])),skewY:t=>rs(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function vg(t){return t.includes("scale")?1:0}function Eg(t,e){if(!t||t==="none")return vg(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,i;if(n)r=U7,i=n;else{const o=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=L7,i=o}if(!i)return vg(e);const s=r[e],a=i[1].split(",").map(z7);return typeof s=="function"?s(a):a[s]}const B7=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return Eg(n,e)};function z7(t){return parseFloat(t.trim())}const ho=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],fo=new Set(ho),G1=t=>t===uo||t===X,j7=new Set(["x","y","z"]),F7=ho.filter(t=>!j7.has(t));function q7(t){const e=[];return F7.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const ms={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>Eg(e,"x"),y:(t,{transform:e})=>Eg(e,"y")};ms.translateX=ms.x;ms.translateY=ms.y;const ps=new Set;let _g=!1,bg=!1,wg=!1;function bN(){if(bg){const t=Array.from(ps).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const i=q7(r);i.length&&(n.set(r,i),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const i=n.get(r);i&&i.forEach(([s,a])=>{var o;(o=r.getValue(s))==null||o.set(a)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}bg=!1,_g=!1,ps.forEach(t=>t.complete(wg)),ps.clear()}function wN(){ps.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(bg=!0)})}function H7(){wg=!0,wN(),bN(),wg=!1}class cv{constructor(e,n,r,i,s,a=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=i,this.element=s,this.isAsync=a}scheduleResolve(){this.state="scheduled",this.isAsync?(ps.add(this),_g||(_g=!0,Me.read(wN),Me.resolveKeyframes(bN))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:i}=this;if(e[0]===null){const s=i==null?void 0:i.get(),a=e[e.length-1];if(s!==void 0)e[0]=s;else if(r&&n){const o=r.readValue(n,a);o!=null&&(e[0]=o)}e[0]===void 0&&(e[0]=a),i&&s===void 0&&i.set(e[0])}O7(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),ps.delete(this)}cancel(){this.state==="scheduled"&&(ps.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const G7=t=>t.startsWith("--");function $7(t,e,n){G7(e)?t.style.setProperty(e,n):t.style[e]=n}const K7=X0(()=>window.ScrollTimeline!==void 0),Y7={};function Q7(t,e){const n=X0(t);return()=>Y7[e]??n()}const TN=Q7(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Ko=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,$1={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Ko([0,.65,.55,1]),circOut:Ko([.55,0,1,.45]),backIn:Ko([.31,.01,.66,-.59]),backOut:Ko([.33,1.53,.69,.99])};function xN(t,e){if(t)return typeof t=="function"?TN()?vN(t,e):"ease-out":lN(t)?Ko(t):Array.isArray(t)?t.map(n=>xN(n,e)||$1.easeOut):$1[t]}function X7(t,e,n,{delay:r=0,duration:i=300,repeat:s=0,repeatType:a="loop",ease:o="easeOut",times:l}={},u=void 0){const f={[e]:n};l&&(f.offset=l);const m=xN(o,i);Array.isArray(m)&&(f.easing=m);const d={delay:r,duration:i,easing:Array.isArray(m)?"linear":m,fill:"both",iterations:s+1,direction:a==="reverse"?"alternate":"normal"};return u&&(d.pseudoElement=u),t.animate(f,d)}function AN(t){return typeof t=="function"&&"applyToOptions"in t}function W7({type:t,...e}){return AN(t)&&TN()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class Z7 extends ov{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:r,keyframes:i,pseudoElement:s,allowFlatten:a=!1,finalKeyframe:o,onComplete:l}=e;this.isPseudoElement=!!s,this.allowFlatten=a,this.options=e,Q0(typeof e.type!="string");const u=W7(e);this.animation=X7(n,r,i,u,s),u.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!s){const f=av(i,this.options,o,this.speed);this.updateMotionValue?this.updateMotionValue(f):$7(n,r,f),this.animation.cancel()}l==null||l(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,n;(n=(e=this.animation).finish)==null||n.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,n;this.isPseudoElement||(n=(e=this.animation).commitStyles)==null||n.call(e)}get duration(){var n,r;const e=((r=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:r.call(n).duration)||0;return er(Number(e))}get time(){return er(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=Jn(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){var r;return this.allowFlatten&&((r=this.animation.effect)==null||r.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&K7()?(this.animation.timeline=e,bn):n(this)}}const SN={anticipate:iN,backInOut:rN,circInOut:aN};function J7(t){return t in SN}function e8(t){typeof t.ease=="string"&&J7(t.ease)&&(t.ease=SN[t.ease])}const K1=10;class t8 extends Z7{constructor(e){e8(e),_N(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:r,onComplete:i,element:s,...a}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const o=new lv({...a,autoplay:!1}),l=Jn(this.finishedTime??this.time);n.setWithVelocity(o.sample(l-K1).value,o.sample(l).value,K1),o.stop()}}const Y1=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Oi.test(t)||t==="0")&&!t.startsWith("url("));function n8(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function r8(t,e,n,r){const i=t[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const s=t[t.length-1],a=Y1(i,e),o=Y1(s,e);return!a||!o?!1:n8(t)||(n==="spring"||AN(n))&&r}function Tg(t){t.duration=0,t.type}const i8=new Set(["opacity","clipPath","filter","transform"]),s8=X0(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function a8(t){var f;const{motionValue:e,name:n,repeatDelay:r,repeatType:i,damping:s,type:a}=t;if(!(((f=e==null?void 0:e.owner)==null?void 0:f.current)instanceof HTMLElement))return!1;const{onUpdate:l,transformTemplate:u}=e.owner.getProps();return s8()&&n&&i8.has(n)&&(n!=="transform"||!u)&&!l&&!r&&i!=="mirror"&&s!==0&&a!=="inertia"}const o8=40;class l8 extends ov{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:i=0,repeatDelay:s=0,repeatType:a="loop",keyframes:o,name:l,motionValue:u,element:f,...m}){var x;super(),this.stop=()=>{var _,S;this._animation&&(this._animation.stop(),(_=this.stopTimeline)==null||_.call(this)),(S=this.keyframeResolver)==null||S.cancel()},this.createdAt=Ht.now();const d={autoplay:e,delay:n,type:r,repeat:i,repeatDelay:s,repeatType:a,name:l,motionValue:u,element:f,...m},y=(f==null?void 0:f.KeyframeResolver)||cv;this.keyframeResolver=new y(o,(_,S,v)=>this.onKeyframesResolved(_,S,d,!v),l,u,f),(x=this.keyframeResolver)==null||x.scheduleResolve()}onKeyframesResolved(e,n,r,i){this.keyframeResolver=void 0;const{name:s,type:a,velocity:o,delay:l,isHandoff:u,onUpdate:f}=r;this.resolvedAt=Ht.now(),r8(e,s,a,o)||((zr.instantAnimations||!l)&&(f==null||f(av(e,r,n))),e[0]=e[e.length-1],Tg(r),r.repeat=0);const d={startTime:i?this.resolvedAt?this.resolvedAt-this.createdAt>o8?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:e},y=!u&&a8(d)?new t8({...d,element:d.motionValue.owner.current}):new lv(d);y.finished.then(()=>this.notifyFinished()).catch(bn),this.pendingTimeline&&(this.stopTimeline=y.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=y}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),H7()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}const c8=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function u8(t){const e=c8.exec(t);if(!e)return[,];const[,n,r,i]=e;return[`--${n??r}`,i]}function RN(t,e,n=1){const[r,i]=u8(t);if(!r)return;const s=window.getComputedStyle(e).getPropertyValue(r);if(s){const a=s.trim();return QR(a)?parseFloat(a):a}return tv(i)?RN(i,e,n+1):i}function uv(t,e){return(t==null?void 0:t[e])??(t==null?void 0:t.default)??t}const NN=new Set(["width","height","top","left","right","bottom",...ho]),h8={test:t=>t==="auto",parse:t=>t},CN=t=>e=>e.test(t),IN=[uo,X,tr,Wr,n7,t7,h8],Q1=t=>IN.find(CN(t));function f8(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||WR(t):!0}const d8=new Set(["brightness","contrast","saturate","opacity"]);function m8(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(nv)||[];if(!r)return t;const i=n.replace(r,"");let s=d8.has(e)?1:0;return r!==n&&(s*=100),e+"("+s+i+")"}const p8=/\b([a-z-]*)\(.*?\)/gu,xg={...Oi,getAnimatableNone:t=>{const e=t.match(p8);return e?e.map(m8).join(" "):t}},X1={...uo,transform:Math.round},g8={rotate:Wr,rotateX:Wr,rotateY:Wr,rotateZ:Wr,scale:bu,scaleX:bu,scaleY:bu,scaleZ:bu,skew:Wr,skewX:Wr,skewY:Wr,distance:X,translateX:X,translateY:X,translateZ:X,x:X,y:X,z:X,perspective:X,transformPerspective:X,opacity:$l,originX:L1,originY:L1,originZ:X},hv={borderWidth:X,borderTopWidth:X,borderRightWidth:X,borderBottomWidth:X,borderLeftWidth:X,borderRadius:X,radius:X,borderTopLeftRadius:X,borderTopRightRadius:X,borderBottomRightRadius:X,borderBottomLeftRadius:X,width:X,maxWidth:X,height:X,maxHeight:X,top:X,right:X,bottom:X,left:X,padding:X,paddingTop:X,paddingRight:X,paddingBottom:X,paddingLeft:X,margin:X,marginTop:X,marginRight:X,marginBottom:X,marginLeft:X,backgroundPositionX:X,backgroundPositionY:X,...g8,zIndex:X1,fillOpacity:$l,strokeOpacity:$l,numOctaves:X1},y8={...hv,color:Xe,backgroundColor:Xe,outlineColor:Xe,fill:Xe,stroke:Xe,borderColor:Xe,borderTopColor:Xe,borderRightColor:Xe,borderBottomColor:Xe,borderLeftColor:Xe,filter:xg,WebkitFilter:xg},DN=t=>y8[t];function PN(t,e){let n=DN(t);return n!==xg&&(n=Oi),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const v8=new Set(["auto","none","0"]);function E8(t,e,n){let r=0,i;for(;r<t.length&&!i;){const s=t[r];typeof s=="string"&&!v8.has(s)&&Kl(s).values.length&&(i=t[r]),r++}if(i&&n)for(const s of e)t[s]=PN(n,i)}class _8 extends cv{constructor(e,n,r,i,s){super(e,n,r,i,s,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let l=0;l<e.length;l++){let u=e[l];if(typeof u=="string"&&(u=u.trim(),tv(u))){const f=RN(u,n.current);f!==void 0&&(e[l]=f),l===e.length-1&&(this.finalKeyframe=u)}}if(this.resolveNoneKeyframes(),!NN.has(r)||e.length!==2)return;const[i,s]=e,a=Q1(i),o=Q1(s);if(a!==o)if(G1(a)&&G1(o))for(let l=0;l<e.length;l++){const u=e[l];typeof u=="string"&&(e[l]=parseFloat(u))}else ms[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let i=0;i<e.length;i++)(e[i]===null||f8(e[i]))&&r.push(i);r.length&&E8(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=ms[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&e.getValue(r,i).jump(i,!1)}measureEndState(){var o;const{element:e,name:n,unresolvedKeyframes:r}=this;if(!e||!e.current)return;const i=e.getValue(n);i&&i.jump(this.measuredOrigin,!1);const s=r.length-1,a=r[s];r[s]=ms[n](e.measureViewportBox(),window.getComputedStyle(e.current)),a!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=a),(o=this.removedTransforms)!=null&&o.length&&this.removedTransforms.forEach(([l,u])=>{e.getValue(l).set(u)}),this.resolveNoneKeyframes()}}function b8(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let r=document;const i=(n==null?void 0:n[t])??r.querySelectorAll(t);return i?Array.from(i):[]}return Array.from(t)}const MN=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function w8(t){return XR(t)&&"offsetHeight"in t}const W1=30,T8=t=>!isNaN(parseFloat(t));class x8{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{var s;const i=Ht.now();if(this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&((s=this.events.change)==null||s.notify(this.current),this.dependents))for(const a of this.dependents)a.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Ht.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=T8(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new W0);const r=this.events[e].add(n);return e==="change"?()=>{r(),Me.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Ht.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>W1)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,W1);return ZR(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,n;(e=this.dependents)==null||e.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function $a(t,e){return new x8(t,e)}const{schedule:fv}=cN(queueMicrotask,!1),Sn={x:!1,y:!1};function VN(){return Sn.x||Sn.y}function A8(t){return t==="x"||t==="y"?Sn[t]?null:(Sn[t]=!0,()=>{Sn[t]=!1}):Sn.x||Sn.y?null:(Sn.x=Sn.y=!0,()=>{Sn.x=Sn.y=!1})}function kN(t,e){const n=b8(t),r=new AbortController,i={passive:!0,...e,signal:r.signal};return[n,i,()=>r.abort()]}function Z1(t){return!(t.pointerType==="touch"||VN())}function S8(t,e,n={}){const[r,i,s]=kN(t,n),a=o=>{if(!Z1(o))return;const{target:l}=o,u=e(l,o);if(typeof u!="function"||!l)return;const f=m=>{Z1(m)&&(u(m),l.removeEventListener("pointerleave",f))};l.addEventListener("pointerleave",f,i)};return r.forEach(o=>{o.addEventListener("pointerenter",a,i)}),s}const ON=(t,e)=>e?t===e?!0:ON(t,e.parentElement):!1,dv=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,R8=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function N8(t){return R8.has(t.tagName)||t.tabIndex!==-1}const Qu=new WeakSet;function J1(t){return e=>{e.key==="Enter"&&t(e)}}function Sm(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const C8=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=J1(()=>{if(Qu.has(n))return;Sm(n,"down");const i=J1(()=>{Sm(n,"up")}),s=()=>Sm(n,"cancel");n.addEventListener("keyup",i,e),n.addEventListener("blur",s,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function ew(t){return dv(t)&&!VN()}function I8(t,e,n={}){const[r,i,s]=kN(t,n),a=o=>{const l=o.currentTarget;if(!ew(o))return;Qu.add(l);const u=e(l,o),f=(y,x)=>{window.removeEventListener("pointerup",m),window.removeEventListener("pointercancel",d),Qu.has(l)&&Qu.delete(l),ew(y)&&typeof u=="function"&&u(y,{success:x})},m=y=>{f(y,l===window||l===document||n.useGlobalTarget||ON(l,y.target))},d=y=>{f(y,!1)};window.addEventListener("pointerup",m,i),window.addEventListener("pointercancel",d,i)};return r.forEach(o=>{(n.useGlobalTarget?window:o).addEventListener("pointerdown",a,i),w8(o)&&(o.addEventListener("focus",u=>C8(u,i)),!N8(o)&&!o.hasAttribute("tabindex")&&(o.tabIndex=0))}),s}function LN(t){return XR(t)&&"ownerSVGElement"in t}function D8(t){return LN(t)&&t.tagName==="svg"}const Rt=t=>!!(t&&t.getVelocity),P8=[...IN,Xe,Oi],M8=t=>P8.find(CN(t)),UN=I.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function V8(t=!0){const e=I.useContext($0);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:i}=e,s=I.useId();I.useEffect(()=>{if(t)return i(s)},[t]);const a=I.useCallback(()=>t&&r&&r(s),[s,r,t]);return!n&&r?[!1,a]:[!0]}const BN=I.createContext({strict:!1}),tw={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Ka={};for(const t in tw)Ka[t]={isEnabled:e=>tw[t].some(n=>!!e[n])};function k8(t){for(const e in t)Ka[e]={...Ka[e],...t[e]}}const O8=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function nf(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||O8.has(t)}let zN=t=>!nf(t);function L8(t){typeof t=="function"&&(zN=e=>e.startsWith("on")?!nf(e):t(e))}try{L8(require("@emotion/is-prop-valid").default)}catch{}function U8(t,e,n){const r={};for(const i in t)i==="values"&&typeof t.values=="object"||(zN(i)||n===!0&&nf(i)||!e&&!nf(i)||t.draggable&&i.startsWith("onDrag"))&&(r[i]=t[i]);return r}const Jf=I.createContext({});function ed(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function Yl(t){return typeof t=="string"||Array.isArray(t)}const mv=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],pv=["initial",...mv];function td(t){return ed(t.animate)||pv.some(e=>Yl(t[e]))}function jN(t){return!!(td(t)||t.variants)}function B8(t,e){if(td(t)){const{initial:n,animate:r}=t;return{initial:n===!1||Yl(n)?n:void 0,animate:Yl(r)?r:void 0}}return t.inherit!==!1?e:{}}function z8(t){const{initial:e,animate:n}=B8(t,I.useContext(Jf));return I.useMemo(()=>({initial:e,animate:n}),[nw(e),nw(n)])}function nw(t){return Array.isArray(t)?t.join(" "):t}const Ql={};function j8(t){for(const e in t)Ql[e]=t[e],ev(e)&&(Ql[e].isCSSVariable=!0)}function FN(t,{layout:e,layoutId:n}){return fo.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!Ql[t]||t==="opacity")}const F8={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},q8=ho.length;function H8(t,e,n){let r="",i=!0;for(let s=0;s<q8;s++){const a=ho[s],o=t[a];if(o===void 0)continue;let l=!0;if(typeof o=="number"?l=o===(a.startsWith("scale")?1:0):l=parseFloat(o)===0,!l||n){const u=MN(o,hv[a]);if(!l){i=!1;const f=F8[a]||a;r+=`${f}(${u}) `}n&&(e[a]=u)}}return r=r.trim(),n?r=n(e,i?"":r):i&&(r="none"),r}function gv(t,e,n){const{style:r,vars:i,transformOrigin:s}=t;let a=!1,o=!1;for(const l in e){const u=e[l];if(fo.has(l)){a=!0;continue}else if(ev(l)){i[l]=u;continue}else{const f=MN(u,hv[l]);l.startsWith("origin")?(o=!0,s[l]=f):r[l]=f}}if(e.transform||(a||n?r.transform=H8(e,t.transform,n):r.transform&&(r.transform="none")),o){const{originX:l="50%",originY:u="50%",originZ:f=0}=s;r.transformOrigin=`${l} ${u} ${f}`}}const yv=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function qN(t,e,n){for(const r in e)!Rt(e[r])&&!FN(r,n)&&(t[r]=e[r])}function G8({transformTemplate:t},e){return I.useMemo(()=>{const n=yv();return gv(n,e,t),Object.assign({},n.vars,n.style)},[e])}function $8(t,e){const n=t.style||{},r={};return qN(r,n,t),Object.assign(r,G8(t,e)),r}function K8(t,e){const n={},r=$8(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}const Y8={offset:"stroke-dashoffset",array:"stroke-dasharray"},Q8={offset:"strokeDashoffset",array:"strokeDasharray"};function X8(t,e,n=1,r=0,i=!0){t.pathLength=1;const s=i?Y8:Q8;t[s.offset]=X.transform(-r);const a=X.transform(e),o=X.transform(n);t[s.array]=`${a} ${o}`}function HN(t,{attrX:e,attrY:n,attrScale:r,pathLength:i,pathSpacing:s=1,pathOffset:a=0,...o},l,u,f){if(gv(t,o,u),l){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:m,style:d}=t;m.transform&&(d.transform=m.transform,delete m.transform),(d.transform||m.transformOrigin)&&(d.transformOrigin=m.transformOrigin??"50% 50%",delete m.transformOrigin),d.transform&&(d.transformBox=(f==null?void 0:f.transformBox)??"fill-box",delete m.transformBox),e!==void 0&&(m.x=e),n!==void 0&&(m.y=n),r!==void 0&&(m.scale=r),i!==void 0&&X8(m,i,s,a,!1)}const GN=()=>({...yv(),attrs:{}}),$N=t=>typeof t=="string"&&t.toLowerCase()==="svg";function W8(t,e,n,r){const i=I.useMemo(()=>{const s=GN();return HN(s,e,$N(r),t.transformTemplate,t.style),{...s.attrs,style:{...s.style}}},[e]);if(t.style){const s={};qN(s,t.style,t),i.style={...s,...i.style}}return i}const Z8=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function vv(t){return typeof t!="string"||t.includes("-")?!1:!!(Z8.indexOf(t)>-1||/[A-Z]/u.test(t))}function J8(t,e,n,{latestValues:r},i,s=!1){const o=(vv(t)?W8:K8)(e,r,i,t),l=U8(e,typeof t=="string",s),u=t!==I.Fragment?{...l,...o,ref:n}:{},{children:f}=e,m=I.useMemo(()=>Rt(f)?f.get():f,[f]);return I.createElement(t,{...u,children:m})}function rw(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function Ev(t,e,n,r){if(typeof e=="function"){const[i,s]=rw(r);e=e(n!==void 0?n:t.custom,i,s)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[i,s]=rw(r);e=e(n!==void 0?n:t.custom,i,s)}return e}function Xu(t){return Rt(t)?t.get():t}function eB({scrapeMotionValuesFromProps:t,createRenderState:e},n,r,i){return{latestValues:tB(n,r,i,t),renderState:e()}}function tB(t,e,n,r){const i={},s=r(t,{});for(const d in s)i[d]=Xu(s[d]);let{initial:a,animate:o}=t;const l=td(t),u=jN(t);e&&u&&!l&&t.inherit!==!1&&(a===void 0&&(a=e.initial),o===void 0&&(o=e.animate));let f=n?n.initial===!1:!1;f=f||a===!1;const m=f?o:a;if(m&&typeof m!="boolean"&&!ed(m)){const d=Array.isArray(m)?m:[m];for(let y=0;y<d.length;y++){const x=Ev(t,d[y]);if(x){const{transitionEnd:_,transition:S,...v}=x;for(const b in v){let E=v[b];if(Array.isArray(E)){const N=f?E.length-1:0;E=E[N]}E!==null&&(i[b]=E)}for(const b in _)i[b]=_[b]}}}return i}const KN=t=>(e,n)=>{const r=I.useContext(Jf),i=I.useContext($0),s=()=>eB(t,e,r,i);return n?s():kU(s)};function _v(t,e,n){var s;const{style:r}=t,i={};for(const a in r)(Rt(r[a])||e.style&&Rt(e.style[a])||FN(a,t)||((s=n==null?void 0:n.getValue(a))==null?void 0:s.liveStyle)!==void 0)&&(i[a]=r[a]);return i}const nB=KN({scrapeMotionValuesFromProps:_v,createRenderState:yv});function YN(t,e,n){const r=_v(t,e,n);for(const i in t)if(Rt(t[i])||Rt(e[i])){const s=ho.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[s]=t[i]}return r}const rB=KN({scrapeMotionValuesFromProps:YN,createRenderState:GN}),iB=Symbol.for("motionComponentSymbol");function ua(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function sB(t,e,n){return I.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):ua(n)&&(n.current=r))},[e])}const bv=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),aB="framerAppearId",QN="data-"+bv(aB),XN=I.createContext({});function oB(t,e,n,r,i){var _,S;const{visualElement:s}=I.useContext(Jf),a=I.useContext(BN),o=I.useContext($0),l=I.useContext(UN).reducedMotion,u=I.useRef(null);r=r||a.renderer,!u.current&&r&&(u.current=r(t,{visualState:e,parent:s,props:n,presenceContext:o,blockInitialAnimation:o?o.initial===!1:!1,reducedMotionConfig:l}));const f=u.current,m=I.useContext(XN);f&&!f.projection&&i&&(f.type==="html"||f.type==="svg")&&lB(u.current,n,i,m);const d=I.useRef(!1);I.useInsertionEffect(()=>{f&&d.current&&f.update(n,o)});const y=n[QN],x=I.useRef(!!y&&!((_=window.MotionHandoffIsComplete)!=null&&_.call(window,y))&&((S=window.MotionHasOptimisedAnimation)==null?void 0:S.call(window,y)));return OU(()=>{f&&(d.current=!0,window.MotionIsMounted=!0,f.updateFeatures(),f.scheduleRenderMicrotask(),x.current&&f.animationState&&f.animationState.animateChanges())}),I.useEffect(()=>{f&&(!x.current&&f.animationState&&f.animationState.animateChanges(),x.current&&(queueMicrotask(()=>{var v;(v=window.MotionHandoffMarkAsComplete)==null||v.call(window,y)}),x.current=!1),f.enteringChildren=void 0)}),f}function lB(t,e,n,r){const{layoutId:i,layout:s,drag:a,dragConstraints:o,layoutScroll:l,layoutRoot:u,layoutCrossfade:f}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:WN(t.parent)),t.projection.setOptions({layoutId:i,layout:s,alwaysMeasureLayout:!!a||o&&ua(o),visualElement:t,animationType:typeof s=="string"?s:"both",initialPromotionConfig:r,crossfade:f,layoutScroll:l,layoutRoot:u})}function WN(t){if(t)return t.options.allowProjection!==!1?t.projection:WN(t.parent)}function Rm(t,{forwardMotionProps:e=!1}={},n,r){n&&k8(n);const i=vv(t)?rB:nB;function s(o,l){let u;const f={...I.useContext(UN),...o,layoutId:cB(o)},{isStatic:m}=f,d=z8(o),y=i(o,m);if(!m&&G0){uB();const x=hB(f);u=x.MeasureLayout,d.visualElement=oB(t,y,f,r,x.ProjectionNode)}return hg.jsxs(Jf.Provider,{value:d,children:[u&&d.visualElement?hg.jsx(u,{visualElement:d.visualElement,...f}):null,J8(t,o,sB(y,d.visualElement,l),y,m,e)]})}s.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const a=I.forwardRef(s);return a[iB]=t,a}function cB({layoutId:t}){const e=I.useContext(YR).id;return e&&t!==void 0?e+"-"+t:t}function uB(t,e){I.useContext(BN).strict}function hB(t){const{drag:e,layout:n}=Ka;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function fB(t,e){if(typeof Proxy>"u")return Rm;const n=new Map,r=(s,a)=>Rm(s,a,t,e),i=(s,a)=>r(s,a);return new Proxy(i,{get:(s,a)=>a==="create"?r:(n.has(a)||n.set(a,Rm(a,void 0,t,e)),n.get(a))})}function ZN({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function dB({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function mB(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function Nm(t){return t===void 0||t===1}function Ag({scale:t,scaleX:e,scaleY:n}){return!Nm(t)||!Nm(e)||!Nm(n)}function es(t){return Ag(t)||JN(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function JN(t){return iw(t.x)||iw(t.y)}function iw(t){return t&&t!=="0%"}function rf(t,e,n){const r=t-n,i=e*r;return n+i}function sw(t,e,n,r,i){return i!==void 0&&(t=rf(t,i,r)),rf(t,n,r)+e}function Sg(t,e=0,n=1,r,i){t.min=sw(t.min,e,n,r,i),t.max=sw(t.max,e,n,r,i)}function eC(t,{x:e,y:n}){Sg(t.x,e.translate,e.scale,e.originPoint),Sg(t.y,n.translate,n.scale,n.originPoint)}const aw=.999999999999,ow=1.0000000000001;function pB(t,e,n,r=!1){const i=n.length;if(!i)return;e.x=e.y=1;let s,a;for(let o=0;o<i;o++){s=n[o],a=s.projectionDelta;const{visualElement:l}=s.options;l&&l.props.style&&l.props.style.display==="contents"||(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&fa(t,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),a&&(e.x*=a.x.scale,e.y*=a.y.scale,eC(t,a)),r&&es(s.latestValues)&&fa(t,s.latestValues))}e.x<ow&&e.x>aw&&(e.x=1),e.y<ow&&e.y>aw&&(e.y=1)}function ha(t,e){t.min=t.min+e,t.max=t.max+e}function lw(t,e,n,r,i=.5){const s=Oe(t.min,t.max,i);Sg(t,e,n,s,r)}function fa(t,e){lw(t.x,e.x,e.scaleX,e.scale,e.originX),lw(t.y,e.y,e.scaleY,e.scale,e.originY)}function tC(t,e){return ZN(mB(t.getBoundingClientRect(),e))}function gB(t,e,n){const r=tC(t,n),{scroll:i}=e;return i&&(ha(r.x,i.offset.x),ha(r.y,i.offset.y)),r}const cw=()=>({translate:0,scale:1,origin:0,originPoint:0}),da=()=>({x:cw(),y:cw()}),uw=()=>({min:0,max:0}),He=()=>({x:uw(),y:uw()}),Rg={current:null},nC={current:!1};function yB(){if(nC.current=!0,!!G0)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Rg.current=t.matches;t.addEventListener("change",e),e()}else Rg.current=!1}const vB=new WeakMap;function EB(t,e,n){for(const r in e){const i=e[r],s=n[r];if(Rt(i))t.addValue(r,i);else if(Rt(s))t.addValue(r,$a(i,{owner:t}));else if(s!==i)if(t.hasValue(r)){const a=t.getValue(r);a.liveStyle===!0?a.jump(i):a.hasAnimated||a.set(i)}else{const a=t.getStaticValue(r);t.addValue(r,$a(a!==void 0?a:i,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const hw=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class _B{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:s,visualState:a},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=cv,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const d=Ht.now();this.renderScheduledAt<d&&(this.renderScheduledAt=d,Me.render(this.render,!1,!0))};const{latestValues:l,renderState:u}=a;this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=u,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=o,this.blockInitialAnimation=!!s,this.isControllingVariants=td(n),this.isVariantNode=jN(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:f,...m}=this.scrapeMotionValuesFromProps(n,{},this);for(const d in m){const y=m[d];l[d]!==void 0&&Rt(y)&&y.set(l[d])}}mount(e){var n;this.current=e,vB.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,i)=>this.bindToMotionValue(i,r)),nC.current||yB(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Rg.current,(n=this.parent)==null||n.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var e;this.projection&&this.projection.unmount(),ki(this.notifyUpdate),ki(this.render),this.valueSubscriptions.forEach(n=>n()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(e=this.parent)==null||e.removeChild(this);for(const n in this.events)this.events[n].clear();for(const n in this.features){const r=this.features[n];r&&(r.unmount(),r.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=fo.has(e);r&&this.onBindTransform&&this.onBindTransform();const i=n.on("change",a=>{this.latestValues[e]=a,this.props.onUpdate&&Me.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let s;window.MotionCheckAppearSync&&(s=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{i(),s&&s(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Ka){const n=Ka[e];if(!n)continue;const{isEnabled:r,Feature:i}=n;if(!this.features[e]&&i&&r(this.props)&&(this.features[e]=new i(this)),this.features[e]){const s=this.features[e];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):He()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<hw.length;r++){const i=hw[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s="on"+i,a=e[s];a&&(this.propEventSubscriptions[i]=this.on(i,a))}this.prevMotionValues=EB(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=$a(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(QR(r)||WR(r))?r=parseFloat(r):!M8(r)&&Oi.test(n)&&(r=PN(e,n)),this.setBaseTarget(e,Rt(r)?r.get():r)),Rt(r)?r.get():r}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var s;const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const a=Ev(this.props,n,(s=this.presenceContext)==null?void 0:s.custom);a&&(r=a[e])}if(n&&r!==void 0)return r;const i=this.getBaseTargetFromProps(this.props,e);return i!==void 0&&!Rt(i)?i:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new W0),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){fv.render(this.render)}}class rC extends _B{constructor(){super(...arguments),this.KeyframeResolver=_8}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Rt(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function iC(t,{style:e,vars:n},r,i){const s=t.style;let a;for(a in e)s[a]=e[a];i==null||i.applyProjectionStyles(s,r);for(a in n)s.setProperty(a,n[a])}function bB(t){return window.getComputedStyle(t)}class wB extends rC{constructor(){super(...arguments),this.type="html",this.renderInstance=iC}readValueFromInstance(e,n){var r;if(fo.has(n))return(r=this.projection)!=null&&r.isProjecting?vg(n):B7(e,n);{const i=bB(e),s=(ev(n)?i.getPropertyValue(n):i[n])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(e,{transformPagePoint:n}){return tC(e,n)}build(e,n,r){gv(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return _v(e,n,r)}}const sC=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function TB(t,e,n,r){iC(t,e,void 0,r);for(const i in e.attrs)t.setAttribute(sC.has(i)?i:bv(i),e.attrs[i])}class xB extends rC{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=He}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(fo.has(n)){const r=DN(n);return r&&r.default||0}return n=sC.has(n)?n:bv(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return YN(e,n,r)}build(e,n,r){HN(e,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(e,n,r,i){TB(e,n,r,i)}mount(e){this.isSVGTag=$N(e.tagName),super.mount(e)}}const AB=(t,e)=>vv(t)?new xB(e):new wB(e,{allowProjection:t!==I.Fragment});function Sa(t,e,n){const r=t.getProps();return Ev(r,e,n!==void 0?n:r.custom,t)}const Ng=t=>Array.isArray(t);function SB(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,$a(n))}function RB(t){return Ng(t)?t[t.length-1]||0:t}function NB(t,e){const n=Sa(t,e);let{transitionEnd:r={},transition:i={},...s}=n||{};s={...s,...r};for(const a in s){const o=RB(s[a]);SB(t,a,o)}}function CB(t){return!!(Rt(t)&&t.add)}function Cg(t,e){const n=t.getValue("willChange");if(CB(n))return n.add(e);if(!n&&zr.WillChange){const r=new zr.WillChange("auto");t.addValue("willChange",r),r.add(e)}}function aC(t){return t.props[QN]}const IB=t=>t!==null;function DB(t,{repeat:e,repeatType:n="loop"},r){const i=t.filter(IB),s=e&&n!=="loop"&&e%2===1?0:i.length-1;return i[s]}const PB={type:"spring",stiffness:500,damping:25,restSpeed:10},MB=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),VB={type:"keyframes",duration:.8},kB={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},OB=(t,{keyframes:e})=>e.length>2?VB:fo.has(t)?t.startsWith("scale")?MB(e[1]):PB:kB;function LB({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:s,repeatType:a,repeatDelay:o,from:l,elapsed:u,...f}){return!!Object.keys(f).length}const wv=(t,e,n,r={},i,s)=>a=>{const o=uv(r,t)||{},l=o.delay||r.delay||0;let{elapsed:u=0}=r;u=u-Jn(l);const f={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...o,delay:-u,onUpdate:d=>{e.set(d),o.onUpdate&&o.onUpdate(d)},onComplete:()=>{a(),o.onComplete&&o.onComplete()},name:t,motionValue:e,element:s?void 0:i};LB(o)||Object.assign(f,OB(t,f)),f.duration&&(f.duration=Jn(f.duration)),f.repeatDelay&&(f.repeatDelay=Jn(f.repeatDelay)),f.from!==void 0&&(f.keyframes[0]=f.from);let m=!1;if((f.type===!1||f.duration===0&&!f.repeatDelay)&&(Tg(f),f.delay===0&&(m=!0)),(zr.instantAnimations||zr.skipAnimations)&&(m=!0,Tg(f),f.delay=0),f.allowFlatten=!o.type&&!o.ease,m&&!s&&e.get()!==void 0){const d=DB(f.keyframes,o);if(d!==void 0){Me.update(()=>{f.onUpdate(d),f.onComplete()});return}}return o.isSync?new lv(f):new l8(f)};function UB({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function oC(t,e,{delay:n=0,transitionOverride:r,type:i}={}){let{transition:s=t.getDefaultTransition(),transitionEnd:a,...o}=e;r&&(s=r);const l=[],u=i&&t.animationState&&t.animationState.getState()[i];for(const f in o){const m=t.getValue(f,t.latestValues[f]??null),d=o[f];if(d===void 0||u&&UB(u,f))continue;const y={delay:n,...uv(s||{},f)},x=m.get();if(x!==void 0&&!m.isAnimating&&!Array.isArray(d)&&d===x&&!y.velocity)continue;let _=!1;if(window.MotionHandoffAnimation){const v=aC(t);if(v){const b=window.MotionHandoffAnimation(v,f,Me);b!==null&&(y.startTime=b,_=!0)}}Cg(t,f),m.start(wv(f,m,d,t.shouldReduceMotion&&NN.has(f)?{type:!1}:y,t,_));const S=m.animation;S&&l.push(S)}return a&&Promise.all(l).then(()=>{Me.update(()=>{a&&NB(t,a)})}),l}function lC(t,e,n,r=0,i=1){const s=Array.from(t).sort((u,f)=>u.sortNodePosition(f)).indexOf(e),a=t.size,o=(a-1)*r;return typeof n=="function"?n(s,a):i===1?s*r:o-s*r}function Ig(t,e,n={}){var l;const r=Sa(t,e,n.type==="exit"?(l=t.presenceContext)==null?void 0:l.custom:void 0);let{transition:i=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(i=n.transitionOverride);const s=r?()=>Promise.all(oC(t,r,n)):()=>Promise.resolve(),a=t.variantChildren&&t.variantChildren.size?(u=0)=>{const{delayChildren:f=0,staggerChildren:m,staggerDirection:d}=i;return BB(t,e,u,f,m,d,n)}:()=>Promise.resolve(),{when:o}=i;if(o){const[u,f]=o==="beforeChildren"?[s,a]:[a,s];return u().then(()=>f())}else return Promise.all([s(),a(n.delay)])}function BB(t,e,n=0,r=0,i=0,s=1,a){const o=[];for(const l of t.variantChildren)l.notify("AnimationStart",e),o.push(Ig(l,e,{...a,delay:n+(typeof r=="function"?0:r)+lC(t.variantChildren,l,r,i,s)}).then(()=>l.notify("AnimationComplete",e)));return Promise.all(o)}function zB(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(s=>Ig(t,s,n));r=Promise.all(i)}else if(typeof e=="string")r=Ig(t,e,n);else{const i=typeof e=="function"?Sa(t,e,n.custom):e;r=Promise.all(oC(t,i,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}function cC(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}const jB=pv.length;function uC(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?uC(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<jB;n++){const r=pv[n],i=t.props[r];(Yl(i)||i===!1)&&(e[r]=i)}return e}const FB=[...mv].reverse(),qB=mv.length;function HB(t){return e=>Promise.all(e.map(({animation:n,options:r})=>zB(t,n,r)))}function GB(t){let e=HB(t),n=fw(),r=!0;const i=l=>(u,f)=>{var d;const m=Sa(t,f,l==="exit"?(d=t.presenceContext)==null?void 0:d.custom:void 0);if(m){const{transition:y,transitionEnd:x,..._}=m;u={...u,..._,...x}}return u};function s(l){e=l(t)}function a(l){const{props:u}=t,f=uC(t.parent)||{},m=[],d=new Set;let y={},x=1/0;for(let S=0;S<qB;S++){const v=FB[S],b=n[v],E=u[v]!==void 0?u[v]:f[v],N=Yl(E),M=v===l?b.isActive:null;M===!1&&(x=S);let L=E===f[v]&&E!==u[v]&&N;if(L&&r&&t.manuallyAnimateOnMount&&(L=!1),b.protectedKeys={...y},!b.isActive&&M===null||!E&&!b.prevProp||ed(E)||typeof E=="boolean")continue;const A=$B(b.prevProp,E);let w=A||v===l&&b.isActive&&!L&&N||S>x&&N,R=!1;const C=Array.isArray(E)?E:[E];let P=C.reduce(i(v),{});M===!1&&(P={});const{prevResolvedValues:V={}}=b,D={...V,...P},Ut=G=>{w=!0,d.has(G)&&(R=!0,d.delete(G)),b.needsAnimating[G]=!0;const $=t.getValue(G);$&&($.liveStyle=!1)};for(const G in D){const $=P[G],fe=V[G];if(y.hasOwnProperty(G))continue;let _e=!1;Ng($)&&Ng(fe)?_e=!cC($,fe):_e=$!==fe,_e?$!=null?Ut(G):d.add(G):$!==void 0&&d.has(G)?Ut(G):b.protectedKeys[G]=!0}b.prevProp=E,b.prevResolvedValues=P,b.isActive&&(y={...y,...P}),r&&t.blockInitialAnimation&&(w=!1);const cn=L&&A;w&&(!cn||R)&&m.push(...C.map(G=>{const $={type:v};if(typeof G=="string"&&r&&!cn&&t.manuallyAnimateOnMount&&t.parent){const{parent:fe}=t,_e=Sa(fe,G);if(fe.enteringChildren&&_e){const{delayChildren:qr}=_e.transition||{};$.delay=lC(fe.enteringChildren,t,qr)}}return{animation:G,options:$}}))}if(d.size){const S={};if(typeof u.initial!="boolean"){const v=Sa(t,Array.isArray(u.initial)?u.initial[0]:u.initial);v&&v.transition&&(S.transition=v.transition)}d.forEach(v=>{const b=t.getBaseTarget(v),E=t.getValue(v);E&&(E.liveStyle=!0),S[v]=b??null}),m.push({animation:S})}let _=!!m.length;return r&&(u.initial===!1||u.initial===u.animate)&&!t.manuallyAnimateOnMount&&(_=!1),r=!1,_?e(m):Promise.resolve()}function o(l,u){var m;if(n[l].isActive===u)return Promise.resolve();(m=t.variantChildren)==null||m.forEach(d=>{var y;return(y=d.animationState)==null?void 0:y.setActive(l,u)}),n[l].isActive=u;const f=a(l);for(const d in n)n[d].protectedKeys={};return f}return{animateChanges:a,setActive:o,setAnimateFunction:s,getState:()=>n,reset:()=>{n=fw(),r=!0}}}function $B(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!cC(e,t):!1}function Qi(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function fw(){return{animate:Qi(!0),whileInView:Qi(),whileHover:Qi(),whileTap:Qi(),whileDrag:Qi(),whileFocus:Qi(),exit:Qi()}}class qi{constructor(e){this.isMounted=!1,this.node=e}update(){}}class KB extends qi{constructor(e){super(e),e.animationState||(e.animationState=GB(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();ed(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let YB=0;class QB extends qi{constructor(){super(...arguments),this.id=YB++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const i=this.node.animationState.setActive("exit",!e);n&&!e&&i.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const XB={animation:{Feature:KB},exit:{Feature:QB}};function Xl(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function Dc(t){return{point:{x:t.pageX,y:t.pageY}}}const WB=t=>e=>dv(e)&&t(e,Dc(e));function yl(t,e,n,r){return Xl(t,e,WB(n),r)}const hC=1e-4,ZB=1-hC,JB=1+hC,fC=.01,ez=0-fC,tz=0+fC;function Ot(t){return t.max-t.min}function nz(t,e,n){return Math.abs(t-e)<=n}function dw(t,e,n,r=.5){t.origin=r,t.originPoint=Oe(e.min,e.max,t.origin),t.scale=Ot(n)/Ot(e),t.translate=Oe(n.min,n.max,t.origin)-t.originPoint,(t.scale>=ZB&&t.scale<=JB||isNaN(t.scale))&&(t.scale=1),(t.translate>=ez&&t.translate<=tz||isNaN(t.translate))&&(t.translate=0)}function vl(t,e,n,r){dw(t.x,e.x,n.x,r?r.originX:void 0),dw(t.y,e.y,n.y,r?r.originY:void 0)}function mw(t,e,n){t.min=n.min+e.min,t.max=t.min+Ot(e)}function rz(t,e,n){mw(t.x,e.x,n.x),mw(t.y,e.y,n.y)}function pw(t,e,n){t.min=e.min-n.min,t.max=t.min+Ot(e)}function El(t,e,n){pw(t.x,e.x,n.x),pw(t.y,e.y,n.y)}function hn(t){return[t("x"),t("y")]}const dC=({current:t})=>t?t.ownerDocument.defaultView:null,gw=(t,e)=>Math.abs(t-e);function iz(t,e){const n=gw(t.x,e.x),r=gw(t.y,e.y);return Math.sqrt(n**2+r**2)}class mC{constructor(e,n,{transformPagePoint:r,contextWindow:i=window,dragSnapToOrigin:s=!1,distanceThreshold:a=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const d=Im(this.lastMoveEventInfo,this.history),y=this.startEvent!==null,x=iz(d.offset,{x:0,y:0})>=this.distanceThreshold;if(!y&&!x)return;const{point:_}=d,{timestamp:S}=ft;this.history.push({..._,timestamp:S});const{onStart:v,onMove:b}=this.handlers;y||(v&&v(this.lastMoveEvent,d),this.startEvent=this.lastMoveEvent),b&&b(this.lastMoveEvent,d)},this.handlePointerMove=(d,y)=>{this.lastMoveEvent=d,this.lastMoveEventInfo=Cm(y,this.transformPagePoint),Me.update(this.updatePoint,!0)},this.handlePointerUp=(d,y)=>{this.end();const{onEnd:x,onSessionEnd:_,resumeAnimation:S}=this.handlers;if(this.dragSnapToOrigin&&S&&S(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const v=Im(d.type==="pointercancel"?this.lastMoveEventInfo:Cm(y,this.transformPagePoint),this.history);this.startEvent&&x&&x(d,v),_&&_(d,v)},!dv(e))return;this.dragSnapToOrigin=s,this.handlers=n,this.transformPagePoint=r,this.distanceThreshold=a,this.contextWindow=i||window;const o=Dc(e),l=Cm(o,this.transformPagePoint),{point:u}=l,{timestamp:f}=ft;this.history=[{...u,timestamp:f}];const{onSessionStart:m}=n;m&&m(e,Im(l,this.history)),this.removeListeners=Nc(yl(this.contextWindow,"pointermove",this.handlePointerMove),yl(this.contextWindow,"pointerup",this.handlePointerUp),yl(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),ki(this.updatePoint)}}function Cm(t,e){return e?{point:e(t.point)}:t}function yw(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Im({point:t},e){return{point:t,delta:yw(t,pC(e)),offset:yw(t,sz(e)),velocity:az(e,.1)}}function sz(t){return t[0]}function pC(t){return t[t.length-1]}function az(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const i=pC(t);for(;n>=0&&(r=t[n],!(i.timestamp-r.timestamp>Jn(e)));)n--;if(!r)return{x:0,y:0};const s=er(i.timestamp-r.timestamp);if(s===0)return{x:0,y:0};const a={x:(i.x-r.x)/s,y:(i.y-r.y)/s};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}function oz(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?Oe(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?Oe(n,t,r.max):Math.min(t,n)),t}function vw(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function lz(t,{top:e,left:n,bottom:r,right:i}){return{x:vw(t.x,n,i),y:vw(t.y,e,r)}}function Ew(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function cz(t,e){return{x:Ew(t.x,e.x),y:Ew(t.y,e.y)}}function uz(t,e){let n=.5;const r=Ot(t),i=Ot(e);return i>r?n=Gl(e.min,e.max-r,t.min):r>i&&(n=Gl(t.min,t.max-i,e.min)),Br(0,1,n)}function hz(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const Dg=.35;function fz(t=Dg){return t===!1?t=0:t===!0&&(t=Dg),{x:_w(t,"left","right"),y:_w(t,"top","bottom")}}function _w(t,e,n){return{min:bw(t,e),max:bw(t,n)}}function bw(t,e){return typeof t=="number"?t:t[e]||0}const dz=new WeakMap;class mz{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=He(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:r}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const s=m=>{const{dragSnapToOrigin:d}=this.getProps();d?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Dc(m).point)},a=(m,d)=>{const{drag:y,dragPropagation:x,onDragStart:_}=this.getProps();if(y&&!x&&(this.openDragLock&&this.openDragLock(),this.openDragLock=A8(y),!this.openDragLock))return;this.latestPointerEvent=m,this.latestPanInfo=d,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),hn(v=>{let b=this.getAxisMotionValue(v).get()||0;if(tr.test(b)){const{projection:E}=this.visualElement;if(E&&E.layout){const N=E.layout.layoutBox[v];N&&(b=Ot(N)*(parseFloat(b)/100))}}this.originPoint[v]=b}),_&&Me.postRender(()=>_(m,d)),Cg(this.visualElement,"transform");const{animationState:S}=this.visualElement;S&&S.setActive("whileDrag",!0)},o=(m,d)=>{this.latestPointerEvent=m,this.latestPanInfo=d;const{dragPropagation:y,dragDirectionLock:x,onDirectionLock:_,onDrag:S}=this.getProps();if(!y&&!this.openDragLock)return;const{offset:v}=d;if(x&&this.currentDirection===null){this.currentDirection=pz(v),this.currentDirection!==null&&_&&_(this.currentDirection);return}this.updateAxis("x",d.point,v),this.updateAxis("y",d.point,v),this.visualElement.render(),S&&S(m,d)},l=(m,d)=>{this.latestPointerEvent=m,this.latestPanInfo=d,this.stop(m,d),this.latestPointerEvent=null,this.latestPanInfo=null},u=()=>hn(m=>{var d;return this.getAnimationState(m)==="paused"&&((d=this.getAxisMotionValue(m).animation)==null?void 0:d.play())}),{dragSnapToOrigin:f}=this.getProps();this.panSession=new mC(e,{onSessionStart:s,onStart:a,onMove:o,onSessionEnd:l,resumeAnimation:u},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:f,distanceThreshold:r,contextWindow:dC(this.visualElement)})}stop(e,n){const r=e||this.latestPointerEvent,i=n||this.latestPanInfo,s=this.isDragging;if(this.cancel(),!s||!i||!r)return;const{velocity:a}=i;this.startAnimation(a);const{onDragEnd:o}=this.getProps();o&&Me.postRender(()=>o(r,i))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:i}=this.getProps();if(!r||!wu(e,i,this.currentDirection))return;const s=this.getAxisMotionValue(e);let a=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(a=oz(a,this.constraints[e],this.elastic[e])),s.set(a)}resolveConstraints(){var s;const{dragConstraints:e,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(s=this.visualElement.projection)==null?void 0:s.layout,i=this.constraints;e&&ua(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=lz(r.layoutBox,e):this.constraints=!1,this.elastic=fz(n),i!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&hn(a=>{this.constraints!==!1&&this.getAxisMotionValue(a)&&(this.constraints[a]=hz(r.layoutBox[a],this.constraints[a]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!ua(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=gB(r,i.root,this.visualElement.getTransformPagePoint());let a=cz(i.layout.layoutBox,s);if(n){const o=n(dB(a));this.hasMutatedConstraints=!!o,o&&(a=ZN(o))}return a}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:s,dragSnapToOrigin:a,onDragTransitionEnd:o}=this.getProps(),l=this.constraints||{},u=hn(f=>{if(!wu(f,n,this.currentDirection))return;let m=l&&l[f]||{};a&&(m={min:0,max:0});const d=i?200:1e6,y=i?40:1e7,x={type:"inertia",velocity:r?e[f]:0,bounceStiffness:d,bounceDamping:y,timeConstant:750,restDelta:1,restSpeed:10,...s,...m};return this.startAxisValueAnimation(f,x)});return Promise.all(u).then(o)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return Cg(this.visualElement,e),r.start(wv(e,r,0,n,this.visualElement,!1))}stopAnimation(){hn(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){hn(e=>{var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){hn(n=>{const{drag:r}=this.getProps();if(!wu(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(n);if(i&&i.layout){const{min:a,max:o}=i.layout.layoutBox[n];s.set(e[n]-Oe(a,o,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!ua(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};hn(a=>{const o=this.getAxisMotionValue(a);if(o&&this.constraints!==!1){const l=o.get();i[a]=uz({min:l,max:l},this.constraints[a])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),hn(a=>{if(!wu(a,e,null))return;const o=this.getAxisMotionValue(a),{min:l,max:u}=this.constraints[a];o.set(Oe(l,u,i[a]))})}addListeners(){if(!this.visualElement.current)return;dz.set(this.visualElement,this);const e=this.visualElement.current,n=yl(e,"pointerdown",l=>{const{drag:u,dragListener:f=!0}=this.getProps();u&&f&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();ua(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,s=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),Me.read(r);const a=Xl(window,"resize",()=>this.scalePositionWithinConstraints()),o=i.addEventListener("didUpdate",({delta:l,hasLayoutChanged:u})=>{this.isDragging&&u&&(hn(f=>{const m=this.getAxisMotionValue(f);m&&(this.originPoint[f]+=l[f].translate,m.set(m.get()+l[f].translate))}),this.visualElement.render())});return()=>{a(),n(),s(),o&&o()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:a=Dg,dragMomentum:o=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:s,dragElastic:a,dragMomentum:o}}}function wu(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function pz(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class gz extends qi{constructor(e){super(e),this.removeGroupControls=bn,this.removeListeners=bn,this.controls=new mz(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||bn}unmount(){this.removeGroupControls(),this.removeListeners()}}const ww=t=>(e,n)=>{t&&Me.postRender(()=>t(e,n))};class yz extends qi{constructor(){super(...arguments),this.removePointerDownListener=bn}onPointerDown(e){this.session=new mC(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:dC(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:ww(e),onStart:ww(n),onMove:r,onEnd:(s,a)=>{delete this.session,i&&Me.postRender(()=>i(s,a))}}}mount(){this.removePointerDownListener=yl(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Wu={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Tw(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Oo={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(X.test(t))t=parseFloat(t);else return t;const n=Tw(t,e.target.x),r=Tw(t,e.target.y);return`${n}% ${r}%`}},vz={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,i=Oi.parse(t);if(i.length>5)return r;const s=Oi.createTransformer(t),a=typeof i[0]!="number"?1:0,o=n.x.scale*e.x,l=n.y.scale*e.y;i[0+a]/=o,i[1+a]/=l;const u=Oe(o,l,.5);return typeof i[2+a]=="number"&&(i[2+a]/=u),typeof i[3+a]=="number"&&(i[3+a]/=u),s(i)}};let Dm=!1;class Ez extends I.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:s}=e;j8(_z),s&&(n.group&&n.group.add(s),r&&r.register&&i&&r.register(s),Dm&&s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),Wu.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:i,isPresent:s}=this.props,{projection:a}=r;return a&&(a.isPresent=s,Dm=!0,i||e.layoutDependency!==n||n===void 0||e.isPresent!==s?a.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?a.promote():a.relegate()||Me.postRender(()=>{const o=a.getStack();(!o||!o.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),fv.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=e;Dm=!0,i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function gC(t){const[e,n]=V8(),r=I.useContext(YR);return hg.jsx(Ez,{...t,layoutGroup:r,switchLayoutGroup:I.useContext(XN),isPresent:e,safeToRemove:n})}const _z={borderRadius:{...Oo,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Oo,borderTopRightRadius:Oo,borderBottomLeftRadius:Oo,borderBottomRightRadius:Oo,boxShadow:vz};function bz(t,e,n){const r=Rt(t)?t:$a(t);return r.start(wv("",r,e,n)),r.animation}const wz=(t,e)=>t.depth-e.depth;class Tz{constructor(){this.children=[],this.isDirty=!1}add(e){K0(this.children,e),this.isDirty=!0}remove(e){Y0(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(wz),this.isDirty=!1,this.children.forEach(e)}}function xz(t,e){const n=Ht.now(),r=({timestamp:i})=>{const s=i-n;s>=e&&(ki(r),t(s-e))};return Me.setup(r,!0),()=>ki(r)}const yC=["TopLeft","TopRight","BottomLeft","BottomRight"],Az=yC.length,xw=t=>typeof t=="string"?parseFloat(t):t,Aw=t=>typeof t=="number"||X.test(t);function Sz(t,e,n,r,i,s){i?(t.opacity=Oe(0,n.opacity??1,Rz(r)),t.opacityExit=Oe(e.opacity??1,0,Nz(r))):s&&(t.opacity=Oe(e.opacity??1,n.opacity??1,r));for(let a=0;a<Az;a++){const o=`border${yC[a]}Radius`;let l=Sw(e,o),u=Sw(n,o);if(l===void 0&&u===void 0)continue;l||(l=0),u||(u=0),l===0||u===0||Aw(l)===Aw(u)?(t[o]=Math.max(Oe(xw(l),xw(u),r),0),(tr.test(u)||tr.test(l))&&(t[o]+="%")):t[o]=u}(e.rotate||n.rotate)&&(t.rotate=Oe(e.rotate||0,n.rotate||0,r))}function Sw(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const Rz=vC(0,.5,sN),Nz=vC(.5,.95,bn);function vC(t,e,n){return r=>r<t?0:r>e?1:n(Gl(t,e,r))}function Rw(t,e){t.min=e.min,t.max=e.max}function un(t,e){Rw(t.x,e.x),Rw(t.y,e.y)}function Nw(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function Cw(t,e,n,r,i){return t-=e,t=rf(t,1/n,r),i!==void 0&&(t=rf(t,1/i,r)),t}function Cz(t,e=0,n=1,r=.5,i,s=t,a=t){if(tr.test(e)&&(e=parseFloat(e),e=Oe(a.min,a.max,e/100)-a.min),typeof e!="number")return;let o=Oe(s.min,s.max,r);t===s&&(o-=e),t.min=Cw(t.min,e,n,o,i),t.max=Cw(t.max,e,n,o,i)}function Iw(t,e,[n,r,i],s,a){Cz(t,e[n],e[r],e[i],e.scale,s,a)}const Iz=["x","scaleX","originX"],Dz=["y","scaleY","originY"];function Dw(t,e,n,r){Iw(t.x,e,Iz,n?n.x:void 0,r?r.x:void 0),Iw(t.y,e,Dz,n?n.y:void 0,r?r.y:void 0)}function Pw(t){return t.translate===0&&t.scale===1}function EC(t){return Pw(t.x)&&Pw(t.y)}function Mw(t,e){return t.min===e.min&&t.max===e.max}function Pz(t,e){return Mw(t.x,e.x)&&Mw(t.y,e.y)}function Vw(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function _C(t,e){return Vw(t.x,e.x)&&Vw(t.y,e.y)}function kw(t){return Ot(t.x)/Ot(t.y)}function Ow(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class Mz{constructor(){this.members=[]}add(e){K0(this.members,e),e.scheduleRender()}remove(e){if(Y0(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(i=>e===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const s=this.members[i];if(s.isPresent!==!1){r=s;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Vz(t,e,n){let r="";const i=t.x.translate/e.x,s=t.y.translate/e.y,a=(n==null?void 0:n.z)||0;if((i||s||a)&&(r=`translate3d(${i}px, ${s}px, ${a}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:u,rotate:f,rotateX:m,rotateY:d,skewX:y,skewY:x}=n;u&&(r=`perspective(${u}px) ${r}`),f&&(r+=`rotate(${f}deg) `),m&&(r+=`rotateX(${m}deg) `),d&&(r+=`rotateY(${d}deg) `),y&&(r+=`skewX(${y}deg) `),x&&(r+=`skewY(${x}deg) `)}const o=t.x.scale*e.x,l=t.y.scale*e.y;return(o!==1||l!==1)&&(r+=`scale(${o}, ${l})`),r||"none"}const Pm=["","X","Y","Z"],kz=1e3;let Oz=0;function Mm(t,e,n,r){const{latestValues:i}=e;i[t]&&(n[t]=i[t],e.setStaticValue(t,0),r&&(r[t]=0))}function bC(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=aC(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:s}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",Me,!(i||s))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&bC(r)}function wC({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(a={},o=e==null?void 0:e()){this.id=Oz++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(Bz),this.nodes.forEach(qz),this.nodes.forEach(Hz),this.nodes.forEach(zz)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=a,this.root=o?o.root||o:this,this.path=o?[...o.path,o]:[],this.parent=o,this.depth=o?o.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new Tz)}addEventListener(a,o){return this.eventHandlers.has(a)||this.eventHandlers.set(a,new W0),this.eventHandlers.get(a).add(o)}notifyListeners(a,...o){const l=this.eventHandlers.get(a);l&&l.notify(...o)}hasListeners(a){return this.eventHandlers.has(a)}mount(a){if(this.instance)return;this.isSVG=LN(a)&&!D8(a),this.instance=a;const{layoutId:o,layout:l,visualElement:u}=this.options;if(u&&!u.current&&u.mount(a),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(l||o)&&(this.isLayoutDirty=!0),t){let f,m=0;const d=()=>this.root.updateBlockedByResize=!1;Me.read(()=>{m=window.innerWidth}),t(a,()=>{const y=window.innerWidth;y!==m&&(m=y,this.root.updateBlockedByResize=!0,f&&f(),f=xz(d,250),Wu.hasAnimatedSinceResize&&(Wu.hasAnimatedSinceResize=!1,this.nodes.forEach(Bw)))})}o&&this.root.registerSharedNode(o,this),this.options.animate!==!1&&u&&(o||l)&&this.addEventListener("didUpdate",({delta:f,hasLayoutChanged:m,hasRelativeLayoutChanged:d,layout:y})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const x=this.options.transition||u.getDefaultTransition()||Qz,{onLayoutAnimationStart:_,onLayoutAnimationComplete:S}=u.getProps(),v=!this.targetLayout||!_C(this.targetLayout,y),b=!m&&d;if(this.options.layoutRoot||this.resumeFrom||b||m&&(v||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const E={...uv(x,"layout"),onPlay:_,onComplete:S};(u.shouldReduceMotion||this.options.layoutRoot)&&(E.delay=0,E.type=!1),this.startAnimation(E),this.setAnimationOrigin(f,b)}else m||Bw(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=y})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const a=this.getStack();a&&a.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),ki(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Gz),this.animationId++)}getTransformTemplate(){const{visualElement:a}=this.options;return a&&a.getProps().transformTemplate}willUpdate(a=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&bC(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let f=0;f<this.path.length;f++){const m=this.path[f];m.shouldResetTransform=!0,m.updateScroll("snapshot"),m.options.layoutRoot&&m.willUpdate(!1)}const{layoutId:o,layout:l}=this.options;if(o===void 0&&!l)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),a&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Lw);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(Uw);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(Fz),this.nodes.forEach(Lz),this.nodes.forEach(Uz)):this.nodes.forEach(Uw),this.clearAllSnapshots();const o=Ht.now();ft.delta=Br(0,1e3/60,o-ft.timestamp),ft.timestamp=o,ft.isProcessing=!0,bm.update.process(ft),bm.preRender.process(ft),bm.render.process(ft),ft.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,fv.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(jz),this.sharedNodes.forEach($z)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Me.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Me.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Ot(this.snapshot.measuredBox.x)&&!Ot(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const a=this.layout;this.layout=this.measure(!1),this.layoutCorrected=He(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:o}=this.options;o&&o.notify("LayoutMeasure",this.layout.layoutBox,a?a.layoutBox:void 0)}updateScroll(a="measure"){let o=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===a&&(o=!1),o&&this.instance){const l=r(this.instance);this.scroll={animationId:this.root.animationId,phase:a,isRoot:l,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!i)return;const a=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,o=this.projectionDelta&&!EC(this.projectionDelta),l=this.getTransformTemplate(),u=l?l(this.latestValues,""):void 0,f=u!==this.prevTransformTemplateValue;a&&this.instance&&(o||es(this.latestValues)||f)&&(i(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(a=!0){const o=this.measurePageBox();let l=this.removeElementScroll(o);return a&&(l=this.removeTransform(l)),Xz(l),{animationId:this.root.animationId,measuredBox:o,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var u;const{visualElement:a}=this.options;if(!a)return He();const o=a.measureViewportBox();if(!(((u=this.scroll)==null?void 0:u.wasRoot)||this.path.some(Wz))){const{scroll:f}=this.root;f&&(ha(o.x,f.offset.x),ha(o.y,f.offset.y))}return o}removeElementScroll(a){var l;const o=He();if(un(o,a),(l=this.scroll)!=null&&l.wasRoot)return o;for(let u=0;u<this.path.length;u++){const f=this.path[u],{scroll:m,options:d}=f;f!==this.root&&m&&d.layoutScroll&&(m.wasRoot&&un(o,a),ha(o.x,m.offset.x),ha(o.y,m.offset.y))}return o}applyTransform(a,o=!1){const l=He();un(l,a);for(let u=0;u<this.path.length;u++){const f=this.path[u];!o&&f.options.layoutScroll&&f.scroll&&f!==f.root&&fa(l,{x:-f.scroll.offset.x,y:-f.scroll.offset.y}),es(f.latestValues)&&fa(l,f.latestValues)}return es(this.latestValues)&&fa(l,this.latestValues),l}removeTransform(a){const o=He();un(o,a);for(let l=0;l<this.path.length;l++){const u=this.path[l];if(!u.instance||!es(u.latestValues))continue;Ag(u.latestValues)&&u.updateSnapshot();const f=He(),m=u.measurePageBox();un(f,m),Dw(o,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,f)}return es(this.latestValues)&&Dw(o,this.latestValues),o}setTargetDelta(a){this.targetDelta=a,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(a){this.options={...this.options,...a,crossfade:a.crossfade!==void 0?a.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==ft.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(a=!1){var d;const o=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=o.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=o.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=o.isSharedProjectionDirty);const l=!!this.resumingFrom||this!==o;if(!(a||l&&this.isSharedProjectionDirty||this.isProjectionDirty||(d=this.parent)!=null&&d.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:f,layoutId:m}=this.options;if(!(!this.layout||!(f||m))){if(this.resolvedRelativeTargetAt=ft.timestamp,!this.targetDelta&&!this.relativeTarget){const y=this.getClosestProjectingParent();y&&y.layout&&this.animationProgress!==1?(this.relativeParent=y,this.forceRelativeParentToResolveTarget(),this.relativeTarget=He(),this.relativeTargetOrigin=He(),El(this.relativeTargetOrigin,this.layout.layoutBox,y.layout.layoutBox),un(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=He(),this.targetWithTransforms=He()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),rz(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):un(this.target,this.layout.layoutBox),eC(this.target,this.targetDelta)):un(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const y=this.getClosestProjectingParent();y&&!!y.resumingFrom==!!this.resumingFrom&&!y.options.layoutScroll&&y.target&&this.animationProgress!==1?(this.relativeParent=y,this.forceRelativeParentToResolveTarget(),this.relativeTarget=He(),this.relativeTargetOrigin=He(),El(this.relativeTargetOrigin,this.target,y.target),un(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||Ag(this.parent.latestValues)||JN(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var x;const a=this.getLead(),o=!!this.resumingFrom||this!==a;let l=!0;if((this.isProjectionDirty||(x=this.parent)!=null&&x.isProjectionDirty)&&(l=!1),o&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(l=!1),this.resolvedRelativeTargetAt===ft.timestamp&&(l=!1),l)return;const{layout:u,layoutId:f}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||f))return;un(this.layoutCorrected,this.layout.layoutBox);const m=this.treeScale.x,d=this.treeScale.y;pB(this.layoutCorrected,this.treeScale,this.path,o),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox,a.targetWithTransforms=He());const{target:y}=a;if(!y){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Nw(this.prevProjectionDelta.x,this.projectionDelta.x),Nw(this.prevProjectionDelta.y,this.projectionDelta.y)),vl(this.projectionDelta,this.layoutCorrected,y,this.latestValues),(this.treeScale.x!==m||this.treeScale.y!==d||!Ow(this.projectionDelta.x,this.prevProjectionDelta.x)||!Ow(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",y))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(a=!0){var o;if((o=this.options.visualElement)==null||o.scheduleRender(),a){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=da(),this.projectionDelta=da(),this.projectionDeltaWithTransform=da()}setAnimationOrigin(a,o=!1){const l=this.snapshot,u=l?l.latestValues:{},f={...this.latestValues},m=da();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!o;const d=He(),y=l?l.source:void 0,x=this.layout?this.layout.source:void 0,_=y!==x,S=this.getStack(),v=!S||S.members.length<=1,b=!!(_&&!v&&this.options.crossfade===!0&&!this.path.some(Yz));this.animationProgress=0;let E;this.mixTargetDelta=N=>{const M=N/1e3;zw(m.x,a.x,M),zw(m.y,a.y,M),this.setTargetDelta(m),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(El(d,this.layout.layoutBox,this.relativeParent.layout.layoutBox),Kz(this.relativeTarget,this.relativeTargetOrigin,d,M),E&&Pz(this.relativeTarget,E)&&(this.isProjectionDirty=!1),E||(E=He()),un(E,this.relativeTarget)),_&&(this.animationValues=f,Sz(f,u,this.latestValues,M,b,v)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=M},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(a){var o,l,u;this.notifyListeners("animationStart"),(o=this.currentAnimation)==null||o.stop(),(u=(l=this.resumingFrom)==null?void 0:l.currentAnimation)==null||u.stop(),this.pendingAnimation&&(ki(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Me.update(()=>{Wu.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=$a(0)),this.currentAnimation=bz(this.motionValue,[0,1e3],{...a,velocity:0,isSync:!0,onUpdate:f=>{this.mixTargetDelta(f),a.onUpdate&&a.onUpdate(f)},onStop:()=>{},onComplete:()=>{a.onComplete&&a.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const a=this.getStack();a&&a.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(kz),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const a=this.getLead();let{targetWithTransforms:o,target:l,layout:u,latestValues:f}=a;if(!(!o||!l||!u)){if(this!==a&&this.layout&&u&&TC(this.options.animationType,this.layout.layoutBox,u.layoutBox)){l=this.target||He();const m=Ot(this.layout.layoutBox.x);l.x.min=a.target.x.min,l.x.max=l.x.min+m;const d=Ot(this.layout.layoutBox.y);l.y.min=a.target.y.min,l.y.max=l.y.min+d}un(o,l),fa(o,f),vl(this.projectionDeltaWithTransform,this.layoutCorrected,o,f)}}registerSharedNode(a,o){this.sharedNodes.has(a)||this.sharedNodes.set(a,new Mz),this.sharedNodes.get(a).add(o);const u=o.options.initialPromotionConfig;o.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(o):void 0})}isLead(){const a=this.getStack();return a?a.lead===this:!0}getLead(){var o;const{layoutId:a}=this.options;return a?((o=this.getStack())==null?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:a}=this.options;return a?(o=this.getStack())==null?void 0:o.prevLead:void 0}getStack(){const{layoutId:a}=this.options;if(a)return this.root.sharedNodes.get(a)}promote({needsReset:a,transition:o,preserveFollowOpacity:l}={}){const u=this.getStack();u&&u.promote(this,l),a&&(this.projectionDelta=void 0,this.needsReset=!0),o&&this.setOptions({transition:o})}relegate(){const a=this.getStack();return a?a.relegate(this):!1}resetSkewAndRotation(){const{visualElement:a}=this.options;if(!a)return;let o=!1;const{latestValues:l}=a;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(o=!0),!o)return;const u={};l.z&&Mm("z",a,u,this.animationValues);for(let f=0;f<Pm.length;f++)Mm(`rotate${Pm[f]}`,a,u,this.animationValues),Mm(`skew${Pm[f]}`,a,u,this.animationValues);a.render();for(const f in u)a.setStaticValue(f,u[f]),this.animationValues&&(this.animationValues[f]=u[f]);a.scheduleRender()}applyProjectionStyles(a,o){if(!this.instance||this.isSVG)return;if(!this.isVisible){a.visibility="hidden";return}const l=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,a.visibility="",a.opacity="",a.pointerEvents=Xu(o==null?void 0:o.pointerEvents)||"",a.transform=l?l(this.latestValues,""):"none";return}const u=this.getLead();if(!this.projectionDelta||!this.layout||!u.target){this.options.layoutId&&(a.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,a.pointerEvents=Xu(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!es(this.latestValues)&&(a.transform=l?l({},""):"none",this.hasProjected=!1);return}a.visibility="";const f=u.animationValues||u.latestValues;this.applyTransformsToTarget();let m=Vz(this.projectionDeltaWithTransform,this.treeScale,f);l&&(m=l(f,m)),a.transform=m;const{x:d,y}=this.projectionDelta;a.transformOrigin=`${d.origin*100}% ${y.origin*100}% 0`,u.animationValues?a.opacity=u===this?f.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:f.opacityExit:a.opacity=u===this?f.opacity!==void 0?f.opacity:"":f.opacityExit!==void 0?f.opacityExit:0;for(const x in Ql){if(f[x]===void 0)continue;const{correct:_,applyTo:S,isCSSVariable:v}=Ql[x],b=m==="none"?f[x]:_(f[x],u);if(S){const E=S.length;for(let N=0;N<E;N++)a[S[N]]=b}else v?this.options.visualElement.renderState.vars[x]=b:a[x]=b}this.options.layoutId&&(a.pointerEvents=u===this?Xu(o==null?void 0:o.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(a=>{var o;return(o=a.currentAnimation)==null?void 0:o.stop()}),this.root.nodes.forEach(Lw),this.root.sharedNodes.clear()}}}function Lz(t){t.updateLayout()}function Uz(t){var n;const e=((n=t.resumeFrom)==null?void 0:n.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=t.layout,{animationType:s}=t.options,a=e.source!==t.layout.source;s==="size"?hn(m=>{const d=a?e.measuredBox[m]:e.layoutBox[m],y=Ot(d);d.min=r[m].min,d.max=d.min+y}):TC(s,e.layoutBox,r)&&hn(m=>{const d=a?e.measuredBox[m]:e.layoutBox[m],y=Ot(r[m]);d.max=d.min+y,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[m].max=t.relativeTarget[m].min+y)});const o=da();vl(o,r,e.layoutBox);const l=da();a?vl(l,t.applyTransform(i,!0),e.measuredBox):vl(l,r,e.layoutBox);const u=!EC(o);let f=!1;if(!t.resumeFrom){const m=t.getClosestProjectingParent();if(m&&!m.resumeFrom){const{snapshot:d,layout:y}=m;if(d&&y){const x=He();El(x,e.layoutBox,d.layoutBox);const _=He();El(_,r,y.layoutBox),_C(x,_)||(f=!0),m.options.layoutRoot&&(t.relativeTarget=_,t.relativeTargetOrigin=x,t.relativeParent=m)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:e,delta:l,layoutDelta:o,hasLayoutChanged:u,hasRelativeLayoutChanged:f})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function Bz(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function zz(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function jz(t){t.clearSnapshot()}function Lw(t){t.clearMeasurements()}function Uw(t){t.isLayoutDirty=!1}function Fz(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function Bw(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function qz(t){t.resolveTargetDelta()}function Hz(t){t.calcProjection()}function Gz(t){t.resetSkewAndRotation()}function $z(t){t.removeLeadSnapshot()}function zw(t,e,n){t.translate=Oe(e.translate,0,n),t.scale=Oe(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function jw(t,e,n,r){t.min=Oe(e.min,n.min,r),t.max=Oe(e.max,n.max,r)}function Kz(t,e,n,r){jw(t.x,e.x,n.x,r),jw(t.y,e.y,n.y,r)}function Yz(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const Qz={duration:.45,ease:[.4,0,.1,1]},Fw=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),qw=Fw("applewebkit/")&&!Fw("chrome/")?Math.round:bn;function Hw(t){t.min=qw(t.min),t.max=qw(t.max)}function Xz(t){Hw(t.x),Hw(t.y)}function TC(t,e,n){return t==="position"||t==="preserve-aspect"&&!nz(kw(e),kw(n),.2)}function Wz(t){var e;return t!==t.root&&((e=t.scroll)==null?void 0:e.wasRoot)}const Zz=wC({attachResizeListener:(t,e)=>Xl(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Vm={current:void 0},xC=wC({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Vm.current){const t=new Zz({});t.mount(window),t.setOptions({layoutScroll:!0}),Vm.current=t}return Vm.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),Jz={pan:{Feature:yz},drag:{Feature:gz,ProjectionNode:xC,MeasureLayout:gC}};function Gw(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const i="onHover"+n,s=r[i];s&&Me.postRender(()=>s(e,Dc(e)))}class ej extends qi{mount(){const{current:e}=this.node;e&&(this.unmount=S8(e,(n,r)=>(Gw(this.node,r,"Start"),i=>Gw(this.node,i,"End"))))}unmount(){}}class tj extends qi{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Nc(Xl(this.node.current,"focus",()=>this.onFocus()),Xl(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function $w(t,e,n){const{props:r}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const i="onTap"+(n==="End"?"":n),s=r[i];s&&Me.postRender(()=>s(e,Dc(e)))}class nj extends qi{mount(){const{current:e}=this.node;e&&(this.unmount=I8(e,(n,r)=>($w(this.node,r,"Start"),(i,{success:s})=>$w(this.node,i,s?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Pg=new WeakMap,km=new WeakMap,rj=t=>{const e=Pg.get(t.target);e&&e(t)},ij=t=>{t.forEach(rj)};function sj({root:t,...e}){const n=t||document;km.has(n)||km.set(n,{});const r=km.get(n),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(ij,{root:t,...e})),r[i]}function aj(t,e,n){const r=sj(e);return Pg.set(t,n),r.observe(t),()=>{Pg.delete(t),r.unobserve(t)}}const oj={some:0,all:1};class lj extends qi{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:s}=e,a={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:oj[i]},o=l=>{const{isIntersecting:u}=l;if(this.isInView===u||(this.isInView=u,s&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:f,onViewportLeave:m}=this.node.getProps(),d=u?f:m;d&&d(l)};return aj(this.node.current,a,o)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(cj(e,n))&&this.startObserver()}unmount(){}}function cj({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const uj={inView:{Feature:lj},tap:{Feature:nj},focus:{Feature:tj},hover:{Feature:ej}},hj={layout:{ProjectionNode:xC,MeasureLayout:gC}},fj={...XB,...uj,...Jz,...hj},te=fB(fj,AB),dj=()=>{const[t,e]=I.useState(!1),[n,r]=I.useState({email:"",password:""}),[i,s]=I.useState("user"),a=ar(),o=async l=>{l.preventDefault();try{if(i==="user"&&n.email==="luxerental12@gmail.com"){alert("❌ Please use another account.");return}const f=(await wO(Ur,n.email,n.password)).user;if(i==="admin")if(f.email==="luxerental12@gmail.com"){alert("✅ Admin login successful!"),a("/admin");return}else{alert("❌ You are not authorized as Admin!");return}alert("✅ User login successful!"),a("/")}catch(u){u instanceof Error?alert("Login failed: "+u.message):alert("Login failed: An unknown error occurred.")}};return h.createElement("div",{className:"min-h-screen flex flex-col md:flex-row bg-gradient-to-br from-blue-100 via-white to-purple-100"},h.createElement("div",{className:"hidden md:flex md:w-1/2 items-center justify-center bg-white/60 backdrop-blur-lg p-10"},h.createElement("div",{className:"text-center space-y-6"},h.createElement("h1",{className:"text-5xl font-extrabold text-blue-700 tracking-tight"},"LuxeRental"),h.createElement("p",{className:"text-lg text-gray-700"},"Rent luxury. Wear royalty."),h.createElement(te.img,{src:"/assets/Login Pic.png",alt:"Seasonal fashion illustration",className:"w-72 h-auto rounded-xl",animate:{scale:[1,1.05,1]},transition:{duration:1,repeat:1/0,ease:"easeInOut"}}))),h.createElement("div",{className:"flex w-full md:w-1/2 items-center justify-center px-6 py-12"},h.createElement(te.div,{className:"w-full max-w-md backdrop-blur-lg rounded-xl p-8 space-y-6",initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{duration:.6}},h.createElement("div",{className:"text-center"},h.createElement("h2",{className:"text-3xl font-bold text-gray-800"},"Welcome Back"),h.createElement("p",{className:"text-sm text-gray-600 mt-1"},"Sign in to your LuxeRental account")),h.createElement("div",{className:"flex justify-center gap-4 mb-4"},h.createElement("button",{type:"button",onClick:()=>s("user"),className:`px-4 py-2 rounded-lg font-medium ${i==="user"?"bg-blue-600 text-white":"bg-gray-200 text-gray-700"}`},"User"),h.createElement("button",{type:"button",onClick:()=>s("admin"),className:`px-4 py-2 rounded-lg font-medium ${i==="admin"?"bg-purple-600 text-white":"bg-gray-200 text-gray-700"}`},"Admin")),h.createElement("form",{onSubmit:o,className:"space-y-5"},h.createElement("div",{className:"relative"},h.createElement(_s,{className:"absolute left-3 top-3 h-5 w-5 text-gray-400"}),h.createElement("input",{type:"email",required:!0,placeholder:"Email address",value:n.email,onChange:l=>r({...n,email:l.target.value}),className:"w-full pl-10 pr-3 py-3 rounded-lg border border-gray-300 focus:ring-2 focus:ring-blue-500 focus:outline-none"})),h.createElement("div",{className:"relative"},h.createElement(Op,{className:"absolute left-3 top-3 h-5 w-5 text-gray-400"}),h.createElement("input",{type:t?"text":"password",required:!0,placeholder:"Password",value:n.password,onChange:l=>r({...n,password:l.target.value}),autoComplete:"current-password",className:"w-full pl-10 pr-12 py-3 rounded-lg border border-gray-300 focus:ring-2 focus:ring-blue-500 focus:outline-none"}),h.createElement("button",{type:"button",className:"absolute right-3 top-3",onClick:()=>e(!t)},t?h.createElement(kp,{className:"h-5 w-5 text-gray-400"}):h.createElement(Ih,{className:"h-5 w-5 text-gray-400"}))),i==="user"&&h.createElement("div",{className:"flex items-center justify-between text-sm"},h.createElement("label",{className:"flex items-center"},h.createElement("input",{type:"checkbox",className:"h-4 w-4 text-blue-600 border-gray-300 rounded"}),h.createElement("span",{className:"ml-2 text-gray-700"},"Remember me")),h.createElement("a",{href:"#",className:"text-blue-600 hover:underline"},"Forgot password?")),h.createElement("button",{type:"submit",className:"w-full py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition"},i==="admin"?"Sign in as Admin":"Sign in"),i==="user"&&h.createElement("p",{className:"text-center text-sm text-gray-600"},"Don't have an account?"," ",h.createElement(ie,{to:"/signup",className:"text-blue-600 hover:underline font-medium"},"Sign up here"))))))},mj=()=>{const[t,e]=I.useState(!1),[n,r]=I.useState(!1),[i,s]=I.useState({name:"",email:"",phone:"",password:"",confirmPassword:""}),a=ar(),o=async l=>{l.preventDefault();const{name:u,email:f,phone:m,password:d,confirmPassword:y}=i;if(d!==y){alert("❌ Passwords do not match!");return}if(f.toLowerCase()==="luxerental12@gmail.com"){alert("❌ Signup with this email is not allowed!");return}try{const _=(await bO(Ur,f,d)).user;await xO(_,{displayName:u}),await W9(Nt(ge,"users",_.uid),{uid:_.uid,name:u,email:f,phone:m,createdAt:new Date}),alert("✅ Account created successfully!"),a("/")}catch(x){console.log(x),x instanceof Error?alert("Signup failed: "+x.message):alert("Signup failed: An unknown error occurred.")}};return h.createElement("div",{className:"min-h-screen flex flex-col md:flex-row bg-gradient-to-br from-blue-100 via-white to-purple-100"},h.createElement("div",{className:"hidden md:flex md:w-1/2 items-center justify-center bg-white/60 backdrop-blur-lg p-10"},h.createElement("div",{className:"text-center space-y-6"},h.createElement("h1",{className:"text-5xl font-extrabold text-blue-700 tracking-tight"},"LuxeRental"),h.createElement("p",{className:"text-lg text-gray-700"},"Rent luxury. Wear royalty."),h.createElement(te.img,{src:"/assets/Signup (2).png",alt:"Seasonal fashion illustration",className:"w-72 h-auto rounded-xl ",animate:{scale:[1,1.05,1]},transition:{duration:1,repeat:1/0,ease:"easeInOut"}}))),h.createElement("div",{className:"flex w-full md:w-1/2 items-center justify-center px-6 py-12"},h.createElement(te.div,{className:"w-full max-w-md backdrop-blur-lg rounded-xl  p-8 space-y-6",initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{duration:.6}},h.createElement("div",{className:"text-center"},h.createElement("h2",{className:"text-3xl font-bold text-gray-800"},"Create Account"),h.createElement("p",{className:"text-sm text-gray-600 mt-1"},"Join LuxeRental and start renting luxury fashion")),h.createElement("form",{onSubmit:o,className:"space-y-5"},h.createElement("div",{className:"relative"},h.createElement(qy,{className:"absolute left-3 top-3 h-5 w-5 text-gray-400"}),h.createElement("input",{type:"text",required:!0,placeholder:"Full Name",value:i.name,onChange:l=>s({...i,name:l.target.value}),className:"pl-10 pr-3 py-3 w-full border border-gray-300 rounded-lg focus:ring-blue-500 focus:outline-none"})),h.createElement("div",{className:"relative"},h.createElement(_s,{className:"absolute left-3 top-3 h-5 w-5 text-gray-400"}),h.createElement("input",{type:"email",required:!0,placeholder:"Email address",value:i.email,onChange:l=>s({...i,email:l.target.value}),className:"pl-10 pr-3 py-3 w-full border border-gray-300 rounded-lg focus:ring-blue-500 focus:outline-none"})),h.createElement("div",{className:"relative"},h.createElement("input",{type:"text",required:!0,placeholder:"Phone Number",value:i.phone,onChange:l=>s({...i,phone:l.target.value}),className:"pl-3 pr-3 py-3 w-full border border-gray-300 rounded-lg focus:ring-blue-500 focus:outline-none"})),h.createElement("div",{className:"relative"},h.createElement(Op,{className:"absolute left-3 top-3 h-5 w-5 text-gray-400"}),h.createElement("input",{type:t?"text":"password",required:!0,placeholder:"Password",value:i.password,onChange:l=>s({...i,password:l.target.value}),className:"pl-10 pr-12 py-3 w-full border border-gray-300 rounded-lg focus:ring-blue-500 focus:outline-none"}),h.createElement("button",{type:"button",className:"absolute right-3 top-3",onClick:()=>e(!t)},t?h.createElement(kp,{className:"h-5 w-5 text-gray-400"}):h.createElement(Ih,{className:"h-5 w-5 text-gray-400"}))),h.createElement("div",{className:"relative"},h.createElement(Op,{className:"absolute left-3 top-3 h-5 w-5 text-gray-400"}),h.createElement("input",{type:n?"text":"password",required:!0,placeholder:"Confirm Password",value:i.confirmPassword,onChange:l=>s({...i,confirmPassword:l.target.value}),className:"pl-10 pr-12 py-3 w-full border border-gray-300 rounded-lg focus:ring-blue-500 focus:outline-none"}),h.createElement("button",{type:"button",className:"absolute right-3 top-3",onClick:()=>r(!n)},n?h.createElement(kp,{className:"h-5 w-5 text-gray-400"}):h.createElement(Ih,{className:"h-5 w-5 text-gray-400"}))),h.createElement("div",{className:"flex items-center text-sm"},h.createElement("input",{id:"agree-terms",name:"agree-terms",type:"checkbox",required:!0,className:"h-4 w-4 text-blue-600 border-gray-300 rounded"}),h.createElement("label",{htmlFor:"agree-terms",className:"ml-2 text-gray-700"},"I agree to the"," ",h.createElement(ie,{to:"/policies",className:"text-blue-600 hover:underline"},"Terms of Service")," ","and"," ",h.createElement(ie,{to:"/policies",className:"text-blue-600 hover:underline"},"Privacy Policy"))),h.createElement("button",{type:"submit",className:"w-full py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition"},"Create Account"),h.createElement("p",{className:"text-center text-sm text-gray-600"},"Already have an account?"," ",h.createElement(ie,{to:"/login",className:"text-blue-600 hover:underline font-medium"},"Sign in here"))))))},pj=()=>h.createElement("section",{className:"relative min-h-screen flex items-center justify-center bg-gradient-to-r from-blue-900 via-blue-800 to-blue-700"},h.createElement("div",{className:"absolute inset-0 bg-cover bg- bg-no-repeat opacity-30",style:{backgroundImage:"url(https://www.islamabadscene.com/wp-content/uploads/2017/08/Azadi-sale-Islamabad-Scene1.jpg)"}}),h.createElement("div",{className:"relative z-10 max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 text-center"},h.createElement(te.h1,{className:"text-5xl md:text-7xl font-bold text-white mb-6 leading-tight",initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8,delay:.2}},"Rent Designer Outfits for Your",h.createElement("span",{className:"text-amber-400"}," Special Events")),h.createElement(te.p,{className:"text-xl md:text-2xl text-blue-100 mb-8 leading-relaxed max-w-3xl mx-auto",initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8,delay:.4}},"Look your best without spending a fortune – rent wedding & event wear easily with our premium collection"),h.createElement(te.div,{className:"flex flex-col sm:flex-row gap-4 justify-center items-center",initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8,delay:.6}},h.createElement(ie,{to:"/shop",className:"bg-amber-600 hover:bg-amber-700 text-white px-8 py-4 rounded-lg text-lg font-semibold transition-all duration-300 transform hover:scale-105 shadow-lg"},"Browse Collection"),h.createElement(ie,{to:"/wishlist",className:"bg-transparent border-2 border-white text-white hover:bg-white hover:text-blue-900 px-8 py-4 rounded-lg text-lg font-semibold transition-all duration-300 transform hover:scale-105"},"Wants your Favourite Outfits")))),gj=[{icon:S6,title:"Wide Variety of Outfits",description:"From traditional wear to designer gowns, find the perfect outfit for any occasion"},{icon:zy,title:"Affordable Rental Prices",description:"Wear luxury fashion without the luxury price tag. Save up to 90% compared to buying"},{icon:Ua,title:"Easy Booking & Returns",description:"Simple online booking process with convenient pickup and return options"},{icon:xf,title:"Transparent Fine Policy",description:"Clear and fair late return policy. No hidden fees, just transparent pricing"}],yj=()=>h.createElement("section",{className:"py-20 bg-gray-50"},h.createElement("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},h.createElement(te.div,{className:"text-center mb-16",initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{duration:.8},viewport:{once:!0}},h.createElement("h2",{className:"text-4xl md:text-5xl font-bold text-gray-900 mb-4"},"Why Choose ",h.createElement("span",{className:"bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent"},"LuxeRental?")),h.createElement("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto"},"We make luxury fashion accessible with our premium rental service and customer-first approach")),h.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8"},gj.map((t,e)=>h.createElement(te.div,{key:e,className:"p-6 bg-white rounded-2xl shadow-md hover:shadow-xl transition-all duration-300 group",initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{duration:.8,delay:e*.1},viewport:{once:!0}},h.createElement("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-6 shadow-md group-hover:scale-110 transition-transform duration-300"},h.createElement(t.icon,{className:"h-8 w-8 text-white"})),h.createElement("h3",{className:"text-xl font-bold mb-3 bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent"},t.title),h.createElement("p",{className:"text-gray-600 leading-relaxed"},t.description)))))),vj=[{icon:aS,title:"Browse & Select Outfit",description:"Explore our curated collection and find the perfect outfit for your event"},{icon:O4,title:"Choose Rental Period",description:"Select your rental dates and duration based on your event schedule"},{icon:cS,title:"Get Outfit Delivered",description:"Receive your outfit cleaned, pressed, and ready to wear at your doorstep"},{icon:Fy,title:"Return on Time",description:"Return the outfit after your event or pay a small fine if returned late"}],Ej=()=>h.createElement("section",{className:"py-20 bg-gray-50"},h.createElement("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},h.createElement(te.div,{className:"text-center mb-16",initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{duration:.8},viewport:{once:!0}},h.createElement("h2",{className:"text-4xl md:text-5xl font-bold text-gray-900 mb-4"},"How ",h.createElement("span",{className:"bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent"},"It Works")),h.createElement("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto"},"Simple, hassle-free process to rent your dream outfit in just four easy steps")),h.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-10"},vj.map((t,e)=>h.createElement(te.div,{key:e,className:`relative group bg-white/70 backdrop-blur-xl border border-gray-200 
                         rounded-2xl p-8 shadow-sm hover:shadow-2xl transition-all duration-300 text-center`,initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{duration:.8,delay:e*.1},viewport:{once:!0}},h.createElement("div",{className:"absolute -top-7 left-1/2 -translate-x-1/2"},h.createElement("div",{className:`w-16 h-16 rounded-2xl bg-gradient-to-tr from-blue-600 to-purple-500 
                                flex items-center justify-center shadow-md group-hover:scale-110 transition`},h.createElement(t.icon,{className:"h-7 w-7 text-white"}))),h.createElement("h3",{className:"mt-12 text-xl font-bold text-gray-900"},t.title),h.createElement("p",{className:"mt-4 text-gray-600 leading-relaxed"},t.description)))))),_j=[{title:"Bridal Wear",image:"https://www.nameerabyfarooq.com/cdn/shop/files/ZincRedKameezLehengaforPakistaniBridalDresses_900x.jpg?v=1683300571",description:"Bridal gowns and wedding outfits"},{title:"Textured Cotton",image:"https://blog.g3fashion.com/wp-content/uploads/2024/08/floral_printed_cream_silk_sharara_suit_1710847563as2931547-768x1024.webp",description:"Business attire and formal wear"},{title:"Casual Dresses",image:"https://www.stylesgap.com/wp-content/uploads/2018/09/ALKARAM-Pakistani-Fashion-Latest-Women-Best-Winter-Dresses-2019-2020-Designs-1.jpg",description:"Cocktail and party outfits"},{title:"Traditional Wear",image:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQNpTP8P3EASYz522We-3UsY0ZtRLUTYBRCNg&s",description:"Cultural and traditional attire"},{title:"Groom Wear",image:"https://nameerabridal.com/wp-content/uploads/2025/02/12.webp",description:"Suits and formal groom wear"},{title:"Cast and Crew Mens",image:"https://janan.com/cdn/shop/files/30727_r15_1__3.webp?v=1756394893&width=1080",description:"Designer Groom collections"}],bj=()=>h.createElement("section",{className:"py-20 bg-white"},h.createElement("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},h.createElement(te.div,{className:"text-center mb-16",initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{duration:.8},viewport:{once:!0}},h.createElement("h2",{className:"text-4xl md:text-5xl font-bold text-gray-900 mb-4"},"Featured ",h.createElement("span",{className:"bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent"},"Collection")),h.createElement("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto"},"Discover our carefully curated collections for every special occasion and event")),h.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8"},_j.map((t,e)=>h.createElement(te.div,{key:e,className:"group cursor-pointer overflow-hidden rounded-lg shadow-lg hover:shadow-xl transition-all duration-300",initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{duration:.8,delay:e*.1},viewport:{once:!0}},h.createElement("div",{className:"relative overflow-hidden"},h.createElement("img",{src:t.image,alt:t.title,className:`w-full h-80 object-cover object-top group-hover:scale-110 transition-transform duration-500 ${t.title==="Bride Specials"||t.title==="Wedding Wear"?"object-top":"object-center"}`}),h.createElement("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 via-black/20 to-transparent"}),h.createElement("div",{className:"absolute bottom-4 left-4 text-white"},h.createElement("h3",{className:"text-2xl font-bold mb-1"},t.title),h.createElement("p",{className:"text-gray-200"},t.description))),h.createElement("div",{className:"p-6 bg-white"},h.createElement(ie,{to:"/shop",className:"inline-flex items-center text-blue-700 font-semibold hover:text-blue-800 transition-colors duration-200"},"Shop Collection",h.createElement("svg",{className:"ml-2 h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},h.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 5l7 7-7 7"}))))))))),wj=[{name:"Zara Khan",role:"Bride",content:"Saved me so much money on my sister's wedding outfit! The dress was absolutely stunning and fit perfectly. The quality was exceptional.",rating:5,image:"https://images.pexels.com/photos/1130626/pexels-photo-1130626.jpeg?auto=compress&cs=tinysrgb&w=150&h=150&fit=crop"},{name:"Muhammad Shayan",role:"Groom",content:"Perfect for my wedding day! The suit was immaculate and the rental process was seamless. Highly recommend LuxeRental to everyone.",rating:5,image:"https://images.pexels.com/photos/1043471/pexels-photo-1043471.jpeg?auto=compress&cs=tinysrgb&w=150&h=150&fit=crop"},{name:"Mudassir Ali",role:"Event Attendee",content:"Amazing selection of formal wear! I found the perfect cocktail dress for a corporate gala. Will definitely use this service again.",rating:5,image:"https://images.pexels.com/photos/1040945/pexels-photo-1040945.jpeg?auto=compress&cs=tinysrgb&w=150&h=150&fit=crop"}],Tj=()=>h.createElement("section",{className:"py-20 bg-blue-50"},h.createElement("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},h.createElement(te.div,{className:"text-center mb-16",initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{duration:.8},viewport:{once:!0}},h.createElement("h2",{className:"text-4xl md:text-5xl font-bold text-gray-900 mb-4"},"What Our ",h.createElement("span",{className:"bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent"},"Customers Says")),h.createElement("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto"},"Don't just take our word for it – hear from satisfied customers who looked amazing at their events")),h.createElement("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8"},wj.map((t,e)=>h.createElement(te.div,{key:e,className:"bg-white p-8 rounded-lg shadow-lg hover:shadow-xl transition-all duration-300",initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{duration:.8,delay:e*.1},viewport:{once:!0}},h.createElement("div",{className:"flex items-center mb-4"},[...Array(t.rating)].map((n,r)=>h.createElement(C6,{key:r,className:"h-5 w-5 text-yellow-500 fill-current"}))),h.createElement("p",{className:"text-gray-600 mb-6 leading-relaxed italic"},'"',t.content,'"'),h.createElement("div",{className:"flex items-center"},h.createElement("img",{src:t.image,alt:t.name,className:"w-12 h-12 rounded-full object-cover mr-4"}),h.createElement("div",null,h.createElement("h4",{className:"font-semibold text-gray-900"},t.name),h.createElement("p",{className:"text-gray-500 text-sm"},t.role)))))))),xj=()=>h.createElement("section",{className:"py-20 bg-gradient-to-r from-blue-900 via-blue-800 to-blue-700 relative"},h.createElement("div",{className:"absolute inset-0 bg-cover bg-top bg-no-repeat opacity-20",style:{backgroundImage:"url(https://images.pexels.com/photos/21837292/pexels-photo-21837292.jpeg)"}}),h.createElement("div",{className:"relative z-10 max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 text-center"},h.createElement(te.h2,{className:"text-4xl md:text-6xl font-bold text-white mb-6",initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{duration:.8},viewport:{once:!0}},"Ready to Rent Your",h.createElement("span",{className:"text-amber-400"}," Dream Outfit?")),h.createElement(te.p,{className:"text-xl text-blue-100 mb-8 leading-relaxed max-w-2xl mx-auto",initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{duration:.8,delay:.2},viewport:{once:!0}},"Join thousands of satisfied customers who chose LuxeRental for their special events. Browse our collection today!"),h.createElement(te.div,{className:"flex flex-col sm:flex-row gap-4 justify-center items-center",initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{duration:.8,delay:.4},viewport:{once:!0}},h.createElement(ie,{to:"/shop",className:"bg-amber-600 hover:bg-amber-700 text-white px-10 py-4 rounded-lg text-lg font-semibold transition-all duration-300 transform hover:scale-105 shadow-lg"},"Explore Collection Now"),h.createElement(ie,{to:"/contact",className:"bg-transparent border-2 border-white text-white hover:bg-white hover:text-blue-900 px-10 py-4 rounded-lg text-lg font-semibold transition-all duration-300 transform hover:scale-105"},"Get in Touch")))),Aj=()=>h.createElement("div",{className:"pt-16"},h.createElement(pj,null),h.createElement(yj,null),h.createElement(Ej,null),h.createElement(bj,null),h.createElement(Tj,null),h.createElement(xj,null)),Sj=()=>{const[t,e]=I.useState([]),{wishlist:n,addToWishlist:r,removeFromWishlist:i}=H0(),[s,a]=I.useState(""),[o,l]=I.useState("All"),[u,f]=I.useState("All");I.useEffect(()=>{const _=Cn(kt(ge,"products"),S=>{e(S.docs.map(v=>({id:v.id,...v.data()})))});return()=>_()},[]);const m=_=>n.some(S=>S.id===_),d=["All",...Array.from(new Set(t.map(_=>_.category)))],y=["All","Male","Female"],x=t.filter(_=>{const S=_.title.toLowerCase().includes(s.toLowerCase())||_.description&&_.description.toLowerCase().includes(s.toLowerCase()),v=o==="All"?!0:_.category===o,b=u==="All"?!0:_.gender===u;return S&&v&&b});return h.createElement("div",{className:"pt-20 max-w-7xl mx-auto px-6 mb-20"},h.createElement("h1",{className:"text-4xl font-extrabold mb-12 text-center bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent"},"✨ Our Collection"),h.createElement("div",{className:"mb-10 flex flex-col md:flex-row md:items-center md:justify-between gap-6"},h.createElement("div",{className:"relative w-full"},h.createElement("input",{type:"text",placeholder:"Search outfits, dresses, styles...",value:s,onChange:_=>a(_.target.value),className:"w-full pl-12 pr-4 py-3 rounded-full border border-gray-200 shadow-sm focus:ring-2 focus:ring-purple-500 focus:outline-none"}),h.createElement(aS,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 w-5 h-5"})),h.createElement("div",{className:"relative w-full md:w-auto"},h.createElement("select",{value:u,onChange:_=>f(_.target.value),className:`w-full md:w-auto px-5 py-3 pr-12 rounded-full font-medium text-white shadow-lg 
               bg-gradient-to-r from-blue-600 to-purple-600 
               focus:outline-none focus:ring-2 focus:ring-purple-400 transition duration-200
               appearance-none cursor-pointer`},y.map(_=>h.createElement("option",{key:_,value:_,className:"text-gray-800"},_))),h.createElement("div",{className:"absolute inset-y-0 right-4 flex items-center pointer-events-none"},h.createElement("svg",{className:"w-5 h-5 text-white opacity-80",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},h.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 9l-7 7-7-7"}))))),h.createElement("div",{className:"flex flex-wrap justify-center gap-3 mb-10"},d.map(_=>h.createElement("button",{key:_,onClick:()=>l(_),className:`px-5 py-2 rounded-full font-medium transition-all duration-300 ${o===_?"bg-gradient-to-r from-blue-600 to-purple-600 text-white shadow-md":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`},_))),h.createElement("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-10"},x.map(_=>{const S=m(_.id);return h.createElement("div",{key:_.id,className:"rounded-2xl p-[2px] bg-gradient-to-r from-blue-600 to-purple-600 shadow-lg hover:shadow-xl transition duration-300"},h.createElement("div",{className:"bg-white rounded-2xl overflow-hidden flex flex-col h-full"},h.createElement(ie,{to:`/product/${_.id}`,className:"flex flex-col h-full"},h.createElement("div",{className:"relative"},h.createElement("img",{src:_.image,alt:_.title,className:"w-full h-64 object-cover object-top hover:scale-105 transition-transform duration-500"}),h.createElement("span",{className:"absolute top-3 left-3 px-3 py-1 rounded-full text-xs font-medium bg-gradient-to-r from-blue-600 to-purple-600 text-white shadow"},_.category),h.createElement("button",{onClick:v=>{v.preventDefault(),S?i(_.id):r(_)},className:`absolute top-3 right-3 p-2 rounded-full shadow transition ${S?"bg-red-500 text-white animate-pulse":"bg-white text-gray-600 hover:text-red-500"}`},h.createElement(Dh,{className:`w-5 h-5 ${S?"fill-current":""}`}))),h.createElement("div",{className:"p-5 flex flex-col flex-grow"},h.createElement("h2",{className:"text-lg font-bold mb-2 bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent line-clamp-1"},_.title),h.createElement("p",{className:"text-gray-600 text-sm mb-4 line-clamp-2"},_.description?_.description:`Perfect ${_.category.toLowerCase()} for your style.`),h.createElement("div",{className:"mt-auto flex items-center justify-between"},h.createElement("p",{className:"text-lg font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent"},"Rs. ",_.price),h.createElement("span",{className:"inline-flex items-center gap-1 text-sm font-semibold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent hover:underline"},"View Details",h.createElement(C4,{className:"w-4 h-4 transition-transform group-hover:translate-x-1"})))))))})))},Rj=()=>{const{id:t}=ky(),e=ar(),{wishlist:n,addToWishlist:r,removeFromWishlist:i}=H0(),[s,a]=I.useState(null),[o,l]=I.useState([]),[u,f]=I.useState(0);if(I.useEffect(()=>{if(!t)return;const _=Cn(Nt(ge,"products",t),S=>{if(S.exists()){const b={...S.data(),id:S.id};a(b);const E=[b.image,...b.images??[]];l(E),f(0)}else a(null)});return()=>_()},[t]),!s)return h.createElement("div",{className:"pt-16 text-center text-red-600 text-xl font-semibold"},"Product not found");const m=n.some(_=>_.id===s.id),d=()=>{f(_=>_===0?o.length-1:_-1)},y=()=>{f(_=>_===o.length-1?0:_+1)},x=_=>{f(_)};return h.createElement("div",{className:"pt-20 max-w-6xl mx-auto px-6 mb-6"},h.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-12 items-start"},h.createElement("div",{className:"space-y-4 relative"},h.createElement("div",{className:"relative"},h.createElement("img",{src:o[u],alt:s.title,className:"w-full h-96 object-contain rounded-2xl shadow-lg bg-gray-100"}),o.length>1&&h.createElement("button",{onClick:d,className:"absolute top-1/2 left-3 -translate-y-1/2 bg-gradient-to-r from-blue-600 to-purple-600 text-white p-2 rounded-full shadow-md hover:scale-105 transition"},"‹"),o.length>1&&h.createElement("button",{onClick:y,className:"absolute top-1/2 right-3 -translate-y-1/2 bg-gradient-to-r from-blue-600 to-purple-600 text-white p-2 rounded-full shadow-md hover:scale-105 transition"},"›")),o.length>1&&h.createElement("div",{className:"grid grid-cols-4 gap-4"},o.map((_,S)=>h.createElement("img",{key:S,src:_,alt:`${s.title} ${S+1}`,onClick:()=>x(S),className:`w-full h-24 object-contain rounded-xl border cursor-pointer transition 
                    ${u===S?"ring-2 ring-purple-600":"hover:scale-105"}`})))),h.createElement("div",null,h.createElement("h1",{className:"text-4xl font-bold mb-2 bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent"},s.title),h.createElement("p",{className:"text-2xl font-bold text-purple-700 mb-2"},"Rs. ",s.price),h.createElement("span",{className:"inline-block bg-purple-500 text-white text-sm px-3 py-1 rounded-full mb-6"},s.category),h.createElement("p",{className:"text-gray-600 mb-6 leading-relaxed"},s.description?s.description:`A stylish ${s.category.toLowerCase()} perfect for any occasion.`),h.createElement("div",{className:"flex flex-col sm:flex-row gap-4 mb-8"},h.createElement("button",{onClick:()=>e(`/rent/${s.id}`),className:"flex-1 bg-gradient-to-r from-blue-700 to-purple-600 text-white text-center py-3 rounded-xl font-semibold hover:from-blue-800 hover:to-purple-700 transition"},"Rent Now"),h.createElement("button",{onClick:()=>m?i(s.id):r(s),className:`flex-1 py-3 rounded-xl font-semibold transition flex items-center justify-center gap-2 border-2 ${m?"bg-red-500 border-red-500 text-white hover:bg-red-600":"border-blue-600 text-blue-600 hover:bg-blue-50"}`},h.createElement(Dh,{className:`w-5 h-5 ${m?"fill-current text-white":""}`}),m?"Remove from Wishlist":"Add to Wishlist")),h.createElement("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4"},h.createElement("div",{className:"p-4 bg-gray-50 rounded-xl text-center shadow-sm"},h.createElement(cS,{className:"mx-auto text-blue-600 mb-2"}),h.createElement("p",{className:"text-sm font-medium text-gray-700"},"Free Delivery")),h.createElement("div",{className:"p-4 bg-gray-50 rounded-xl text-center shadow-sm"},h.createElement(Fy,{className:"mx-auto text-blue-600 mb-2"}),h.createElement("p",{className:"text-sm font-medium text-gray-700"},"Easy Returns")),h.createElement("div",{className:"p-4 bg-gray-50 rounded-xl text-center shadow-sm"},h.createElement(oS,{className:"mx-auto text-blue-600 mb-2"}),h.createElement("p",{className:"text-sm font-medium text-gray-700"},"Secure Rental"))))))},Nj=()=>{var l,u;const{orders:t,updateOrderStatus:e}=q0(),[n,r]=I.useState("rentals"),i=Ur.currentUser;if(!i)return h.createElement("div",{className:"p-6 text-center text-gray-600"},"⚠️ Please login to view your profile.");const s=t.filter(f=>f.userId===i.uid),a=f=>{if(f.status!=="Accepted"||!f.rentalEndDate||isNaN(new Date(f.rentalEndDate).getTime()))return 0;const m=new Date,d=new Date(f.rentalEndDate);if(m<=d)return 0;const y=Math.floor((m.getTime()-d.getTime())/(1e3*60*60*24));let x=0;return y===1||y===2?x=y*1e3:y>2&&y<=14?x=y*2e3:y>14&&(x=f.productPrice),x},o=async f=>{try{await e(f,"Return Pending")}catch(m){console.error("Error requesting return:",m)}};return h.createElement("div",{className:"pt-24 p-6 max-w-7xl mx-auto"},h.createElement("div",{className:"w-full bg-gradient-to-r from-blue-600 to-purple-600 text-white p-8 rounded-2xl shadow-lg mb-8 flex items-center gap-6"},h.createElement("div",{className:"w-24 h-24 bg-white/20 flex items-center justify-center rounded-full text-4xl font-bold"},i.displayName?i.displayName[0]:(u=(l=i.email)==null?void 0:l[0])==null?void 0:u.toUpperCase()),h.createElement("div",null,h.createElement("h1",{className:"text-2xl font-bold"},i.displayName||"User"),h.createElement("p",{className:"text-gray-100"},i.email),h.createElement("p",{className:"text-sm text-gray-300"},"UID: ",i.uid))),h.createElement("div",{className:"mb-6 flex gap-3"},h.createElement("button",{onClick:()=>r("rentals"),className:`px-6 py-2 rounded-lg font-medium transition ${n==="rentals"?"bg-blue-600 text-white shadow":"bg-gray-200 hover:bg-gray-300"}`},"My Rentals")),n==="rentals"&&h.createElement("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-8"},s.length===0?h.createElement("p",{className:"text-gray-500 text-center py-10 col-span-full"},"📦 You haven’t rented anything yet."):s.map(f=>{const m=a(f);return h.createElement("div",{key:f.id,className:"rounded-2xl p-[2px] bg-gradient-to-r from-blue-600 to-purple-600 shadow-lg hover:shadow-xl transition duration-300"},h.createElement("div",{className:"bg-white rounded-2xl overflow-hidden flex flex-col h-full"},f.productImage&&h.createElement("div",{className:"relative"},h.createElement("img",{src:f.productImage,alt:f.productTitle,className:"w-full h-56 object-cover object-top hover:scale-105 transition-transform duration-500"}),h.createElement("span",{className:"absolute top-3 left-3 px-3 py-1 rounded-full text-xs font-medium bg-white/90 shadow"},f.status)),h.createElement("div",{className:"p-5 flex flex-col flex-grow"},h.createElement("h2",{className:"text-lg font-bold mb-2 bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent line-clamp-1 flex items-center gap-2"},h.createElement(Ua,{className:"w-5 h-5 text-blue-600"})," ",f.productTitle),h.createElement("div",{className:"space-y-1 text-sm text-gray-600 mb-3"},h.createElement("p",{className:"flex items-center gap-2"},h.createElement(xf,{className:"w-4 h-4 text-gray-500"})," Duration:"," ",f.duration),h.createElement("p",{className:"flex items-center gap-2"},h.createElement(zy,{className:"w-4 h-4 text-green-600"})," Rs."," ",f.productPrice),h.createElement("p",{className:"flex items-center gap-2"},h.createElement(Ch,{className:"w-4 h-4 text-blue-600"})," ","Start: ",f.rentalStartDate||"Not set"),h.createElement("p",{className:"flex items-center gap-2"},h.createElement(Ch,{className:"w-4 h-4 text-purple-600"})," ","End: ",f.rentalEndDate||"Not set"),m>0&&h.createElement("p",{className:"flex items-center gap-2 text-red-600 font-semibold mt-2 bg-red-50 px-3 py-1 rounded-md"},h.createElement(lS,{className:"w-4 h-4"})," Fine: Rs."," ",m)),f.status==="Accepted"&&h.createElement("button",{onClick:()=>o(f.id),className:"mt-auto px-4 py-2 bg-orange-500 text-white rounded-lg hover:bg-orange-600 transition flex items-center gap-2 text-sm"},h.createElement(Fy,{className:"w-4 h-4"})," Request Return"))))})))},Cj=()=>{const t=[{icon:D6,title:"Our Mission",description:"Making luxury fashion accessible and affordable for everyone, regardless of budget or occasion."},{icon:Ih,title:"Our Vision",description:"Creating a world where you can wear luxury without owning it, promoting sustainable fashion choices."},{icon:uS,title:"Our Community",description:"Building a community of fashion-conscious individuals who value quality, style, and sustainability."},{icon:D4,title:"Our Promise",description:"Delivering exceptional quality, service, and experience with every rental interaction."}],e=[{name:"Zahoor Ahmed",role:"Founder & CEO",image:"/team/zahoor-ahmed.png",linkedin:"https://linkedin.com/in/zahoorahmed",github:"https://github.com/zahoorahmed"},{name:"Mudassir Ali",role:"Founder & CEO",image:"/team/zahoor-ahmed.png",linkedin:"https://linkedin.com/in/zahoorali",github:"https://github.com/zahoorali"},{name:"Basit Ali",role:"Founder & CEO",image:"/team/zahoor-ahmed.png",linkedin:"https://linkedin.com/in/ogahizahoor",github:"https://github.com/ogahizahoor"},{name:"Sachal Khan",role:"Founder & CEO",image:"/team/zahoor-ahmed.png",linkedin:"https://linkedin.com/in/ogahizahoor",github:"https://github.com/ogahizahoor"}];return h.createElement("div",{className:"pt-16 min-h-screen bg-white"},h.createElement("section",{className:"relative py-20 bg-gradient-to-r from-blue-900 via-blue-800 to-blue-700"},h.createElement("div",{className:"absolute inset-0 bg-cover bg-center bg-no-repeat opacity-20",style:{backgroundImage:"url(https://images.pexels.com/photos/19292843/pexels-photo-19292843.jpeg)"}}),h.createElement("div",{className:"relative z-10 max-w-4xl mx-auto px-6 text-center"},h.createElement(te.h1,{className:"text-4xl md:text-6xl font-bold text-white mb-6",initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8}},"About ",h.createElement("span",{className:"text-amber-400"},"LuxeRental")),h.createElement(te.p,{className:"text-xl text-blue-100 leading-relaxed max-w-3xl mx-auto",initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8,delay:.2}},"We believe that everyone deserves to look and feel their best on special occasions, without the hefty price tag that comes with luxury fashion."))),h.createElement("section",{className:"py-20 bg-gray-50"},h.createElement("div",{className:"max-w-4xl mx-auto px-6"},h.createElement(te.div,{className:"text-center mb-16",initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{duration:.8},viewport:{once:!0}},h.createElement("h2",{className:"text-4xl md:text-5xl font-bold text-gray-900 mb-4"},"Our ",h.createElement("span",{className:"bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent"},"Story")),h.createElement("div",{className:"prose prose-lg mx-auto text-gray-600"},h.createElement("p",{className:"text-xl leading-relaxed mb-6"},"LuxeRental was born from a simple realization: why should you spend thousands of dollars on an outfit you'll wear once? Our founders experienced this dilemma firsthand when preparing for a wedding, spending more on attire than seemed reasonable for a single event."),h.createElement("p",{className:"text-xl leading-relaxed mb-6"},"We saw an opportunity to revolutionize the fashion industry by making luxury accessible through rentals. Our platform connects fashion-conscious individuals with designer outfits for a fraction of the purchase price, making every special occasion truly special."),h.createElement("p",{className:"text-xl leading-relaxed"},"Today, we're proud to serve thousands of customers who trust us for their most important moments. From weddings to galas, from business meetings to cultural celebrations, LuxeRental ensures you always look your absolute best."))))),h.createElement("section",{className:"py-20 bg-white"},h.createElement("div",{className:"max-w-7xl mx-auto px-6"},h.createElement(te.div,{className:"text-center mb-16",initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{duration:.8},viewport:{once:!0}},h.createElement("h2",{className:"text-4xl md:text-5xl font-bold text-gray-900 mb-4"},"Our ",h.createElement("span",{className:"bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent"},"Values")),h.createElement("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto"},"These core principles guide everything we do at LuxeRental")),h.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-10"},t.map((n,r)=>h.createElement(te.div,{key:r,className:`relative group bg-white/70 backdrop-blur-xl border border-gray-200 
                           rounded-2xl p-8 shadow-sm hover:shadow-2xl transition-all duration-300`,initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{duration:.8,delay:r*.1},viewport:{once:!0}},h.createElement("div",{className:"absolute -top-7 left-6"},h.createElement("div",{className:`w-14 h-14 rounded-2xl bg-gradient-to-tr from-blue-600 to-purple-500 
                                  flex items-center justify-center shadow-md group-hover:scale-110 transition`},h.createElement(n.icon,{className:"h-7 w-7 text-white"}))),h.createElement("h3",{className:"mt-10 text-2xl font-bold text-gray-900"},n.title),h.createElement("p",{className:"mt-4 text-gray-600 leading-relaxed"},n.description)))))),h.createElement("section",{className:"py-20 bg-gray-50"},h.createElement("div",{className:"max-w-7xl mx-auto px-6"},h.createElement(te.div,{className:"text-center mb-16",initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{duration:.8},viewport:{once:!0}},h.createElement("h2",{className:"text-4xl md:text-5xl font-bold text-gray-900 mb-4"},"Meet ",h.createElement("span",{className:"bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent"},"Our Team")),h.createElement("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto"},"The passionate individuals behind LuxeRental's success")),h.createElement("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-10"},e.map((n,r)=>h.createElement(te.div,{key:r,className:`relative group bg-white/70 backdrop-blur-xl border border-gray-200 
                           rounded-2xl p-8 shadow-sm hover:shadow-2xl transition-all duration-300 text-center`,initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{duration:.8,delay:r*.1},viewport:{once:!0}},h.createElement("div",{className:"absolute -top-12 left-1/2 transform -translate-x-1/2"},h.createElement("img",{src:n.image,alt:n.name,className:"w-24 h-24 rounded-full object-cover border-4 border-white shadow-md"})),h.createElement("div",{className:"mt-10"},h.createElement("h3",{className:"text-xl font-bold text-gray-900"},n.name),h.createElement("p",{className:"text-gray-600 mb-4"},n.role),h.createElement("div",{className:"flex justify-center gap-4"},h.createElement("a",{href:n.linkedin,target:"_blank",rel:"noopener noreferrer",className:"w-10 h-10 rounded-full bg-blue-100 flex items-center justify-center hover:bg-blue-200 transition"},h.createElement(o6,{className:"w-5 h-5 text-blue-700"})),h.createElement("a",{href:n.github,target:"_blank",rel:"noopener noreferrer",className:"w-10 h-10 rounded-full bg-gray-100 flex items-center justify-center hover:bg-gray-200 transition"},h.createElement(J4,{className:"w-5 h-5 text-gray-700"}))))))))))},Ij=()=>{const t=[{icon:zy,title:"Rental Pricing",content:["Daily rental rates vary by item and designer brand","Extended rentals (5+ days) receive progressive discounts","Security deposits are fully refundable upon item return","All prices include professional cleaning and maintenance"]},{icon:xf,title:"Late Return Policy",content:["Grace period: 4 hours past scheduled return time","Late fee: Rs. 1000 per day for the first 2 days","After 3 days: Rs. 2000 per day until item is returned","Items not returned within 14 days will be charged full retail value"]},{icon:Ua,title:"Damage & Loss Policy",content:["Minor wear and tear is expected and covered","Stains, tears, or damage will incur cleaning/repair fees","Lost or irreparably damaged items charged at full retail value","All items are photographed before and after rental"]},{icon:oS,title:"Hygiene & Cleaning",content:["All items professionally cleaned between rentals","Eco-friendly cleaning solutions used exclusively","Items inspected for quality and cleanliness before dispatch","Health and safety protocols exceed industry standards"]}];return h.createElement("div",{className:"pt-16 min-h-screen bg-gradient-to-b from-gray-50 to-white"},h.createElement("section",{className:"py-20 bg-gradient-to-r from-blue-600 via-indigo-600 to-purple-600 text-white"},h.createElement("div",{className:"max-w-4xl mx-auto px-6 text-center"},h.createElement(te.h1,{className:"text-4xl md:text-6xl font-bold text-white mb-6",initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8}},"Rental ",h.createElement("span",{className:"text-amber-400"},"Policies & Terms")),h.createElement(te.p,{className:"text-lg md:text-xl text-white max-w-3xl mx-auto",initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8,delay:.2}},"Clear, transparent policies to ensure the best rental experience for everyone."))),h.createElement("section",{className:"py-16"},h.createElement("div",{className:"max-w-7xl mx-auto px-6 grid grid-cols-1 md:grid-cols-2 gap-10"},t.map((e,n)=>h.createElement(te.div,{key:n,className:`relative group bg-white/70 backdrop-blur-xl border border-gray-200 
                         rounded-2xl p-8 shadow-sm hover:shadow-2xl transition-all duration-300`,initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{duration:.8,delay:n*.1},viewport:{once:!0}},h.createElement("div",{className:"absolute -top-7 left-6"},h.createElement("div",{className:`w-14 h-14 rounded-2xl bg-gradient-to-tr from-blue-600 to-purple-500 
                                flex items-center justify-center shadow-md group-hover:scale-110 transition`},h.createElement(e.icon,{className:"h-7 w-7 text-white"}))),h.createElement("h3",{className:"mt-10 text-2xl font-bold text-gray-900"},e.title),h.createElement("ul",{className:"mt-6 space-y-3"},e.content.map((r,i)=>h.createElement("li",{key:i,className:"flex items-start space-x-3 text-gray-700"},h.createElement("span",{className:"w-2 h-2 mt-2 rounded-full bg-blue-600"}),h.createElement("span",null,r)))))))),h.createElement("section",{className:"py-20 bg-gray-50"},h.createElement("div",{className:"max-w-5xl mx-auto px-6"},h.createElement(te.div,{className:"text-center mb-12",initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{duration:.8},viewport:{once:!0}},h.createElement("h2",{className:"text-4xl md:text-5xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent"}," Addtional Terms")),h.createElement(te.div,{className:"bg-white/70 backdrop-blur-xl border border-gray-200 rounded-2xl shadow-lg p-10",initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{duration:.8,delay:.2},viewport:{once:!0}},h.createElement("div",{className:"space-y-8 text-gray-700"},h.createElement("div",null,h.createElement("h3",{className:"text-xl font-semibold text-gray-900 mb-2"},"Booking & Cancellation"),h.createElement("p",null,"Bookings can be cancelled up to 48 hours before the rental date for a full refund. Cancellations within 48 hours are subject to a 50% fee. Same-day cancellations forfeit the entire rental fee.")),h.createElement("div",null,h.createElement("h3",{className:"text-xl font-semibold text-gray-900 mb-2"},"Size & Fit Guarantee"),h.createElement("p",null,"We provide detailed sizing charts and measurements for all items. If an item doesn't fit properly upon delivery, we'll exchange it for a better size at no additional cost, subject to availability.")),h.createElement("div",null,h.createElement("h3",{className:"text-xl font-semibold text-gray-900 mb-2"},"Delivery & Returns"),h.createElement("p",null,"Free delivery and pickup within major metropolitan areas. Items must be returned in the original garment bag with all accessories. A prepaid return label is provided for your convenience.")),h.createElement("div",null,h.createElement("h3",{className:"text-xl font-semibold text-gray-900 mb-2"},"Privacy & Data Protection"),h.createElement("p",null,"We take your privacy seriously and follow strict data protection protocols. Personal information is never shared with third parties and is used solely to enhance your rental experience.")))))))},Dj=()=>{const[t,e]=I.useState({name:"",email:"",subject:"",message:""}),[n,r]=I.useState(null),i=async o=>{o.preventDefault();try{await Xf(kt(ge,"contacts"),{...t,createdAt:UR()}),alert("✅ Your message has been sent!"),e({name:"",email:"",subject:"",message:""})}catch(l){console.error("Error submitting form:",l),alert("❌ Failed to send message. Please try again.")}},s=[{icon:_s,title:"Email Us",content:"luxerental08@gmail.com",description:"Send us an email anytime!"},{icon:jy,title:"Call Us",content:"+923010822243",description:"Mon-Fri 9AM-6PM"},{icon:sS,title:"Visit Us",content:"123 MUET, Software Department",description:"Our showroom & office"},{icon:p6,title:"Live Chat",content:"Chat with our team",description:"Available 24/7"}],a=[{question:"How far in advance should I book?",answer:"We recommend booking at least 1-2 weeks in advance for popular items, especially during peak seasons like weddings or holidays."},{question:"What if the outfit doesn't fit?",answer:"We offer free size exchanges if the item doesn’t fit properly. Contact us immediately upon delivery for a quick replacement."},{question:"How do you ensure cleanliness?",answer:"Every item is professionally cleaned and inspected between rentals. We use eco-friendly cleaning methods and maintain the highest hygiene standards."},{question:"What happens if I damage the item?",answer:"Minor wear and tear is expected and covered. For significant damage, repair costs will be deducted from your security deposit."}];return h.createElement("div",{className:"pt-16 min-h-screen bg-gradient-to-b from-blue-50 to-white"},h.createElement("section",{className:"py-20 bg-gradient-to-r from-blue-600 via-indigo-600 to-purple-600 text-white"},h.createElement("div",{className:"max-w-4xl mx-auto px-6 text-center"},h.createElement(te.h1,{className:"text-4xl md:text-6xl font-bold text-white mb-6",initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8}},"Get in ",h.createElement("span",{className:"text-amber-400"},"Touch")),h.createElement(te.p,{className:"text-lg md:text-xl text-blue-100 max-w-2xl mx-auto leading-relaxed",initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8,delay:.2}},"Have questions about rentals, sizing, or need style advice? We’re here to make your special occasion perfect."))),h.createElement("section",{className:"py-20"},h.createElement("div",{className:"max-w-7xl mx-auto px-6 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8"},s.map((o,l)=>h.createElement(te.div,{key:l,className:"p-6 rounded-2xl bg-white/70 backdrop-blur-lg border border-gray-200 shadow-md hover:shadow-xl text-center transition-all duration-300",initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{duration:.6,delay:l*.1},viewport:{once:!0}},h.createElement("div",{className:"bg-gradient-to-r from-blue-500 to-indigo-600 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4 shadow-md"},h.createElement(o.icon,{className:"h-8 w-8 text-white"})),h.createElement("h3",{className:"text-lg font-semibold text-gray-900 mb-1"},o.title),h.createElement("p",{className:"text-blue-700 font-medium"},o.content),h.createElement("p",{className:"text-gray-500 text-sm mt-1"},o.description))))),h.createElement("section",{className:"py-20 bg-gray-50"},h.createElement("div",{className:"max-w-4xl mx-auto px-6"},h.createElement(te.div,{className:"text-center mb-12",initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{duration:.6},viewport:{once:!0}},h.createElement("h2",{className:"text-4xl md:text-5xl font-bold text-gray-900 mb-4"},"Send us ",h.createElement("span",{className:"bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent"},"Message")),h.createElement("p",{className:"text-lg text-gray-600"},"Fill out the form below and we’ll get back to you within 24 hours")),h.createElement(te.div,{className:"bg-white/80 backdrop-blur-lg rounded-2xl shadow-lg p-8 border border-gray-200",initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{duration:.6,delay:.2},viewport:{once:!0}},h.createElement("form",{onSubmit:i,className:"space-y-6"},h.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6"},h.createElement("input",{type:"text",placeholder:"Full Name",required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 outline-none",value:t.name,onChange:o=>e({...t,name:o.target.value})}),h.createElement("input",{type:"email",placeholder:"Email Address",required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 outline-none",value:t.email,onChange:o=>e({...t,email:o.target.value})})),h.createElement("input",{type:"text",placeholder:"Subject",required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 outline-none",value:t.subject,onChange:o=>e({...t,subject:o.target.value})}),h.createElement("textarea",{rows:6,placeholder:"Tell us more about your inquiry...",required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 outline-none resize-none",value:t.message,onChange:o=>e({...t,message:o.target.value})}),h.createElement("div",{className:"text-center"},h.createElement("button",{type:"submit",className:"inline-flex items-center px-8 py-4 bg-gradient-to-r from-blue-600 to-purple-600 hover:shadow-xl  hover:opacity-90 text-white font-semibold rounded-xl shadow-md transition duration-200"},h.createElement(T6,{className:"h-5 w-5 mr-2"}),"Send Message")))))),h.createElement("section",{className:"py-20"},h.createElement("div",{className:"max-w-3xl mx-auto px-6"},h.createElement(te.div,{className:"text-center mb-12",initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{duration:.6},viewport:{once:!0}},h.createElement("h2",{className:"text-4xl md:text-5xl font-bold text-gray-900 mb-4"},"Frequently ",h.createElement("span",{className:"bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent"},"Asked Questions")),h.createElement("p",{className:"text-lg text-gray-600"},"Quick answers to common questions")),h.createElement("div",{className:"space-y-4"},a.map((o,l)=>h.createElement(te.div,{key:l,className:"bg-white/80 backdrop-blur-lg border border-gray-200 rounded-xl p-6 shadow-md cursor-pointer",initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{duration:.6,delay:l*.1},viewport:{once:!0},onClick:()=>r(n===l?null:l)},h.createElement("div",{className:"flex justify-between items-center"},h.createElement("h3",{className:"text-lg font-semibold text-gray-900"},o.question),h.createElement(U4,{className:`h-5 w-5 text-gray-500 transform transition-transform ${n===l?"rotate-180":""}`})),n===l&&h.createElement("p",{className:"mt-3 text-gray-600 leading-relaxed"},o.answer)))))))},Pj=()=>{const t=[{id:1,title:"Top 5 Outfits to Wear at a Wedding",excerpt:"Discover the perfect wedding guest outfits that will make you look stunning while respecting the dress code.",image:"https://filhaal.co.uk/cdn/shop/articles/Pakistani_Eid_Clothing_Collection_002e6c3a-8959-45ba-beff-e6b4061a51bc.png?v=1742959117&width=1780",author:"Babar Azam",date:"2025-01-15",readTime:"5 min read",category:"Wedding Fashion",externalUrl:"https://askanigroup.com/blog/pakistani-women-wedding-dress/"},{id:2,title:"Why Renting Clothes Saves You Money",excerpt:"Learn how fashion rentals can save you thousands of dollars while keeping your wardrobe fresh and sustainable.",image:"https://profit.pakistantoday.com.pk/wp-content/uploads/2022/01/IMG_1927_700x-696x974.jpg",author:"Babar Azam",date:"2025-01-12",readTime:"4 min read",category:"Fashion Tips",externalUrl:"https://unhiddenclothing.com/blogs/blog/5-reasons-why-renting-clothes-should-be-your-favourite-new-way-to-shop-in-2024?srsltid=AfmBOor1vpkTIwFLUZDRZ7azytXTwliLRej6ls81XvOOhSNXCk97P944"},{id:3,title:"Fashion Tips for Grooms & Bridesmaids",excerpt:"Essential style advice for wedding parties to look coordinated and elegant on the big day and while keeping your wardrobe fresh.",image:"https://www.blog.shadiyana.pk/wp-content/uploads/2025/01/c5e96736f2a79e77aec68416faec2570.jpg",author:"Babar Azam",date:"2025-01-10",readTime:"6 min read",category:"Wedding Fashion",externalUrl:"https://www.thetiebar.com/blogs/news/how-to-match-bridesmaids-and-groomsmen-the-ultimate-wedding-attire-guide?srsltid=AfmBOoogk4ST3jGdrPYNglHcBbbCNb0fbpHjLNZFN7WuxbnURSrTFBsS"}],e=["All","Wedding Fashion","Fashion Tips","Sustainability","Formal Wear","Cultural Fashion"],[n,r]=h.useState("All"),i=n==="All"?t:t.filter(s=>s.category===n);return h.createElement("div",{className:"pt-16 min-h-screen bg-gray-50"},h.createElement("section",{className:"relative py-24 bg-gradient-to-r from-blue-600 via-indigo-600 to-purple-600 text-white overflow-hidden"},h.createElement("div",{className:"absolute inset-0"},h.createElement("img",{src:"https://filhaal.co.uk/cdn/shop/articles/Pakistani_Eid_Clothing_Collection_002e6c3a-8959-45ba-beff-e6b4061a51bc.png?v=1742959117&width=1780",alt:"fashion banner",className:"w-full h-full object-cover opacity-20"})),h.createElement("div",{className:"relative max-w-4xl mx-auto px-6 text-center"},h.createElement(te.h1,{className:"text-4xl md:text-6xl font-bold text-white mb-6",initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8}},"Fashion ",h.createElement("span",{className:"text-amber-400"},"& Style Blog")),h.createElement(te.p,{className:"text-lg md:text-xl text-blue-100 max-w-2xl mx-auto leading-relaxed",initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8,delay:.2}},"Expert fashion advice, styling tips, and insider insights to help you look your absolute best for every occasion."))),h.createElement("section",{className:"py-8 bg-white border-b"},h.createElement("div",{className:"max-w-7xl mx-auto px-6"},h.createElement("div",{className:"flex flex-wrap justify-center gap-3"},e.map(s=>h.createElement("button",{key:s,onClick:()=>r(s),className:`px-5 py-2 rounded-full font-medium transition-all duration-300 ${n===s?"bg-gradient-to-r from-blue-600 to-purple-600 text-white shadow-md":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`},s))))),h.createElement("section",{className:"py-16"},h.createElement("div",{className:"max-w-7xl mx-auto px-6"},h.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-10"},i.map((s,a)=>h.createElement(te.article,{key:s.id,className:"rounded-2xl p-[2px] bg-gradient-to-r from-blue-600 to-purple-600 shadow-lg hover:shadow-xl transition",initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.6,delay:a*.1}},h.createElement("div",{className:"bg-white rounded-2xl overflow-hidden"},h.createElement("div",{className:"relative"},h.createElement("a",{href:s.externalUrl,target:"_blank",rel:"noopener noreferrer"},h.createElement("img",{src:s.image,alt:s.title,className:"w-full h-52 object-cover object-top hover:scale-105 transition-transform duration-500"})),h.createElement("span",{className:"absolute top-4 left-4 px-3 py-1 rounded-full text-xs font-medium bg-gradient-to-r from-blue-600 to-purple-600 text-white shadow-md"},s.category)),h.createElement("div",{className:"p-6"},h.createElement("div",{className:"flex items-center text-gray-500 text-sm mb-3"},h.createElement(qy,{className:"h-4 w-4 mr-1"}),h.createElement("span",{className:"mr-4"},s.author),h.createElement(xf,{className:"h-4 w-4 mr-1"}),h.createElement("span",null,s.readTime)),h.createElement("h2",{className:"text-xl font-bold mb-3 bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent hover:from-purple-600 hover:to-pink-500 transition-all duration-300"},h.createElement("a",{href:s.externalUrl,target:"_blank",rel:"noopener noreferrer"},s.title)),h.createElement("p",{className:"text-gray-600 leading-relaxed mb-4"},s.excerpt),h.createElement("div",{className:"flex items-center justify-between"},h.createElement("span",{className:"text-gray-400 text-sm"},new Date(s.date).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})),h.createElement("a",{href:s.externalUrl,target:"_blank",rel:"noopener noreferrer",className:"text-sm font-semibold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent hover:underline"},"Read More →"))))))))))},Mj=()=>{const{wishlist:t,removeFromWishlist:e}=H0();return h.createElement("div",{className:"pt-16 min-h-screen bg-gray-50"},h.createElement("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 py-12 text-center text-white shadow"},h.createElement("h2",{className:"text-4xl md:text-6xl font-bold text-white mb-6"},"Your ",h.createElement("span",{className:"text-amber-400"},"Wishlist 💖")),h.createElement("p",{className:"mt-2 text-blue-100"},"You have"," ",h.createElement("span",{className:"font-bold text-white"},t.length)," ",t.length===1?"item":"items"," saved for later")),h.createElement("div",{className:"max-w-7xl mx-auto px-6 py-12"},t.length===0?h.createElement("div",{className:"text-center bg-white rounded-xl shadow-md p-10"},h.createElement("p",{className:"text-gray-600 text-lg"},"😢 No products in your wishlist yet."),h.createElement("p",{className:"text-gray-400 mt-2"},"Start exploring and add items you love!"),h.createElement(ie,{to:"/shop",className:"mt-6 inline-block px-6 py-3 rounded-xl bg-gradient-to-r from-blue-600 to-purple-600 text-white font-medium shadow hover:shadow-lg transition"},"Browse Collection")):h.createElement("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-8"},t.map(n=>h.createElement("div",{key:n.id,className:"rounded-xl p-[2px] bg-gradient-to-r from-blue-600 to-purple-600 shadow-lg hover:shadow-xl transition"},h.createElement("div",{className:"bg-white rounded-xl overflow-hidden flex flex-col h-full"},h.createElement("img",{src:n.image,alt:n.title,className:"w-full max-h-64 object-contain bg-gray-100"}),h.createElement("div",{className:"p-5 flex-1 flex flex-col"},h.createElement("h2",{className:"text-lg font-semibold text-gray-900 truncate"},n.title),h.createElement("p",{className:"font-bold mt-2 text-lg bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent"},"Rs. ",n.price),h.createElement("div",{className:"flex justify-between items-center mt-auto pt-5 gap-2"},h.createElement(ie,{to:`/product/${n.id}`,className:"flex-1 text-center px-4 py-2 text-sm font-medium rounded-lg bg-blue-600 text-white hover:bg-blue-700 transition"},"View"),h.createElement(ie,{to:`/rent/${n.id}`,className:"flex-1 text-center px-4 py-2 text-sm font-medium rounded-lg bg-green-600 text-white hover:bg-green-700 transition"},"Rent Now"),h.createElement("button",{onClick:()=>e(n.id),className:"px-4 py-2 text-sm font-medium rounded-lg bg-red-100 text-red-600 hover:bg-red-200 transition"},"Remove")))))))))},Vj=()=>{const{id:t}=ky(),e=ar(),{addOrder:n}=q0(),[r,i]=I.useState(null),[s,a]=I.useState({fullName:"",email:"",mobile:"",city:"",postal:"",address:"",days:"",payment:"",rentalStartDate:"",agree:!1}),[o,l]=I.useState(0),[u,f]=I.useState(""),[m,d]=I.useState(null),[y,x]=I.useState("");if(I.useEffect(()=>{if(!t)return;(async()=>{const N=Nt(ge,"products",t),M=await OR(N);M.exists()?i({id:M.id,...M.data()}):i(null)})()},[t]),I.useEffect(()=>{const E=Ur.currentUser;E&&a(N=>({...N,fullName:E.displayName||"",email:E.email||""}))},[]),I.useEffect(()=>{if(!r)return;const E=Number(s.days)||0;if(E>14?x("❌ You cannot rent for more than 14 days."):x(""),l(r.price*E),s.rentalStartDate&&E>0&&E<=14){const N=new Date(s.rentalStartDate),M=new Date(N);M.setDate(N.getDate()+E),f(M.toISOString().split("T")[0])}else f("")},[s.days,s.rentalStartDate,r]),!r)return h.createElement("div",{className:"pt-16 text-center text-red-600 text-lg"},"Product not found");const _=E=>{a({...s,[E.target.name]:E.target.value})},S=E=>{E.target.files[0]&&d(E.target.files[0])},v=E=>new Promise((N,M)=>{const L=new FileReader;L.readAsDataURL(E),L.onload=()=>N(L.result),L.onerror=A=>M(A)}),b=async E=>{E.preventDefault();const N=Ur.currentUser;if(!N){alert("Please login to continue.");return}if(Number(s.days)>14){alert("You cannot rent for more than 14 days.");return}if(!s.agree){alert("You must agree to the rental policies before proceeding.");return}try{let M=null;if(s.payment==="Card"){if(!m){alert("Please upload a payment screenshot for card payments.");return}if(M=await v(m),!M){alert("Error reading screenshot. Please re-upload.");return}}const L={userId:N.uid,customer:s.fullName,email:s.email,mobile:s.mobile,city:s.city,postal:s.postal,address:s.address,duration:`${s.days} Days`,rentalStartDate:s.rentalStartDate,rentalEndDate:u,status:"Pending",productId:r.id,productTitle:r.title,productPrice:o,productImage:r.image||"",paymentMethod:s.payment,paymentScreenshot:M||null,createdAt:new Date().toISOString()};await n(L),alert("✅ Rental request sent! Waiting for admin approval."),e("/profile")}catch(M){console.error("Error submitting order:",M),alert("❌ Something went wrong while submitting your order.")}};return h.createElement("div",{className:"pt-20 min-h-screen bg-gray-50"},h.createElement("div",{className:"max-w-4xl mx-auto px-6 pb-12 space-y-8"},h.createElement("h1",{className:"text-3xl font-bold mb-4"},"Confirm Your Rental"),h.createElement("div",{className:"bg-white p-6 rounded-xl shadow"},r.image&&h.createElement("div",{className:"mb-6"},h.createElement("div",{className:"relative w-full h-64 bg-gradient-to-r from-blue-50 to-purple-50 rounded-xl flex items-center justify-center overflow-hidden shadow"},h.createElement("img",{src:r.image,alt:r.title,className:"max-h-56 object-contain transition-transform duration-300 hover:scale-105"}))),h.createElement("div",{className:"text-center mb-6"},h.createElement("h2",{className:"text-2xl font-bold text-gray-800"},r.title),h.createElement("p",{className:"text-gray-600 mt-2"},"Price per day:"," ",h.createElement("span",{className:"font-bold text-blue-600"},"Rs. ",r.price)),h.createElement("p",{className:"text-lg text-gray-900 font-semibold mt-1"},"Total Price:"," ",h.createElement("span",{className:"text-green-600"},"Rs. ",o))),h.createElement("form",{onSubmit:b,className:"space-y-4"},h.createElement("input",{type:"text",name:"fullName",placeholder:"Full Name",value:s.fullName,onChange:_,required:!0,className:"w-full border p-3 rounded bg-gray-100",readOnly:!0}),h.createElement("input",{type:"email",name:"email",placeholder:"Email",value:s.email,onChange:_,required:!0,className:"w-full border p-3 rounded bg-gray-100",readOnly:!0}),h.createElement("input",{type:"tel",name:"mobile",placeholder:"Mobile",value:s.mobile,onChange:_,required:!0,className:"w-full border p-3 rounded"}),h.createElement("input",{type:"text",name:"city",placeholder:"City",value:s.city,onChange:_,required:!0,className:"w-full border p-3 rounded"}),h.createElement("input",{type:"text",name:"postal",placeholder:"Postal Code",value:s.postal,onChange:_,required:!0,className:"w-full border p-3 rounded"}),h.createElement("input",{type:"text",name:"address",placeholder:"Address",value:s.address,onChange:_,required:!0,className:"w-full border p-3 rounded"}),h.createElement("input",{type:"number",name:"days",placeholder:"Number of Days",value:s.days,onChange:_,required:!0,className:"w-full border p-3 rounded",min:"1",max:"14"}),y&&h.createElement("p",{className:"text-red-500 text-sm mt-1"},y),h.createElement("input",{type:"date",name:"rentalStartDate",value:s.rentalStartDate,onChange:_,required:!0,className:"w-full border p-3 rounded"}),u&&h.createElement("input",{type:"text",value:`End Date: ${u}`,readOnly:!0,className:"w-full border p-3 rounded bg-gray-100 font-medium text-gray-700"}),h.createElement("select",{name:"payment",value:s.payment,onChange:_,required:!0,className:"w-full border p-3 rounded"},h.createElement("option",{value:""},"Select payment"),h.createElement("option",null,"Cash"),h.createElement("option",null,"Card")),s.payment==="Card"&&h.createElement("div",null,h.createElement("label",{className:"block mb-2 font-medium"},"Upload Payment Screenshot"),h.createElement("input",{type:"file",accept:"image/*",onChange:S,className:"w-full border p-3 rounded"})),h.createElement("div",{className:"bg-gray-100 p-4 rounded border"},h.createElement("h3",{className:"font-semibold mb-2"},"Rental Policy"),h.createElement("ul",{className:"list-disc list-inside text-sm text-gray-600 space-y-1"},h.createElement("li",null,"Grace period: 4 hours past scheduled return time"),h.createElement("li",null,"Late fee: Rs. 1000 per day for the first 2 days."),h.createElement("li",null,"After 3 days: Rs. 2000 per day until item is returned"),h.createElement("li",null,"Items not returned within 14 days will be charged full retail value"),h.createElement("li",null,"Customers are not required to wash the clothes before returning")),h.createElement("label",{className:"flex items-center mt-3"},h.createElement("input",{type:"checkbox",checked:s.agree,onChange:E=>a({...s,agree:E.target.checked}),className:"mr-2"}),h.createElement("span",{className:"text-sm text-gray-700"},"I have read and agree to the rental policies."))),h.createElement("button",{type:"submit",disabled:!s.agree||!!y,className:`w-full p-3 rounded-lg text-white ${s.agree&&!y?"bg-blue-600 hover:bg-blue-700":"bg-gray-400 cursor-not-allowed"}`},"Confirm Rental")))))},kj=()=>{const[t,e]=I.useState({totalProducts:0,totalUsers:0,totalOrders:0,pending:0,accepted:0,returned:0,returnPending:0,totalMessages:0});return I.useEffect(()=>{const n=Cn(kt(ge,"products"),a=>{e(o=>({...o,totalProducts:a.size}))}),r=Cn(kt(ge,"users"),a=>{e(o=>({...o,totalUsers:a.size}))}),i=Cn(kt(ge,"orders"),a=>{let o=0,l=0,u=0,f=0;a.forEach(m=>{const y=(m.data().status||"").toLowerCase();y==="pending"?o++:y==="accepted"?l++:y==="returned"||y==="return confirmed"?u++:(y==="return_pending"||y==="return pending")&&f++}),e(m=>({...m,totalOrders:a.size,pending:o,accepted:l,returned:u,returnPending:f}))}),s=Cn(kt(ge,"contacts"),a=>{e(o=>({...o,totalMessages:a.size}))});return()=>{n(),r(),i(),s()}},[]),h.createElement("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-blue-900 to-indigo-900 text-white"},h.createElement("div",{className:"w-full py-12 px-6 max-w-7xl mx-auto"},h.createElement("h1",{className:"text-4xl font-extrabold mb-10 text-center"},"📊 Admin Dashboard"),h.createElement("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6 mb-14"},h.createElement(ie,{to:"/admin/products",className:"bg-white/10 backdrop-blur-lg rounded-2xl p-6 shadow-md hover:shadow-xl hover:-translate-y-1 transition-all flex flex-col items-center text-center"},h.createElement(Ua,{size:36,className:"mb-3 text-yellow-400"}),h.createElement("h2",{className:"text-lg font-semibold"},"Products"),h.createElement("p",{className:"text-3xl font-bold"},t.totalProducts)),h.createElement(ie,{to:"/admin/orders",className:"bg-white/10 backdrop-blur-lg rounded-2xl p-6 shadow-md hover:shadow-xl hover:-translate-y-1 transition-all flex flex-col items-center text-center"},h.createElement(H4,{size:36,className:"mb-3 text-green-400"}),h.createElement("h2",{className:"text-lg font-semibold"},"Orders"),h.createElement("p",{className:"text-3xl font-bold"},t.totalOrders)),h.createElement(ie,{to:"/admin/users",className:"bg-white/10 backdrop-blur-lg rounded-2xl p-6 shadow-md hover:shadow-xl hover:-translate-y-1 transition-all flex flex-col items-center text-center"},h.createElement(uS,{size:36,className:"mb-3 text-purple-400"}),h.createElement("h2",{className:"text-lg font-semibold"},"Users"),h.createElement("p",{className:"text-3xl font-bold"},t.totalUsers)),h.createElement(ie,{to:"/admin/messages",className:"bg-white/10 backdrop-blur-lg rounded-2xl p-6 shadow-md hover:shadow-xl hover:-translate-y-1 transition-all flex flex-col items-center text-center"},h.createElement(_s,{size:36,className:"mb-3 text-pink-400"}),h.createElement("h2",{className:"text-lg font-semibold"},"Messages"),h.createElement("p",{className:"text-3xl font-bold"},t.totalMessages))),h.createElement("h2",{className:"text-2xl font-bold mb-6"},"📦 Order Status"),h.createElement("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6 mb-14"},h.createElement(ie,{to:"/admin/orders?status=pending",className:"bg-yellow-500/90 rounded-xl p-5 text-center shadow-md hover:shadow-xl hover:-translate-y-1 transition-all"},h.createElement(E6,{className:"mx-auto mb-2",size:28}),h.createElement("h3",{className:"font-semibold"},"Pending"),h.createElement("p",{className:"text-2xl font-bold"},t.pending)),h.createElement(ie,{to:"/admin/orders?status=accepted",className:"bg-green-600/90 rounded-xl p-5 text-center shadow-md hover:shadow-xl hover:-translate-y-1 transition-all"},h.createElement(z4,{className:"mx-auto mb-2",size:28}),h.createElement("h3",{className:"font-semibold"},"Accepted"),h.createElement("p",{className:"text-2xl font-bold"},t.accepted)),h.createElement(ie,{to:"/admin/orders?status=returned",className:"bg-blue-600/90 rounded-xl p-5 text-center shadow-md hover:shadow-xl hover:-translate-y-1 transition-all"},h.createElement(Lp,{className:"mx-auto mb-2",size:28}),h.createElement("h3",{className:"font-semibold"},"Returned"),h.createElement("p",{className:"text-2xl font-bold"},t.returned)),h.createElement(ie,{to:"/admin/orders?status=return_pending",className:"bg-red-600/90 rounded-xl p-5 text-center shadow-md hover:shadow-xl hover:-translate-y-1 transition-all"},h.createElement(F4,{className:"mx-auto mb-2",size:28}),h.createElement("h3",{className:"font-semibold"},"Return Pending"),h.createElement("p",{className:"text-2xl font-bold"},t.returnPending))),h.createElement("h2",{className:"text-2xl font-bold mb-6"},"⚙️ Manage"),h.createElement("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6"},h.createElement(ie,{to:"/admin/orders",className:"flex items-center justify-between bg-gradient-to-r from-blue-700 to-blue-800 p-6 rounded-xl shadow-lg hover:shadow-2xl hover:-translate-y-1 transition-all"},h.createElement("div",null,h.createElement("h3",{className:"text-lg font-semibold"},"Manage Orders"),h.createElement("p",{className:"text-sm text-gray-200"},"View & update customer orders")),h.createElement(Lp,{size:40,className:"text-white"})),h.createElement(ie,{to:"/admin/products",className:"flex items-center justify-between bg-gradient-to-r from-green-700 to-green-800 p-6 rounded-xl shadow-lg hover:shadow-2xl hover:-translate-y-1 transition-all"},h.createElement("div",null,h.createElement("h3",{className:"text-lg font-semibold"},"Add Product"),h.createElement("p",{className:"text-sm text-gray-200"},"Add new items to the store")),h.createElement(Ua,{size:40,className:"text-white"})),h.createElement(ie,{to:"/admin/messages",className:"flex items-center justify-between bg-gradient-to-r from-pink-700 to-pink-800 p-6 rounded-xl shadow-lg hover:shadow-2xl hover:-translate-y-1 transition-all"},h.createElement("div",null,h.createElement("h3",{className:"text-lg font-semibold"},"Manage Messages"),h.createElement("p",{className:"text-sm text-gray-200"},"Read contact form submissions")),h.createElement(_s,{size:40,className:"text-white"})))))},Oj=()=>{const[t,e]=I.useState([]),[n,r]=I.useState({title:"",price:"",category:"",image:"",images:"",description:"",gender:""}),[i,s]=I.useState(null);I.useEffect(()=>{const m=Cn(kt(ge,"products"),d=>{e(d.docs.map(y=>({id:y.id,...y.data()})))});return()=>m()},[]);const a=m=>{r({...n,[m.target.name]:m.target.value})},o=async m=>{if(m.preventDefault(),!n.title||!n.price||!n.category||!n.image||!n.gender){alert("⚠️ Please fill all required fields (including gender)");return}try{await Xf(kt(ge,"products"),{title:n.title,price:Number(n.price),category:n.category,image:n.image,images:n.images?n.images.split(",").map(d=>d.trim()):[],description:n.description,gender:n.gender}),alert("✅ Product added successfully!"),r({title:"",price:"",category:"",image:"",images:"",description:"",gender:""})}catch(d){console.error("Error adding product:",d),alert("❌ Failed to add product. Check Firestore rules!")}},l=async m=>{try{await Qf(Nt(ge,"products",m)),alert("🗑️ Product deleted successfully!")}catch(d){console.error("Error deleting product:",d)}},u=m=>{var d;s(m),r({title:m.title,price:m.price.toString(),category:m.category,image:m.image,images:((d=m.images)==null?void 0:d.join(", "))||"",description:m.description||"",gender:m.gender||""})},f=async m=>{if(m.preventDefault(),!!i)try{await ds(Nt(ge,"products",i.id),{title:n.title,price:Number(n.price),category:n.category,image:n.image,images:n.images?n.images.split(",").map(d=>d.trim()):[],description:n.description,gender:n.gender}),alert("✅ Product updated successfully!"),s(null),r({title:"",price:"",category:"",image:"",images:"",description:"",gender:""})}catch(d){console.error("Error updating product:",d)}};return h.createElement("div",null,h.createElement("h1",{className:"text-2xl font-bold mb-6"},"Manage Products"),!i&&h.createElement("form",{onSubmit:o,className:"grid grid-cols-1 md:grid-cols-2 gap-6 bg-white p-6 shadow rounded-lg mb-8"},h.createElement("input",{type:"text",name:"title",value:n.title,onChange:a,placeholder:"Product Title",className:"border p-2 rounded"}),h.createElement("input",{type:"number",name:"price",value:n.price,onChange:a,placeholder:"Price Per Day",className:"border p-2 rounded"}),h.createElement("input",{type:"text",name:"category",value:n.category,onChange:a,placeholder:"Category",className:"border p-2 rounded"}),h.createElement("select",{name:"gender",value:n.gender,onChange:a,className:"border p-2 rounded"},h.createElement("option",{value:""},"Select Gender"),h.createElement("option",{value:"Male"},"Male"),h.createElement("option",{value:"Female"},"Female")),h.createElement("input",{type:"text",name:"image",value:n.image,onChange:a,placeholder:"Main Image URL",className:"border p-2 rounded"}),h.createElement("input",{type:"text",name:"images",value:n.images,onChange:a,placeholder:"Other Images (comma separated URLs)",className:"border p-2 rounded md:col-span-2"}),h.createElement("textarea",{name:"description",value:n.description,onChange:a,placeholder:"Short / Full Description",className:"border p-2 rounded md:col-span-2"}),h.createElement("button",{type:"submit",className:"md:col-span-2 bg-gradient-to-r from-blue-600 to-purple-600 text-white py-2 px-4 rounded hover:bg-blue-700 transition"},"Add Product")),i&&h.createElement("form",{onSubmit:f,className:"grid grid-cols-1 md:grid-cols-2 gap-6 bg-yellow-50 p-6 shadow rounded-lg mb-8"},h.createElement("h2",{className:"md:col-span-2 text-lg font-bold mb-2"},"✏️ Editing: ",i.title),h.createElement("input",{type:"text",name:"title",value:n.title,onChange:a,placeholder:"Product Title",className:"border p-2 rounded"}),h.createElement("input",{type:"number",name:"price",value:n.price,onChange:a,placeholder:"Price Per Day",className:"border p-2 rounded"}),h.createElement("input",{type:"text",name:"category",value:n.category,onChange:a,placeholder:"Category",className:"border p-2 rounded"}),h.createElement("select",{name:"gender",value:n.gender,onChange:a,className:"border p-2 rounded"},h.createElement("option",{value:""},"Select Gender"),h.createElement("option",{value:"Male"},"Male"),h.createElement("option",{value:"Female"},"Female")),h.createElement("input",{type:"text",name:"image",value:n.image,onChange:a,placeholder:"Main Image URL",className:"border p-2 rounded"}),h.createElement("input",{type:"text",name:"images",value:n.images,onChange:a,placeholder:"Other Images (comma separated URLs)",className:"border p-2 rounded md:col-span-2"}),h.createElement("textarea",{name:"description",value:n.description,onChange:a,placeholder:"Short / Full Description",className:"border p-2 rounded md:col-span-2"}),h.createElement("div",{className:"flex gap-3 md:col-span-2"},h.createElement("button",{type:"submit",className:"bg-green-600 text-white py-2 px-4 rounded hover:bg-green-700 transition"},"Save Changes"),h.createElement("button",{type:"button",onClick:()=>s(null),className:"bg-gray-300 py-2 px-4 rounded hover:bg-gray-400 transition"},"Cancel"))),h.createElement("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6"},t.map(m=>h.createElement("div",{key:m.id,className:"bg-white shadow rounded-lg overflow-hidden"},h.createElement("div",{className:"w-full aspect-[4/3] bg-gray-100 flex items-center justify-center"},h.createElement("img",{src:m.image,alt:m.title,className:"max-h-full max-w-full object-contain"})),h.createElement("div",{className:"p-4"},h.createElement("h2",{className:"font-semibold"},m.title),h.createElement("p",{className:"bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent font-bold"},"Rs. ",m.price," / day"),h.createElement("span",{className:"text-gray-500 text-sm"},m.category," ",m.gender&&`• ${m.gender}`),h.createElement("p",{className:"text-gray-600 text-sm mt-2 line-clamp-2"},m.description),h.createElement("div",{className:"mt-4 flex gap-2"},h.createElement("button",{onClick:()=>u(m),className:"flex-1 bg-yellow-100 text-yellow-700 px-3 py-2 rounded hover:bg-yellow-200 transition"},"Edit"),h.createElement("button",{onClick:()=>l(m.id.toString()),className:"flex-1 bg-red-100 text-red-600 px-3 py-2 rounded hover:bg-red-200 transition"},"Remove")))))))},Lj=()=>{const[t,e]=I.useState([]),[n,r]=I.useState(null),i=ar(),s=xn(),o=new URLSearchParams(s.search).get("status"),l=async()=>{let y=(await X9(kt(ge,"orders"))).docs.map(x=>({id:x.id,...x.data()}));o&&(y=y.filter(x=>{const _=x.status.toLowerCase();return o==="pending"?_==="pending":o==="accepted"?_==="accepted":o==="return_pending"?_==="return pending":o==="returned"?_==="return confirmed"||_==="returned":!0})),e(y)},u=async(d,y)=>{const x=Nt(ge,"orders",d);await ds(x,{status:y}),l(),r(null)},f=async d=>{window.confirm("Are you sure you want to delete this order?")&&(await Qf(Nt(ge,"orders",d)),l()),r(null)};I.useEffect(()=>{l()},[o]);const m=d=>{switch(d){case"Pending":return"bg-yellow-100 text-yellow-700";case"Accepted":return"bg-green-100 text-green-700";case"Rejected":return"bg-red-100 text-red-700";case"Return Pending":return"bg-yellow-100 text-yellow-700";case"Return Confirmed":return"bg-green-100 text-green-700";case"Return Rejected":return"bg-red-100 text-red-700";default:return"bg-gray-100 text-gray-700"}};return h.createElement("div",{className:"p-6"},h.createElement("h1",{className:"text-2xl font-bold mb-4"},"Manage Orders"," ",o&&h.createElement("span",{className:"text-gray-600 text-lg"},"(",o.replace("_"," "),")")),h.createElement("table",{className:"w-full border"},h.createElement("thead",null,h.createElement("tr",{className:"bg-gray-200"},h.createElement("th",{className:"p-2 border"},"Image"),h.createElement("th",{className:"p-2 border"},"Product"),h.createElement("th",{className:"p-2 border"},"Price"),h.createElement("th",{className:"p-2 border"},"Customer"),h.createElement("th",{className:"p-2 border"},"Duration"),h.createElement("th",{className:"p-2 border"},"Status"),h.createElement("th",{className:"p-2 border"},"Actions"))),h.createElement("tbody",null,t.map(d=>h.createElement("tr",{key:d.id,className:"border relative"},h.createElement("td",{className:"p-2 text-center"},d.productImage?h.createElement("img",{src:d.productImage,alt:d.productTitle,className:"w-16 h-16 object-cover rounded mx-auto"}):"No Image"),h.createElement("td",{className:"p-2"},d.productTitle),h.createElement("td",{className:"p-2"},"Rs. ",d.productPrice),h.createElement("td",{className:"p-2 text-blue-600 underline cursor-pointer",onClick:()=>i(`/admin/order/${d.id}`)},d.customer),h.createElement("td",{className:"p-2"},d.duration),h.createElement("td",{className:"p-2"},h.createElement("span",{className:`px-2 py-1 rounded text-sm font-medium ${m(d.status)}`},d.status)),h.createElement("td",{className:"p-2 text-center relative"},h.createElement("button",{onClick:()=>r(n===d.id?null:d.id),className:"px-3 py-1 bg-gray-700 text-white rounded hover:bg-gray-800"},"Actions ▾"),n===d.id&&h.createElement("div",{className:"absolute right-0 mt-2 w-40 bg-white border rounded shadow-md z-10"},d.status==="Pending"&&h.createElement(h.Fragment,null,h.createElement("button",{onClick:()=>u(d.id,"Accepted"),className:"block w-full px-4 py-2 text-left hover:bg-gray-100"},"Accept"),h.createElement("button",{onClick:()=>u(d.id,"Rejected"),className:"block w-full px-4 py-2 text-left hover:bg-gray-100"},"Reject")),d.status==="Accepted"&&h.createElement("button",{onClick:()=>u(d.id,"Return Pending"),className:"block w-full px-4 py-2 text-left hover:bg-gray-100"},"Awaiting Return"),d.status==="Return Pending"&&h.createElement(h.Fragment,null,h.createElement("button",{onClick:()=>u(d.id,"Return Confirmed"),className:"block w-full px-4 py-2 text-left hover:bg-gray-100"},"Accept Return"),h.createElement("button",{onClick:()=>u(d.id,"Return Rejected"),className:"block w-full px-4 py-2 text-left hover:bg-gray-100"},"Reject Return")),(d.status==="Rejected"||d.status==="Return Confirmed"||d.status==="Return Rejected")&&h.createElement("p",{className:"px-4 py-2 text-gray-500 text-sm"},"Already ",d.status),h.createElement("button",{onClick:()=>f(d.id),className:"block w-full px-4 py-2 text-left text-red-600 hover:bg-gray-100"},"Remove"))))),t.length===0&&h.createElement("tr",null,h.createElement("td",{colSpan:7,className:"p-4 text-center text-gray-500"},"No orders found.")))))},Om=({children:t})=>{const e=xn(),n=ar(),r=[{name:"Dashboard",path:"/admin",icon:h.createElement(s6,{className:"w-5 h-5"})},{name:"Manage Products",path:"/admin/products",icon:h.createElement(Ua,{className:"w-5 h-5"})},{name:"Manage Orders",path:"/admin/orders",icon:h.createElement(Lp,{className:"w-5 h-5"})}],i=async()=>{try{await XS(Ur),n("/login")}catch(s){console.error("❌ Error logging out:",s)}};return h.createElement("div",{className:"min-h-screen bg-gray-100"},h.createElement("aside",{className:"fixed top-0 left-0 h-full w-72 bg-gradient-to-b from-blue-800 via-blue-700 to-purple-700 text-white flex flex-col"},h.createElement("div",{className:"p-6 border-b border-white/20"},h.createElement("h2",{className:"text-2xl font-bold tracking-wide"},"👑 Admin Panel")),h.createElement("nav",{className:"flex-1 p-6 space-y-3 overflow-y-auto"},r.map(s=>h.createElement(ie,{key:s.name,to:s.path,className:`flex items-center gap-3 px-4 py-3 rounded-lg font-medium transition-all duration-300 ${e.pathname===s.path?"bg-white text-blue-800 shadow-md":"hover:bg-white/10"}`},s.icon,s.name))),h.createElement("div",{className:"p-6 border-t border-white/20"},h.createElement("button",{onClick:i,className:"flex items-center gap-3 w-full px-4 py-3 rounded-lg bg-red-600 hover:bg-red-700 transition-colors"},h.createElement(iS,{className:"w-5 h-5"}),"Logout"))),h.createElement("div",{className:"ml-72 flex flex-col min-h-screen"},h.createElement("header",{className:"h-16 bg-white shadow flex items-center justify-between px-6"},h.createElement("h1",{className:"text-xl font-semibold text-gray-800"},"Admin Dashboard"),h.createElement("span",{className:"text-gray-500"},"Welcome, Admin 👋")),h.createElement("main",{className:"flex-1 p-8 overflow-y-auto"},t)))},Uj=()=>{const{id:t}=ky(),e=ar(),[n,r]=I.useState(null),[i,s]=I.useState(!1);if(I.useEffect(()=>{if(!t)return;(async()=>{try{const u=Nt(ge,"orders",t),f=await OR(u);f.exists()&&r({id:f.id,...f.data()})}catch(u){console.error("Error fetching order:",u)}})()},[t]),!n)return h.createElement("div",{className:"p-6 text-red-600"},"Loading order...");const o=(()=>{if(n.status!=="Accepted"||!n.rentalEndDate||isNaN(new Date(n.rentalEndDate).getTime()))return 0;const l=new Date,u=new Date(n.rentalEndDate);if(l<=u)return 0;const f=Math.floor((l.getTime()-u.getTime())/(1e3*60*60*24));let m=0;return f===1||f===2?m=f*1e3:f>2&&f<=14?m=f*2e3:f>14&&(m=n.productPrice),m})();return h.createElement("div",{className:"p-6 max-w-3xl mx-auto"},h.createElement("button",{onClick:()=>e(-1),className:"flex items-center gap-2 mb-6 px-4 py-2 bg-gradient-to-r from-blue-600 to-purple-600 text-white rounded-lg transition"},h.createElement(R4,{className:"w-4 h-4"}),"Back"),h.createElement("div",{className:"bg-white shadow-xl rounded-2xl overflow-hidden p-6"},n.productImage&&h.createElement("div",{className:"flex justify-center mb-4"},h.createElement("div",{className:"p-[2px] rounded-xl bg-gradient-to-r from-blue-600 to-purple-600"},h.createElement("img",{src:n.productImage,alt:n.productTitle,className:"w-52 h-64 object-contain rounded-lg shadow bg-white"}))),h.createElement("h2",{className:"text-2xl font-bold text-center mb-6 bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent"},n.productTitle),h.createElement("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 text-gray-700"},h.createElement(Zt,{icon:h.createElement(qy,null),label:"Customer",value:n.customer}),h.createElement(Zt,{icon:h.createElement(_s,null),label:"Email",value:n.email}),h.createElement(Zt,{icon:h.createElement(jy,null),label:"Mobile",value:n.mobile}),h.createElement(Zt,{icon:h.createElement(sS,null),label:"City",value:n.city}),h.createElement(Zt,{icon:h.createElement(eb,null),label:"Postal",value:n.postal}),h.createElement(Zt,{icon:h.createElement(eb,null),label:"Address",value:n.address}),n.rentalStartDate&&h.createElement(Zt,{icon:h.createElement(Ch,{className:"text-blue-600"}),label:"Rental Start",value:n.rentalStartDate}),n.rentalEndDate&&h.createElement(Zt,{icon:h.createElement(Ch,{className:"text-purple-600"}),label:"Rental End",value:n.rentalEndDate}),h.createElement(Zt,{label:"Duration",value:n.duration}),h.createElement(Zt,{label:"Status",value:h.createElement("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${n.status==="Pending"?"bg-yellow-100 text-yellow-700":n.status==="Accepted"?"bg-blue-100 text-blue-700":n.status.includes("Return")?"bg-purple-100 text-purple-700":"bg-gray-100 text-gray-700"}`},n.status)}),h.createElement(Zt,{label:"Payment",value:n.paymentMethod}),h.createElement(Zt,{label:"Total Price",value:h.createElement("span",{className:"font-bold text-green-600"},"Rs. ",n.productPrice)}),o>0&&h.createElement(Zt,{label:"Fine",value:h.createElement("span",{className:"text-red-600 font-semibold flex items-center gap-2 bg-red-50 px-2 py-1 rounded-md"},h.createElement(lS,{className:"w-4 h-4"})," Rs. ",o)})),n.paymentScreenshot&&h.createElement("div",{className:"mt-6 text-center"},h.createElement("h3",{className:"text-gray-700 font-semibold mb-2"},"Payment Screenshot"),h.createElement("div",{className:"p-[2px] rounded-xl bg-gradient-to-r from-blue-600 to-purple-600 inline-block"},h.createElement("img",{src:n.paymentScreenshot,alt:"Payment Screenshot",onClick:()=>s(!0),className:"w-full sm:w-80 h-60 object-contain rounded-lg shadow bg-white cursor-pointer hover:scale-105 transition"})))),i&&h.createElement("div",{className:"fixed inset-0 bg-black bg-opacity-80 flex items-center justify-center z-50"},h.createElement("button",{onClick:()=>s(!1),className:"absolute top-6 right-6 text-white text-3xl"},h.createElement(hS,{className:"w-8 h-8"})),h.createElement("img",{src:n.paymentScreenshot,alt:"Full Screenshot",className:"max-w-full max-h-[90vh] rounded-lg shadow-lg"})))},Zt=({icon:t,label:e,value:n})=>h.createElement("div",{className:"flex items-start gap-2 bg-gray-50 px-4 py-3 rounded-lg shadow-sm"},t&&h.createElement("span",{className:"text-gray-600"},t),h.createElement("div",null,h.createElement("p",{className:"text-sm font-semibold text-gray-600"},e),h.createElement("p",{className:"text-gray-800"},n))),Bj=()=>{const[t,e]=I.useState([]),[n,r]=I.useState("");I.useEffect(()=>{const a=Cn(kt(ge,"users"),o=>{const l=o.docs.map(u=>{const f=u.data();return{uid:u.id,email:f.email||"N/A",name:f.name||"N/A",phone:f.phone||"N/A",city:f.city||"N/A",address:f.address||"N/A",postalCode:f.postalCode||"N/A"}});e(l)});return()=>a()},[]);const i=async a=>{if(window.confirm("Are you sure you want to delete this user?"))try{await Qf(Nt(ge,"users",a)),alert("✅ User deleted successfully!")}catch(o){console.error("Error deleting user:",o),alert("❌ Failed to delete user.")}},s=t.filter(a=>{var o,l;return((o=a.name)==null?void 0:o.toLowerCase().includes(n.toLowerCase()))||((l=a.email)==null?void 0:l.toLowerCase().includes(n.toLowerCase()))});return h.createElement("div",{className:"p-6 bg-gray-100 min-h-screen"},h.createElement("h1",{className:"text-3xl font-bold mb-6"},"All Users"),h.createElement("div",{className:"mb-6"},h.createElement("input",{type:"text",placeholder:"Search by name or email...",value:n,onChange:a=>r(a.target.value),className:"w-full max-w-md px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})),h.createElement("table",{className:"w-full bg-white rounded-xl shadow-lg overflow-hidden"},h.createElement("thead",{className:"bg-blue-700 text-white"},h.createElement("tr",null,h.createElement("th",{className:"py-3 px-4 text-left"},"Name"),h.createElement("th",{className:"py-3 px-4 text-left"},"Email"),h.createElement("th",{className:"py-3 px-4 text-left"},"Phone"),h.createElement("th",{className:"py-3 px-4 text-left"},"City"),h.createElement("th",{className:"py-3 px-4 text-left"},"Postal Code"),h.createElement("th",{className:"py-3 px-4 text-center w-20"},"Actions"))),h.createElement("tbody",null,s.map(a=>h.createElement("tr",{key:a.uid,className:"border-b hover:bg-gray-50 transition"},h.createElement("td",{className:"py-2 px-4"},a.name),h.createElement("td",{className:"py-2 px-4"},a.email),h.createElement("td",{className:"py-2 px-4"},a.phone),h.createElement("td",{className:"py-2 px-4"},a.city),h.createElement("td",{className:"py-2 px-4"},a.postalCode),h.createElement("td",{className:"py-2 px-4 text-center"},h.createElement("button",{onClick:()=>i(a.uid),className:"text-red-600 hover:text-red-800 transition",title:"Delete User"},h.createElement(M6,{className:"h-5 w-5 inline"}))))))))},Wl={_origin:"https://api.emailjs.com"},zj=(t,e="https://api.emailjs.com")=>{Wl._userID=t,Wl._origin=e},AC=(t,e,n)=>{if(!t)throw"The user ID is required. Visit https://dashboard.emailjs.com/admin/integration";if(!e)throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!n)throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates";return!0};class Kw{constructor(e){this.status=e.status,this.text=e.responseText}}const SC=(t,e,n={})=>new Promise((r,i)=>{const s=new XMLHttpRequest;s.addEventListener("load",({target:a})=>{const o=new Kw(a);o.status===200||o.text==="OK"?r(o):i(o)}),s.addEventListener("error",({target:a})=>{i(new Kw(a))}),s.open("POST",Wl._origin+t,!0),Object.keys(n).forEach(a=>{s.setRequestHeader(a,n[a])}),s.send(e)}),jj=(t,e,n,r)=>{const i=r||Wl._userID;return AC(i,t,e),SC("/api/v1.0/email/send",JSON.stringify({lib_version:"3.2.0",user_id:i,service_id:t,template_id:e,template_params:n}),{"Content-type":"application/json"})},Fj=t=>{let e;if(typeof t=="string"?e=document.querySelector(t):e=t,!e||e.nodeName!=="FORM")throw"The 3rd parameter is expected to be the HTML form element or the style selector of form";return e},qj=(t,e,n,r)=>{const i=r||Wl._userID,s=Fj(n);AC(i,t,e);const a=new FormData(s);return a.append("lib_version","3.2.0"),a.append("service_id",t),a.append("template_id",e),a.append("user_id",i),SC("/api/v1.0/email/send-form",a)},Hj={init:zj,send:jj,sendForm:qj},Gj=()=>{const[t,e]=I.useState([]),[n,r]=I.useState(null),[i,s]=I.useState(""),[a,o]=I.useState("all"),[l,u]=I.useState(""),[f,m]=I.useState(null);I.useEffect(()=>{const _=Cn(kt(ge,"contacts"),S=>{let v=S.docs.map(b=>({id:b.id,...b.data()}));v=v.sort((b,E)=>{var L,A;const N=(L=b.createdAt)!=null&&L.toDate?b.createdAt.toDate().getTime():0;return((A=E.createdAt)!=null&&A.toDate?E.createdAt.toDate().getTime():0)-N}),e(v)});return()=>_()},[]);const d=async()=>{if(!(!n||!i.trim()))try{const _=Nt(ge,"contacts",n.id);await ds(_,{status:"Replied",adminReply:i,repliedBy:"za0389188@gmail.com"});const S={to_email:n.email,to_name:n.name,reply_message:i,from_admin:"za0389188@gmail.com"};await Hj.send("service_5ygrhdc","template_ww5ae8m",S,"n04UF7IbGu3RvjBYI"),alert("Reply stored and email sent ✅"),r(null),s("")}catch(_){console.error("Error replying:",_),alert("Failed ❌")}},y=async _=>{if(m(_),!_.status||_.status==="Pending")try{const S=Nt(ge,"contacts",_.id);await ds(S,{status:"Read"})}catch(S){console.error("Error marking as read:",S)}},x=t.filter(_=>{const S=a==="all"?!0:a==="pending"?!_.status||_.status==="Pending"||_.status==="Read":_.status==="Replied",v=_.email.toLowerCase().includes(l.toLowerCase());return S&&v});return h.createElement("div",{className:"min-h-screen bg-gray-50 p-8"},h.createElement("h1",{className:"text-3xl font-extrabold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent mb-6"},"User Messages"),h.createElement("div",{className:"flex flex-wrap items-center gap-3 mb-6"},["all","pending","replied"].map(_=>h.createElement("button",{key:_,onClick:()=>o(_),className:`px-4 py-2 rounded-full text-sm font-medium transition ${a===_?"bg-gradient-to-r from-blue-600 to-purple-600 text-white shadow-md":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`},_.charAt(0).toUpperCase()+_.slice(1))),h.createElement("input",{type:"text",placeholder:"Search by email...",value:l,onChange:_=>u(_.target.value),className:"flex-1 px-4 py-2 border rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500"})),h.createElement("div",{className:"bg-white shadow-lg rounded-lg p-6 overflow-x-auto"},x.length===0?h.createElement("p",{className:"text-gray-500"},"No messages found."):h.createElement("table",{className:"w-full border rounded-lg overflow-hidden"},h.createElement("thead",null,h.createElement("tr",{className:"bg-gray-100 text-left text-gray-700 text-sm"},h.createElement("th",{className:"p-3"},"Name"),h.createElement("th",{className:"p-3"},"Email"),h.createElement("th",{className:"p-3"},"Subject"),h.createElement("th",{className:"p-3"},"Message"),h.createElement("th",{className:"p-3"},"Date"),h.createElement("th",{className:"p-3"},"Status"),h.createElement("th",{className:"p-3"},"Action"))),h.createElement("tbody",null,x.map(_=>{var v;const S=!_.status||_.status==="Pending";return h.createElement("tr",{key:_.id,className:`border-t hover:bg-gray-50 transition ${S?"bg-blue-50 font-semibold":""}`},h.createElement("td",{className:"p-3"},_.name),h.createElement("td",{className:"p-3"},_.email),h.createElement("td",{className:"p-3"},_.subject),h.createElement("td",{className:"p-3 max-w-xs"},h.createElement("p",{className:"truncate max-w-[200px]"},_.message),h.createElement("button",{onClick:()=>y(_),className:"text-blue-600 text-sm hover:underline"},"View")),h.createElement("td",{className:"p-3"},(v=_.createdAt)!=null&&v.toDate?_.createdAt.toDate().toLocaleString():"—"),h.createElement("td",{className:"p-3"},h.createElement("span",{className:`px-2 py-1 rounded-full text-xs font-semibold ${_.status==="Replied"?"bg-green-100 text-green-700":_.status==="Read"?"bg-blue-100 text-blue-700":"bg-yellow-100 text-yellow-700"}`},_.status||"Pending")),h.createElement("td",{className:"p-3"},h.createElement("button",{onClick:()=>r(_),className:"px-4 py-1 text-sm font-medium rounded-full bg-gradient-to-r from-blue-600 to-purple-600 text-white hover:shadow-md transition"},"Reply")))})))),f&&h.createElement("div",{className:"fixed inset-0 bg-black bg-opacity-40 flex items-center justify-center z-50"},h.createElement("div",{className:"bg-white rounded-2xl shadow-xl w-[500px] max-h-[80vh] overflow-y-auto p-6 animate-fadeIn"},h.createElement("h2",{className:"text-2xl font-bold mb-3 bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent"},"Message from ",f.name),h.createElement("p",{className:"text-gray-600 mb-2"},h.createElement("strong",null,"Email:")," ",f.email),h.createElement("p",{className:"text-gray-800 whitespace-pre-line leading-relaxed"},f.message),h.createElement("div",{className:"flex justify-end mt-6"},h.createElement("button",{onClick:()=>m(null),className:"px-5 py-2 bg-gray-500 text-white rounded-lg hover:bg-gray-600"},"Close")))),n&&h.createElement("div",{className:"fixed inset-0 bg-black bg-opacity-40 flex items-center justify-center z-50"},h.createElement("div",{className:"bg-white rounded-2xl shadow-xl w-[500px] p-6 animate-fadeIn"},h.createElement("h2",{className:"text-2xl font-bold mb-4 bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent"},"Reply to ",n.name),h.createElement("textarea",{className:"w-full border rounded-lg p-3 mb-4 focus:ring-2 focus:ring-blue-500",rows:5,value:i,onChange:_=>s(_.target.value),placeholder:"Type your reply here..."}),h.createElement("div",{className:"flex justify-end gap-3"},h.createElement("button",{onClick:()=>r(null),className:"px-5 py-2 bg-gray-400 text-white rounded-lg hover:bg-gray-500"},"Cancel"),h.createElement("button",{onClick:d,className:"px-5 py-2 bg-gradient-to-r from-blue-600 to-purple-600 text-white rounded-lg hover:shadow-lg"},"Send Reply")))))};function $j(){const e=xn().pathname.startsWith("/admin");return h.createElement("div",{className:"min-h-screen bg-white"},!e&&h.createElement(IU,null),h.createElement("main",null,h.createElement(qM,null,h.createElement(tt,{path:"/login",element:h.createElement(dj,null)}),h.createElement(tt,{path:"/signup",element:h.createElement(mj,null)}),h.createElement(tt,{path:"/",element:h.createElement(Pt,null,h.createElement(Aj,null))}),h.createElement(tt,{path:"/shop",element:h.createElement(Pt,null,h.createElement(Sj,null))}),h.createElement(tt,{path:"/product/:id",element:h.createElement(Pt,null,h.createElement(Rj,null))}),h.createElement(tt,{path:"/rent/:id",element:h.createElement(Pt,null,h.createElement(Vj,null))}),h.createElement(tt,{path:"/wishlist",element:h.createElement(Pt,null,h.createElement(Mj,null))}),h.createElement(tt,{path:"/profile",element:h.createElement(Pt,null,h.createElement(Nj,null))}),h.createElement(tt,{path:"/about",element:h.createElement(Pt,null,h.createElement(Cj,null))}),h.createElement(tt,{path:"/policies",element:h.createElement(Pt,null,h.createElement(Ij,null))}),h.createElement(tt,{path:"/contact",element:h.createElement(Pt,null,h.createElement(Dj,null))}),h.createElement(tt,{path:"/blog",element:h.createElement(Pt,null,h.createElement(Pj,null))}),h.createElement(tt,{path:"/admin/messages",element:h.createElement(Gj,null)}),h.createElement(tt,{path:"/admin",element:h.createElement(Pt,{requireAdmin:!0},h.createElement(Om,null,h.createElement(kj,null)))}),h.createElement(tt,{path:"/admin/products",element:h.createElement(Pt,{requireAdmin:!0},h.createElement(Om,null,h.createElement(Oj,null)))}),h.createElement(tt,{path:"/admin/orders",element:h.createElement(Pt,{requireAdmin:!0},h.createElement(Om,null,h.createElement(Lj,null)))}),h.createElement(tt,{path:"/admin/order/:id",element:h.createElement(Pt,{requireAdmin:!0},h.createElement(Uj,null))}),h.createElement(tt,{path:"/admin/users",element:h.createElement(Pt,{requireAdmin:!0},h.createElement(Bj,null))}))),!e&&h.createElement(DU,null))}function Kj(){return h.createElement(HR,null,h.createElement(GR,null,h.createElement(CU,null,h.createElement(f4,null,h.createElement($j,null)))))}JP.createRoot(document.getElementById("root")).render(h.createElement(I.StrictMode,null,h.createElement(HR,null,h.createElement(GR,null," ",h.createElement(Kj,null)))));
